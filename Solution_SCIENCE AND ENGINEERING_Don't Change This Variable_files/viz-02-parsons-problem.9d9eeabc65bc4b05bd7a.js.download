(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[141,183],{273:function(e,t,n){"use strict";n.r(t);var o=n(736);var i=n(757);var s=n.n(i);var r=n(838);t["default"]=Object(o["a"])({modes:{puzzle:{module:i["Elm"].ParsonsProblem.PuzzleMode,validInteractiveTypes:["submittable"],afterInitializing:r["default"]},static:{module:i["Elm"].ParsonsProblem.StaticMode,validInteractiveTypes:["playground"]},solution:{module:i["Elm"].ParsonsProblem.SolutionMode,validInteractiveTypes:["playground"]}}})},736:function(e,t,n){"use strict";let o=null;function i(e){if(e.ports.touchMoved){e.ports.touchMoved.subscribe(({x:e,y:t,searchClass:n})=>{const i=document.elementsFromPoint(e,t);const s=i.filter(e=>e.classList.contains(n));if(s.length>=1){const e=s[0];if(o!==e){e.dispatchEvent(new Event("touchenter"));if(o!==null){o.dispatchEvent(new Event("touchleave"))}o=e}}else{if(o!==null){o.dispatchEvent(new Event("touchleave"))}o=null}})}}var s=n(756);var r=n(7);var a=n(1);var l=n(764);n.d(t,"a",(function(){return u}));if(false){}function c(e){return e==="submittable"||e==="auto-check"?e:null}function u(e){const t=t=>d(t,e);if(Object.values(e.modes).some(b)){const n=(t,n)=>v(t,n,e);return{createInteractive:t,createInteractiveSolvable:n}}return{createInteractive:t}}function d(e,{modes:t}){const n=t[e.data.mode||"default"];const[o,i]=p(n,e,"playground");return i}function v(e,t,{modes:n}){const o=n[e.data.mode||"default"];if(!o){throw new Error(`${o} is not a valid mode for this type of interactive.`)}const i=o.validInteractiveTypes.reduce((e,t)=>{const n=c(t);if(n!==null){e.push(n)}return e},[]);let s;if(i.length===0){throw new Error("This is not a solvable interactive.")}else if(i.length===1){s=i[0]}else{const t=c(e.data.solvableType);if(!e.data.solvableType){throw new Error(`This interactive can be either Submittable or Auto-Checked.\n        Please select one in the configuration for this interactive.`)}else if(t===null){throw new Error(`${e.data.solvableType} is not a valid type for an Interactive Solvable.\n        Please make sure that the 'solvableType' attribute is set to 'auto-check' or 'submittable'.`)}else{s=t}}const[r,a]=p(o,e,s,{hasBeenSolved:t.hasBeenSolved});r.ports.solvableOut.subscribe(e=>E(t,e));return Object.assign({solvableType:s,checkAnswerPressed:()=>r.ports.solvableIn.send("checkAnswerPressed"),resetPressed:()=>r.ports.solvableIn.send("resetPressed")},a)}const f=["Macintosh","MacIntel","MacPPC","Mac68K"];function p(e,t,n,o){const r=document.getElementById(t.visualizationKey);if(!r){throw new Error(`No element found at ${t.visualizationKey}`)}else{r.innerHTML="";r.classList.add("viz-elm");r.classList.add("notranslate");const a=document.createElement("div");r.append(a);const l=f.includes(window.navigator.platform)?"cmd":"ctrl";const c=Object.assign(Object.assign(Object.assign(Object.assign({},t),{interactiveType:n}),o),{mainModifierKey:l,initialWidth:Math.floor(a.getBoundingClientRect().width)});const u=Object.assign(Object.assign({},e.module.init({flags:c,node:a})),{root:r});Object(s["setupAnalytics"])(u,t.slug);m(u,t.visualizationKey);h(u,t.onError);if(e.usesDandy){i(u)}let d=null;if(e.afterInitializing){d=e.afterInitializing(u)}const v=()=>{u.ports.kill.send(null);if(d){d()}};return[u,{kill:v}]}}function b(e){return e.validInteractiveTypes.includes("auto-check")||e.validInteractiveTypes.includes("submittable")}function m(e,t){a["$window"].on(r["EVT_QUIZ_POSITION_WILL_CHANGE"],()=>{e.ports.problemContainerEvents.send({eventType:"quizPositionWillChange"})});a["$window"].on(r["EVT_DAILYPROBLEM_MAINBODY_EXPANDED"],()=>{e.ports.problemContainerEvents.send({eventType:"dailyChallengeMainBodyExpanded"})})}function h(e,t){e.ports.loadingFailed.subscribe(e=>{if(t){t(new Error(e))}else{throw new Error(e)}})}function E({callbacks:e},t){switch(t.type){case"setCaption":e.setCaption(t.caption);break;case"saveState":e.saveState(t.state,t.solved);break;case"setSubmitButtonEnabled":e.setSubmitButtonEnabled(t.enabled);break;case"setResetButtonEnabled":e.setResetButtonEnabled(t.enabled);break}}},838:function(e,t,n){"use strict";n.r(t);n.d(t,"default",(function(){return m}));var o=n(865);var i=n.n(o);const s="dandy-draggable";const r="dandy-dragging";const a=".dandy-base";let l=null;function c(e,t,n){const o=e.querySelectorAll(".dandyDropBeacon");const i=l;let s=null;for(let e=0;e<o.length;e++){const i=o[e];const{left:r,right:a,top:c,bottom:u}=i.getBoundingClientRect();const d=(r+a)/2;const v=(c+u)/2;const f=Math.pow(t-d,2)+Math.pow(n-v,2);if(!s||f<s){s=f;l=i}}if(l&&l!==i){l.dispatchEvent(new Event("closestbeacon"))}}function u(e){const t=e;if(!t.currentTarget||!t.isPrimary||t.button!==0){return}const{left:n,top:o}=t.currentTarget.getBoundingClientRect();const i=t.clientX-n;const s=t.clientY-o;const r=new CustomEvent("dandydown",{detail:{clientX:t.clientX,clientY:t.clientY,offsetX:i,offsetY:s}});t.currentTarget.dispatchEvent(r);t.stopPropagation();t.preventDefault()}function d(e){e.preventDefault()}function v(e){if(!(e instanceof Element)){return}const t=e=>{e.addEventListener("pointerdown",u);e.addEventListener("touchstart",d)};const n=e.querySelectorAll(`[${s}]`);if(e.hasAttribute(s)){t(e)}n.forEach(t)}function f(e,t){if(t===s){if(e.getAttribute(s)==="true"){e.addEventListener("pointerdown",u);e.addEventListener("touchstart",d)}else{e.removeEventListener("pointerdown",u);e.removeEventListener("touchstart",d)}}}let p=null;function b(e,t,n){const o=p;const i=document;let s=[];if(i.elementsFromPoint){s=document.elementsFromPoint(t,n)}else if(i.msElementsFromPoint){const e=Array.from(i.msElementsFromPoint(t,n));s=e}p=null;for(const e of s){const t=e.classList.contains("dandyDropZone");if(t){p=e;break}}if(p!==o){if(p){p.dispatchEvent(new Event("dropZoneChanged"))}else{e.ports.dandyNoDropZone.send({})}}}function m(e){if(!e.ports.dandyPointerEvents){return()=>{}}const t=new MutationObserver(e=>{e.forEach(e=>{if(e.type==="childList"){e.addedNodes.forEach(v)}else if(e.type==="attributes"){f(e.target,e.attributeName)}})});t.observe(e.root,{subtree:true,childList:true,attributes:true,attributeOldValue:true,attributeFilter:[s]});v(e.root);function n(t){const n=e.root.querySelector(a);const o=n&&n.getAttribute(r)==="true";if(o&&t.isPrimary){e.ports.dandyPointerEvents.send(t);c(e.root,t.clientX,t.clientY)}b(e,t.clientX,t.clientY)}document.addEventListener("pointermove",n);function o(t){if(t.isPrimary){l=null;e.ports.dandyPointerEvents.send(t)}b(e,t.clientX,t.clientY)}document.addEventListener("pointerup",o);document.addEventListener("pointercancel",o);const i=()=>{document.removeEventListener("pointermove",n);document.removeEventListener("pointerup",o);document.removeEventListener("pointercancel",o)};return i}function h(e,t){let n=null;const o=[];const i=[];while(true){n=document.elementFromPoint(e,t);if(!n||n===document.documentElement){break}o.push(n);i.push(n.style.visibility);n.style.visibility="hidden"}for(let e=0;e<o.length;e+=1){o[e].style.visibility=i[e]}o.reverse();return o}}}]);
//# sourceMappingURL=viz-02-parsons-problem.9d9eeabc65bc4b05bd7a.js.map