(function(e){function t(t){var a=t[0];var i=t[1];var s=t[2];var l,c,u=0,d=[];for(;u<a.length;u++){c=a[u];if(r[c]){d.push(r[c][0])}r[c]=0}for(l in i){if(Object.prototype.hasOwnProperty.call(i,l)){e[l]=i[l]}}if(f)f(t);while(d.length){d.shift()()}o.push.apply(o,s||[]);return n()}function n(){var e;for(var t=0;t<o.length;t++){var n=o[t];var a=true;for(var i=1;i<n.length;i++){var s=n[i];if(r[s]!==0)a=false}if(a){o.splice(t--,1);e=l(l.s=n[0])}}return e}var a={};var i={20:0,26:0};var r={20:0,26:0};var o=[];function s(e){return l.p+""+({0:"viz-02-calcdoku-viz-02-drone-game-viz-02-grid-fill-viz-02-logic-circuit-viz-02-neural-networks-viz-0-cd757c6d",1:"vendors-viz-02-canvas-viz-02-cs-one-offs-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-greedy--699476ac",2:"vendors-viz-02-calcdoku-viz-02-grid-fill-viz-02-neural-networks-viz-02-number-bunchers-viz-02-order--bb0441d0",3:"vendors-viz-02-canvas-viz-02-coinflip-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-huygens-cl-377bd783",4:"vendors-viz-02-escher-viz-02-graph-viz-02-greedy-scheduler-viz-02-operator-search-viz-02-quantum-circuit",5:"vendors-viz-02-escher-viz-02-graph-viz-02-javascript-viz-02-operator-search-viz-02-quantum-circuit",7:"vendors-d3-nux-d3-stats-viz-02-escher-viz-02-graph",8:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",9:"viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",11:"vendors-d3-stats-viz-02-escher-viz-02-graph",12:"vendors-viz-02-escher-viz-02-parsons-problem",13:"viz-02-escher-viz-02-graph",17:"admin",26:"codemirror",46:"logic-circuit-css",71:"vendors-codemirror",72:"vendors-d3-nux",73:"vendors-viz-02-coinflip",74:"vendors-viz-02-escher",75:"vendors-viz-02-quantum-circuit",78:"viz-02-calcdoku",79:"viz-02-canvas",80:"viz-02-coinflip",81:"viz-02-cs-one-offs",82:"viz-02-drone-game",83:"viz-02-escher",84:"viz-02-graph",85:"viz-02-greedy-scheduler",86:"viz-02-grid-fill",87:"viz-02-huygens-clock",88:"viz-02-javascript",89:"viz-02-logic-circuit",90:"viz-02-neural-networks",91:"viz-02-number-bunchers",92:"viz-02-operator-search",93:"viz-02-order-logic",94:"viz-02-parsons-problem",95:"viz-02-quantum-circuit",96:"viz-02-sherlock-search"}[e]||e)+"."+{0:"f3a06ab5460a19a7d2bc",1:"9de8b292eaf2ae453a01",2:"ea3028b63c6900a11d3b",3:"7adc086efea1c2918162",4:"6fd3aad775d0a1e5e43d",5:"157cba297ad40909220e",6:"1b7f95e190180c170e10",7:"64921de4fcae314d7dbc",8:"2b49c3d42e25c05b1687",9:"3bfdc7f558554ac464b2",10:"efa004bad5b34fe1ba8e",11:"ce31c5d16320b2879136",12:"ff326701641d22f07b97",13:"7a1fadec1346d2713ac1",17:"83974a54662c4435b8ab",26:"50133b5690df5a3b3763",46:"0f559ace04d564b5b343",71:"4bd485b3535cbeb18ba3",72:"75f8c99a76645da9b19b",73:"c3c64dd5b4f8b4a0c6d0",74:"574b440a5a62a397dc64",75:"56e50637966f1c7d632c",78:"ad658d72d21285258ebd",79:"baee1c66045746a0ee4d",80:"2dd3e6a728c56c3efc6a",81:"36bc7b2dab1e17f0b7bd",82:"b31bc8f5b81d2a06bbd6",83:"b32cc7ca5be5f8d42795",84:"cebe4c0ff96257ce68b8",85:"4d27d3f6d055b9a3d275",86:"978147636b2441f67160",87:"72114066139e7f0cb509",88:"91f461ca92cca44bfc04",89:"c65d3a99ec4e65a53953",90:"b51293e6cd11b7c5f685",91:"5300bd6019c9e23f9692",92:"6de4a9599aff67288448",93:"0eb30662aa010cc622d7",94:"f96f78e02d650a0996e7",95:"1490476f4ff5d56f270b",96:"97232398142875491d73",106:"9f96e27cdeb8bec9db64",107:"9dbbe3859bdfcc842544",108:"276edebbfd214b347e5b",109:"c4206e849d0f1bd02971",110:"735dbf52aaced9a75983",111:"76b25de64aee93056b20",112:"04449d53ab1b198bcc9a",113:"de71352c0635fcb0ef6a",114:"96e034ee85da7ca87f80",115:"47e12fe949b1c0d5de33",116:"ccbf624fe199bdaf7852",117:"5571c14b868709f6ed51",118:"80ab1250aab5c21edd7c"}[e]+".js"}function l(t){if(a[t]){return a[t].exports}var n=a[t]={i:t,l:false,exports:{}};e[t].call(n.exports,n,n.exports,l);n.l=true;return n.exports}l.e=function e(t){var n=[];var a={46:1,110:1,111:1,112:1,113:1,114:1,115:1,116:1,117:1};if(i[t])n.push(i[t]);else if(i[t]!==0&&a[t]){n.push(i[t]=new Promise((function(e,n){var a=""+({0:"viz-02-calcdoku-viz-02-drone-game-viz-02-grid-fill-viz-02-logic-circuit-viz-02-neural-networks-viz-0-cd757c6d",1:"vendors-viz-02-canvas-viz-02-cs-one-offs-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-greedy--699476ac",2:"vendors-viz-02-calcdoku-viz-02-grid-fill-viz-02-neural-networks-viz-02-number-bunchers-viz-02-order--bb0441d0",3:"vendors-viz-02-canvas-viz-02-coinflip-viz-02-drone-game-viz-02-escher-viz-02-graph-viz-02-huygens-cl-377bd783",4:"vendors-viz-02-escher-viz-02-graph-viz-02-greedy-scheduler-viz-02-operator-search-viz-02-quantum-circuit",5:"vendors-viz-02-escher-viz-02-graph-viz-02-javascript-viz-02-operator-search-viz-02-quantum-circuit",7:"vendors-d3-nux-d3-stats-viz-02-escher-viz-02-graph",8:"vendors-viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",9:"viz-02-canvas-viz-02-escher-viz-02-graph-viz-02-huygens-clock",11:"vendors-d3-stats-viz-02-escher-viz-02-graph",12:"vendors-viz-02-escher-viz-02-parsons-problem",13:"viz-02-escher-viz-02-graph",17:"admin",26:"codemirror",46:"logic-circuit-css",71:"vendors-codemirror",72:"vendors-d3-nux",73:"vendors-viz-02-coinflip",74:"vendors-viz-02-escher",75:"vendors-viz-02-quantum-circuit",78:"viz-02-calcdoku",79:"viz-02-canvas",80:"viz-02-coinflip",81:"viz-02-cs-one-offs",82:"viz-02-drone-game",83:"viz-02-escher",84:"viz-02-graph",85:"viz-02-greedy-scheduler",86:"viz-02-grid-fill",87:"viz-02-huygens-clock",88:"viz-02-javascript",89:"viz-02-logic-circuit",90:"viz-02-neural-networks",91:"viz-02-number-bunchers",92:"viz-02-operator-search",93:"viz-02-order-logic",94:"viz-02-parsons-problem",95:"viz-02-quantum-circuit",96:"viz-02-sherlock-search"}[t]||t)+"."+{0:"f3a06ab5460a19a7d2bc",1:"9de8b292eaf2ae453a01",2:"ea3028b63c6900a11d3b",3:"7adc086efea1c2918162",4:"6fd3aad775d0a1e5e43d",5:"157cba297ad40909220e",6:"1b7f95e190180c170e10",7:"64921de4fcae314d7dbc",8:"2b49c3d42e25c05b1687",9:"3bfdc7f558554ac464b2",10:"efa004bad5b34fe1ba8e",11:"ce31c5d16320b2879136",12:"ff326701641d22f07b97",13:"7a1fadec1346d2713ac1",17:"83974a54662c4435b8ab",26:"50133b5690df5a3b3763",46:"0f559ace04d564b5b343",71:"4bd485b3535cbeb18ba3",72:"75f8c99a76645da9b19b",73:"c3c64dd5b4f8b4a0c6d0",74:"574b440a5a62a397dc64",75:"56e50637966f1c7d632c",78:"ad658d72d21285258ebd",79:"baee1c66045746a0ee4d",80:"2dd3e6a728c56c3efc6a",81:"36bc7b2dab1e17f0b7bd",82:"b31bc8f5b81d2a06bbd6",83:"b32cc7ca5be5f8d42795",84:"cebe4c0ff96257ce68b8",85:"4d27d3f6d055b9a3d275",86:"978147636b2441f67160",87:"72114066139e7f0cb509",88:"91f461ca92cca44bfc04",89:"c65d3a99ec4e65a53953",90:"b51293e6cd11b7c5f685",91:"5300bd6019c9e23f9692",92:"6de4a9599aff67288448",93:"0eb30662aa010cc622d7",94:"f96f78e02d650a0996e7",95:"1490476f4ff5d56f270b",96:"97232398142875491d73",106:"9f96e27cdeb8bec9db64",107:"9dbbe3859bdfcc842544",108:"276edebbfd214b347e5b",109:"c4206e849d0f1bd02971",110:"735dbf52aaced9a75983",111:"76b25de64aee93056b20",112:"04449d53ab1b198bcc9a",113:"de71352c0635fcb0ef6a",114:"96e034ee85da7ca87f80",115:"47e12fe949b1c0d5de33",116:"ccbf624fe199bdaf7852",117:"5571c14b868709f6ed51",118:"80ab1250aab5c21edd7c"}[t]+".css";var r=l.p+a;var o=document.getElementsByTagName("link");for(var s=0;s<o.length;s++){var c=o[s];var u=c.getAttribute("data-href")||c.getAttribute("href");if(c.rel==="stylesheet"&&(u===a||u===r))return e()}var d=document.getElementsByTagName("style");for(var s=0;s<d.length;s++){var c=d[s];var u=c.getAttribute("data-href");if(u===a||u===r)return e()}var f=document.createElement("link");f.rel="stylesheet";f.type="text/css";f.onload=e;f.onerror=function(e){var a=e&&e.target&&e.target.src||r;var o=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED";o.request=a;delete i[t];f.parentNode.removeChild(f);n(o)};f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){i[t]=0})))}var o=r[t];if(o!==0){if(o){n.push(o[2])}else{var c=new Promise((function(e,n){o=r[t]=[e,n]}));n.push(o[2]=c);var u=document.createElement("script");var d;u.charset="utf-8";u.timeout=120;if(l.nc){u.setAttribute("nonce",l.nc)}u.src=s(t);var f=new Error;d=function(e){u.onerror=u.onload=null;clearTimeout(p);var n=r[t];if(n!==0){if(n){var a=e&&(e.type==="load"?"missing":e.type);var i=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+a+": "+i+")";f.name="ChunkLoadError";f.type=a;f.request=i;n[1](f)}r[t]=undefined}};var p=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d;document.head.appendChild(u)}}return Promise.all(n)};l.m=e;l.c=a;l.d=function(e,t,n){if(!l.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};l.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};l.t=function(e,t){if(t&1)e=l(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);l.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n};l.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};l.d(t,"a",t);return t};l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};l.p="/site_media/build/dist/";l.oe=function(e){console.error(e);throw e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[];var u=c.push.bind(c);c.push=t;c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=u;o.push([807,24]);return n()})({100:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function r(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}function o(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var s=n(28);s.__defineMacro("\\si",l);s.__defineMacro("\\SI",c);s.__defineMacro("\\num",u);s.__defineMacro("\\ang",d);s.__defineMacro("\\tothe","^{#1}");function l(e){var t=p(e,2);f(t,1,2);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,1);var a=y(t[0],n);return a}function c(e){var t=p(e,4);f(t,2,4);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,2);var a=m(t[0]);t=t.slice(1);f(t,1);var i="";i+="".concat(y(t[0],n));t=t.slice(1);if(t.length!=0){i+=" ".concat(a,"\\ ").concat(y(t[0],n))}else{i="".concat(a,"\\ ").concat(i)}return i}function u(e){var t=p(e,2);f(t,1,2);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,1);var a=m(t[0]);return"{ ".concat(a," }")}function d(e){var t=p(e,2);f(t,1,2);var n={};if(t[0].optional===true){n=v(t[0]);t=t.slice(1)}f(t,1);var a="".concat(m(t[0])," \\degree");return a}function f(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;if(e.length<t||e.length>n){throw"Unexpected number of arguments."}}function p(e,t){var n=[];var a=[];var i=0;var r=e.future();while(r&&r.text!="EOF"){if(a.length>t){throw"Unexpected argument."}r=e.future();switch(r.text){case"[":case"{":if(i!=0){n.push({token:r.text,type:w.LITERAL})}else{n.optional=r.text=="["}++i;break;case"]":case"}":--i;if(i<0){return a}else if(i!=0){n.push({token:r.text,type:w.LITERAL})}else{a.push(n);n=[]}break;case"\\num":if(i==0){return a}break;default:if(i==0){return a}else{n.push(_(r.text))}break}e.popToken()}return a}function v(e){var t=e.map((function(e){return e.token})).join("");var n=t.split("=");if(n.length!=2){throw"Unexpected option."}return o({},n[0].trim(),n[1].trim().toLowerCase())}function h(e,t){if(e.length<4){return e}if(!t){e.reverse()}var n=[];for(var a=0;a<e.length;++a){if(a!=0&&a%3==0){n.push("\\,")}n.push(e[a])}return t?n:n.reverse()}function m(e){var t=false;var n=false;var a=[];var i=[];e.forEach((function(e){if(e.token.length>1){i.push(e.token);return}if(e.token===","){return}var r=e.token.charCodeAt(0);if(r>=48&&r<=57){a.push(e.token)}else{if(a.length!=0){i.push(h(a,n).join(""));a=[]}switch(e.token){case"e":case"E":t=true;if(i.length!=0){i.push("\\times")}i.push("10^{");break;case".":n=true;default:i.push(e.token);break}}}));if(a.length!=0){i.push(h(a,n).join(""))}if(t){i.push("}")}return i.join(" ")}var g=function(){function e(t){a(this,e);this.tokens=t;this.idx=-1}r(e,[{key:"peek",value:function e(){var t=this.idx+1;return t<this.tokens.length?this.tokens[t]:null}},{key:"remember",value:function e(){var t=this.idx-1;return t>=0?this.tokens[t]:null}},{key:"next",value:function e(){var t=this.peek();if(t){++this.idx}return t}}]);return e}();function y(e,t){var n=[];var a=[];var i=new g(e);var r=t["per-mode"]==="symbol";var o=t["per-mode"]==="pedagogical";var s=false;var l=i.next();while(l){var c="";var u=null;switch(l.type){case w.PER:s=true;l=i.next();continue;case w.PREFIX:u=i.next();if(!u||u.type!=w.UNIT&&u.type!=w.LITERAL){throw'Unit expected after prefix "'.concat(l.token,'" but got "').concat(u.token,'".')}c+=l.text===false?l.token:"\\text{".concat(l.token,"}");l=u;case w.UNIT:c+=l.text===false?l.token:"\\text{".concat(l.token,"}");u=i.peek();var d=true;if(u&&u.type==w.POWER_SUFFIX){if(!s||r){c+="^{".concat(u.power,"}")}else{c+="^{".concat(u.power*-1,"}")}d=false;l=i.next()}else if(s){if(!r){c+="^{-1}";d=false}}u=i.peek();if(!u){d=false}else if(u.type==w.PER){d=d&&(!r||s)}else if(b(u.token)){d=false}else if(l.token==="W"&&u.token==="h"){d=false}if(d){c+="\\,"}break;case w.POWER_SUFFIX:c="^{".concat(l.power,"}");break;case w.LITERAL:if(l.token==="."){var f=i.peek();var p=i.remember();if(b(f.token)&&b(p.token)){c=l.token}else{c="\\,"}}else if(l.text===false||l.token.startsWith("\\")||b(l.token)){c=l.token}else{c="\\text{".concat(l.token,"}");var v=i.peek();while(v&&v.type==w.LITERAL&&!b(v.token)){l=i.next();c+="\\text{".concat(l.token,"}");v=i.peek()}if(v&&v.type==w.POWER_SUFFIX){if(!s||r){c+="^{".concat(v.power,"}")}else{c+="^{".concat(v.power*-1,"}")}l=i.next()}else if(s){if(!r){c+="^{-1}"}}}break;default:c=l.token;break}if(s){a.push(c);u=i.peek();if(u&&u.type!=w.LITERAL&&!o){s=false}}else{n.push(c)}l=i.next()}var h=n.join(" ");var m;if(r&&a.length>1){m="(".concat(a.join(" "),")")}else{m=a.join(" ")}return"".concat(h," ").concat(r&&m.length!=0?"/":""," ").concat(m)}function _(e){return k[e]||{token:e,type:w.LITERAL}}function b(e){if(!e||e.length!=1){return false}var t=e.charCodeAt(0);return t<=64||t>=91&&t<=96||t>=123}var w={LITERAL:0,UNIT:1,PREFIX:2,POWER_SUFFIX:3,PER:4};var k={"\\ampere":{token:"A",type:w.UNIT},"\\pA":{token:"pA",type:w.UNIT},"\\nA":{token:"nA",type:w.UNIT},"\\uA":{token:"\\mu\\text{A}",type:w.UNIT,text:false},"\\mA":{token:"mA",type:w.UNIT},"\\A":{token:"A",type:w.UNIT},"\\kA":{token:"kA",type:w.UNIT},"\\candela":{token:"cd",type:w.UNIT},"\\gram":{token:"g",type:w.UNIT},"\\kelvin":{token:"K",type:w.UNIT},"\\K":{token:"K",type:w.UNIT},"\\kilogram":{token:"kg",type:w.UNIT},"\\fg":{token:"fg",type:w.UNIT},"\\pg":{token:"pg",type:w.UNIT},"\\ng":{token:"ng",type:w.UNIT},"\\ug":{token:"\\mu\\text{g}",type:w.UNIT,text:false},"\\mg":{token:"mg",type:w.UNIT},"\\g":{token:"g",type:w.UNIT},"\\kg":{token:"kg",type:w.UNIT},"\\metre":{token:"m",type:w.UNIT},"\\meter":{token:"m",type:w.UNIT},"\\pm":{token:"pm",type:w.UNIT},"\\nm":{token:"nm",type:w.UNIT},"\\um":{token:"\\mu\\text{m}",type:w.UNIT,text:false},"\\mm":{token:"mm",type:w.UNIT},"\\cm":{token:"cm",type:w.UNIT},"\\dm":{token:"dm",type:w.UNIT},"\\m":{token:"m",type:w.UNIT},"\\km":{token:"km",type:w.UNIT},"\\mole":{token:"mol",type:w.UNIT},"\\fmol":{token:"fmol",type:w.UNIT},"\\pmol":{token:"pmol",type:w.UNIT},"\\nmol":{token:"nmol",type:w.UNIT},"\\umol":{token:"\\mu\\text{mol}",type:w.UNIT,text:false},"\\mmol":{token:"mmol",type:w.UNIT},"\\mol":{token:"mol",type:w.UNIT},"\\kmol":{token:"kmol",type:w.UNIT},"\\second":{token:"s",type:w.UNIT},"\\as":{token:"as",type:w.UNIT},"\\fs":{token:"fs",type:w.UNIT},"\\ps":{token:"ps",type:w.UNIT},"\\ns":{token:"ns",type:w.UNIT},"\\us":{token:"\\mu\\text{s}",type:w.UNIT,text:false},"\\ms":{token:"ms",type:w.UNIT},"\\s":{token:"s",type:w.UNIT},"\\becquerel":{token:"Bq",type:w.UNIT},"\\degreeCelsius":{token:"\\degree\\text{C}",type:w.UNIT,text:false},"\\celsius":{token:"\\degree\\text{C}",type:w.UNIT,text:false},"\\coulomb":{token:"C",type:w.UNIT},"\\farad":{token:"F",type:w.UNIT},"\\pF":{token:"pF",type:w.UNIT},"\\fF":{token:"fF",type:w.UNIT},"\\F":{token:"F",type:w.UNIT},"\\gray":{token:"Gy",type:w.UNIT},"\\hertz":{token:"Hz",type:w.UNIT},"\\mHz":{token:"mHz",type:w.UNIT},"\\Hz":{token:"Hz",type:w.UNIT},"\\kHz":{token:"kHz",type:w.UNIT},"\\MHz":{token:"MHz",type:w.UNIT},"\\GHz":{token:"GHz",type:w.UNIT},"\\THz":{token:"THz",type:w.UNIT},"\\henry":{token:"H",type:w.UNIT},"\\joule":{token:"J",type:w.UNIT},"\\uJ":{token:"\\mu\\text{J}",type:w.UNIT,text:false},"\\mJ":{token:"mJ",type:w.UNIT},"\\J":{token:"J",type:w.UNIT},"\\kJ":{token:"kJ",type:w.UNIT},"\\katal":{token:"kat",type:w.UNIT},"\\lumen":{token:"lm",type:w.UNIT},"\\lux":{token:"lx",type:w.UNIT},"\\newton":{token:"N",type:w.UNIT},"\\mN":{token:"mN",type:w.UNIT},"\\N":{token:"N",type:w.UNIT},"\\kN":{token:"kN",type:w.UNIT},"\\MN":{token:"MN",type:w.UNIT},"\\ohm":{token:"\\Omega",type:w.UNIT,text:false},"\\mohm":{token:"\\text{m}\\Omega",type:w.UNIT,text:false},"\\kohm":{token:"\\text{k}\\Omega",type:w.UNIT,text:false},"\\Mohm":{token:"\\text{M}\\Omega",type:w.UNIT,text:false},"\\pascal":{token:"Pa",type:w.UNIT},"\\Pa":{token:"Pa",type:w.UNIT},"\\kPa":{token:"kPa",type:w.UNIT},"\\MPa":{token:"MPa",type:w.UNIT},"\\GPa":{token:"GPa",type:w.UNIT},"\\radian":{token:"rad",type:w.UNIT},"\\siemens":{token:"S",type:w.UNIT},"\\sievert":{token:"Sv",type:w.UNIT},"\\steradian":{token:"sr",type:w.UNIT},"\\tesla":{token:"T",type:w.UNIT},"\\volt":{token:"V",type:w.UNIT},"\\pV":{token:"pV",type:w.UNIT},"\\nV":{token:"nV",type:w.UNIT},"\\uV":{token:"\\mu\\text{V}",type:w.UNIT,text:false},"\\mV":{token:"mV",type:w.UNIT},"\\V":{token:"V",type:w.UNIT},"\\kV":{token:"kV",type:w.UNIT},"\\watt":{token:"W",type:w.UNIT},"\\uW":{token:"\\mu\\text{W}",type:w.UNIT,text:false},"\\mW":{token:"mW",type:w.UNIT},"\\W":{token:"W",type:w.UNIT},"\\kW":{token:"kW",type:w.UNIT},"\\MW":{token:"MW",type:w.UNIT},"\\GW":{token:"GW",type:w.UNIT},"\\kWh":{token:"kWh",type:w.UNIT},"\\weber":{token:"Wb",type:w.UNIT},"\\day":{token:"d",type:w.UNIT},"\\degree":{token:"\\degree",type:w.UNIT,text:false},"\\hectare":{token:"ha",type:w.UNIT},"\\hour":{token:"h",type:w.UNIT},"\\litre":{token:"l",type:w.UNIT},"\\liter":{token:"L",type:w.UNIT},"\\ul":{token:"\\mu\\text{l}",type:w.UNIT,text:false},"\\ml":{token:"ml",type:w.UNIT},"\\l":{token:"l",type:w.UNIT},"\\hl":{token:"hl",type:w.UNIT},"\\uL":{token:"\\mu\\text{L}",type:w.UNIT,text:false},"\\mL":{token:"mL",type:w.UNIT},"\\L":{token:"L",type:w.UNIT},"\\hL":{token:"hL",type:w.UNIT},"\\minute":{token:"min",type:w.UNIT},"\\arcminute":{token:"\\prime",type:w.UNIT,text:false},"\\arcsecond":{token:"\\prime\\prime",type:w.UNIT,text:false},"\\tonne":{token:"t",type:w.UNIT},"\\astronomicalunit":{token:"au",type:w.UNIT},"\\atomicmassunit":{token:"u",type:w.UNIT},"\\amu":{token:"u",type:w.UNIT},"\\bohr":{token:"a_0",type:w.UNIT,text:false},"\\clight":{token:"c_0",type:w.UNIT,text:false},"\\dalton":{token:"Da",type:w.UNIT},"\\electronmass":{token:"m_e",type:w.UNIT,text:false},"\\electronvolt":{token:"eV",type:w.UNIT},"\\meV":{token:"meV",type:w.UNIT},"\\eV":{token:"eV",type:w.UNIT},"\\keV":{token:"keV",type:w.UNIT},"\\MeV":{token:"MeV",type:w.UNIT},"\\GeV":{token:"GeV",type:w.UNIT},"\\TeV":{token:"TeV",type:w.UNIT},"\\elementarycharge":{token:"e",type:w.UNIT,text:false},"\\hartree":{token:"E_h",type:w.UNIT,text:false},"\\planckbar":{token:"\\hbar",type:w.UNIT,text:false},"\\angstrom":{token:"\\AA",type:w.UNIT,text:true},"\\bar":{token:"bar",type:w.UNIT},"\\barn":{token:"b",type:w.UNIT},"\\bel":{token:"B",type:w.UNIT},"\\decibel":{token:"dB",type:w.UNIT},"\\dB":{token:"dB",type:w.UNIT},"\\knot":{token:"kn",type:w.UNIT},"\\mmHg":{token:"mmHg",type:w.UNIT},"\\nauticalmile":{token:"M",type:w.UNIT},"\\neper":{token:"Np",type:w.UNIT},"\\yocto":{token:"y",type:w.PREFIX},"\\zepto":{token:"z",type:w.PREFIX},"\\atto":{token:"a",type:w.PREFIX},"\\femto":{token:"f",type:w.PREFIX},"\\pico":{token:"p",type:w.PREFIX},"\\nano":{token:"n",type:w.PREFIX},"\\micro":{token:"\\mu",type:w.PREFIX,text:false},"\\milli":{token:"m",type:w.PREFIX},"\\centi":{token:"c",type:w.PREFIX},"\\deci":{token:"d",type:w.PREFIX},"\\deca":{token:"da",type:w.PREFIX},"\\deka":{token:"da",type:w.PREFIX},"\\hecto":{token:"h",type:w.PREFIX},"\\kilo":{token:"k",type:w.PREFIX},"\\mega":{token:"M",type:w.PREFIX},"\\giga":{token:"G",type:w.PREFIX},"\\tera":{token:"T",type:w.PREFIX},"\\peta":{token:"P",type:w.PREFIX},"\\exa":{token:"E",type:w.PREFIX},"\\zetta":{token:"Z",type:w.PREFIX},"\\yotta":{token:"Y",type:w.PREFIX},"\\squared":{power:2,type:w.POWER_SUFFIX},"\\cubed":{power:3,type:w.POWER_SUFFIX},"\\per":{token:"/",type:w.PER}}},101:function(e,t,n){"use strict";var a=/\\(begin|end)\s*{\s*(align|eqnarray|split)\*?\s*}/g;function i(e,t){return"\\".concat(t,"{aligned}")}var r=/\\begin{\s*array\s*}\s*[^{\s]/g;function o(e){return"\\begin{array}{c}".concat(e[e.length-1])}var s=/\\(begin|end){\s*equation\s*}/g;function l(e){return""}var c=/(.*?)([$%])/g;function u(e,t,n){return t.endsWith("\\")?"".concat(t).concat(n):"".concat(t,"\\").concat(n)}var d=/\\text(?:rm|bf|it|md|normal|sf|tt|up)?{([^}]*?)}/g;var f=/(.*?)([_#&])/g;function p(e){return e.replace(f,u)}var v=/\u2013|\\u2013|\u2212|\\u2212/g;var h={"–":"-","\\u2013":"-","−":"-","\\u2212":"-"};function m(e){return h[e]||e}var g=/\\require{[^}]*?}/g;function y(e){return""}var _={lightblue:"#95D3FE",blue:"#3D99F6",darkblue:"#0C6AC7",seagreen:"#1E93A5",aqua:"#27D2E7",lightgreen:"#67D94C",green:"#20A900",darkgreen:"#456461",yellow:"#CEBB00",lightyellow:"#FEDF53",yelloworange:"#FCA04A",orange:"#EC7300",redorange:"#FF664D",red:"#D61F06",pink:"#E81990",rosepink:"#F970BF",violet:"#BA33D6",amethyst:"#625CDB",indigo:"#302B94",purple:"#69047E",paleyellow:"#FFF7E6",beige:"#FBE6B8",sandybrown:"#FEDABE",peachy:"#FCC9A1",tan:"#DBA97F",lightbrown:"#B4825D",mediumlightbrown:"#AA7956",bronze:"#815331",brown:"#624F41",white:"#FFFFFF",lightgray:"#FBFBFB",mediumlightgray:"#F0F0F0",mediumgray:"#D8D8D8",gray:"#BBBBBB",mediumdarkgray:"#919191",darkgray:"#777777",black:"#333333",darkblack:"#161616"};function b(e){var t=e.trim().replace(/\\/g,"").toLowerCase();return _[t]||t}var w=/\\(color|colorbox|textcolor)\s*{(.*?)}/g;function k(e,t,n){return"\\".concat(t,"{").concat(b(n),"}")}var C=/\\fcolorbox\s*{(.*?)}\s*{(.*?)}/g;function x(e,t,n){return"\\fcolorbox{".concat(b(t),"}{").concat(b(n),"}")}function E(e){return e.replace(v,m).replace(g,y).replace(s,l).replace(a,i).replace(r,o).replace(c,u).replace(w,k).replace(C,x).replace(d,p)}e.exports={replace:E}},102:function(e,t,n){"use strict";var a="warn";var i=true;var r={strict:a,unicodeTextInMathMode:i};var o={displayMode:true,strict:a,unicodeTextInMathMode:i};e.exports={inline:r,block:o}},11:function(e,t,n){"use strict";var a=d(n(1));var i=d(n(9));var r=d(n(61));var o=d(n(31));var s=u(n(54));var l=n(3);var c=n(15);function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};var a=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))}a.forEach((function(t){p(e,t,n[t])}))}return e}function p(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function v(e,t){return g(e)||m(e,t)||h()}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function g(e){if(Array.isArray(e))return e}var y={};y.useAvo=document.body.classList.contains("use_avo");var _=function e(){};var b=function e(t){y.segmentKey=t.segmentKey;r.default.initialize({Amplitude:{apiKey:t.amplitudeKey,eventUploadThreshold:30,saveParamsReferrerOncePerSession:true,trackCategorizedPages:false,trackGclid:true,trackReferrer:true,eventUploadPeriodMillis:3e4,deviceIdFromUrlParam:false,trackAllPages:false,trackNamedPages:false,trackSessionEvents:false,trackUtmProperties:true,batchEvents:false,mapQueryParams:{},useLogRevenueV2:true,forceHttps:true},"Segment.io":{apiKey:t.segmentKey,segmentUrl:t.segmentUrl,addBundledMetadata:true,unbundledIntegrations:[]}});j()};var w=function e(t){var n="UA-33841253-1";if(!t.isNative||window.location.pathname.indexOf("/wiki/")===0){(function(e,t,n,a,i,r,o){e["GoogleAnalyticsObject"]=i;e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date;r=t.createElement(n),o=t.getElementsByTagName(n)[0];r.async=1;r.src=a;o.parentNode.insertBefore(r,o)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");window.ga("create",n,"auto");window.ga("require","displayfeatures");window.ga("send","pageview")}else{window.ga=function(){}}};function k(){(function(e,t,n,a,i){e[a]=e[a]||[];e[a].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var r=t.getElementsByTagName(n)[0],o=t.createElement(n),s=a!="dataLayer"?"&l="+a:"";o.async=true;o.src="https://www.googletagmanager.com/gtm.js?id="+i+s;r.parentNode.insertBefore(o,r)})(window,document,"script","dataLayer","GTM-5RMLTZ4")}var C=function e(t){if(!t.isNative&&t.isTrackedUser){!function(e,t,n,a,i,r,o){if(e.fbq)return;i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)};if(!e._fbq)e._fbq=i;i.push=i;i.loaded=!0;i.version="2.0";i.queue=[];r=t.createElement(n);r.async=!0;r.src=a;o=t.getElementsByTagName(n)[0];o.parentNode.insertBefore(r,o)}(window,document,"script","//connect.facebook.net/en_US/fbevents.js");window.fbq("init",t.facebookAdPixelId);window.fbq("track","PageView");if(t.signedUp){window.fbq("track","CompleteRegistration")}else if(t.viewedPaywall){window.fbq("trackCustom","BViewPaywall")}else if(t.contentType){window.fbq("track","ViewContent",{type:t.contentType,slug:t.slug,topic:t.topic})}if(t.ltvEventId){var n={value:t.ltvEventLtv,currency:t.ltvEventCurrency};window.fbq("track","Purchase",n,{eventID:"purchase_ltv_".concat(t.ltvEventId)});window.fbq("track","Purchase + Trial conversion",n,{eventID:"combined_ltv_".concat(t.ltvEventId)});i.default.defer((function(){y.track("facebook_pixel_purchase",n)}));a.default.get(t.ltvEventConfirmUrl,(function(e){_("ltvEvent:confirm",e.success)}))}}else{window.fbq=function(){}}};var x=function e(t){if(!t.isNative&&t.isTrackedUser){!function(e,t,n,a,i,r){if(e.qp)return;a=e.qp=function(){a.qp?a.qp.apply(a,arguments):a.queue.push(arguments)};a.queue=[];i=document.createElement(t);i.async=!0;i.src=n;r=document.getElementsByTagName(t)[0];r.parentNode.insertBefore(i,r)}(window,"script","https://a.quora.com/qevents.js");window.qp("init","bf612d420b9640a78c8db62ca253b9cf");window.qp("track","ViewContent");if(t.signedUp){window.qp("track","CompleteRegistration")}else if(t.ltvEventId){window.qp("track","Purchase")}else if(t.quoraTrialSubscription){window.qp("track","GenerateLead")}}};var E=function e(t){if(t.isNative||!t.isTrackedUser){return}y.googleAdPixelId=t.googleAdPixelId;a.default.getScript("https://www.googleadservices.com/pagead/conversion_async.js").then((function(){var e={google_conversion_label:"MKTlCLCW5mYQlcS-4AM"};if(t.tries){e["google_custom_params"]={tries_made:t.tries,max_level:t.level}}I(e,true);I({google_conversion_label:"aSZbCPfA1G4QlcS-4AM"});if(t.signedUp){I({google_conversion_label:"hB7HCPSF6WYQlcS-4AM"},true);I({google_conversion_label:"V4rMCOzSwG4QlcS-4AM"})}else if(t.viewedPaywall){I({google_conversion_label:"wsH9CLmN5mYQlcS-4AM"},true);I({google_conversion_label:"sXGXCOzVwG4QlcS-4AM"})}else if(t.contentType){I({google_conversion_label:"t-2DCIvQ2GYQlcS-4AM",google_custom_params:{type:t.contentType,slug:t.slug,topic:t.topic}},true);I({google_conversion_label:"1wqUCOeO2m4QlcS-4AM"})}if(t.ltvEventId){I({google_conversion_label:"mpVwCOaK5mYQlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency,google_custom_params:{subscription_interval:t.ltvEventInterval}},true);I({google_conversion_label:"ByXkCJSJ2m4QlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency,google_custom_params:{subscription_interval:t.ltvEventInterval}})}if(t.sendGaTrialSubscriptionEvent){I({google_conversion_label:"ryunCIHCq7YBEJXEvuAD"})}}))};var I=function(){var e=[];return function(t,n){var a={google_conversion_id:y.googleAdPixelId,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff"};if(n){a["google_remarketing_only"]=true}else{a["google_remarketing_only"]=false}t=i.default.extend({},a,t);if(window.google_trackConversion){if(e.length){e.forEach((function(e){window.google_trackConversion(e)}));e=[]}window.google_trackConversion(t)}else{e.push(t)}}}();var T=function e(){window._cio=window._cio||[];var t,n,a;t=function e(t){return function(){_cio.push([t].concat(Array.prototype.slice.call(arguments,0)))}};n=["load","identify","sidentify","track","page"];for(a=0;a<n.length;a++){_cio[n[a]]=t(n[a])}};var O=i.default.once((function(){_("loadCustomerio",y.cioKey);var e=document.createElement("script");var t=document.getElementsByTagName("script")[0];e.async=true;e.id="cio-tracker";e.setAttribute("data-site-id",y.cioKey);e.src="https://assets.customer.io/assets/track.js";t.parentNode.insertBefore(e,t)}));var S=function e(t){if(t.loggingEnabled){_=function e(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++){a[i-1]=arguments[i]}var r=["[analytics][".concat(t,"]")].concat(a);console.log.apply(console,r)}}};var j=function e(){if(window.location.search.search(/(utm|ga)_/)===-1){return}var t=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","ga_referrer","ga_match"];var n=(0,c.getParamsObject)();var a={};var i={};t.forEach((function(e){a[e+"_latest"]=n[e]||"-";if(e in n){i[e+"_current"]=n[e]}}));y.setSuperProperties(a);y.setTemporaryProperties(i)};var q=function e(t){t.children(".ax-event").each((function(){var e=(0,a.default)(this).data();y.track(e.axName,e.axProperties)}))};function P(e){if(typeof e==="string"){try{e=JSON.parse(e)}catch(t){o.default.captureMessage("Error parsing analytics JSON: "+e);e={}}}for(var t in e){if(typeof e[t]==="string"){e[t]=e[t].replace(/\[QUOTE\]/g,'"');e[t]=e[t].replace(/\[SINGLEQUOTE\]/g,"'")}}return e}y.init=function(e){if(window.nativeAnalyticsDisabled){return}var t;var n=window,a=n.nativeAnalytics;if(a){y.analyticsLive=true;y.mobileNative=true;y.superProperties=P(a.initialSuperProperties);y.userProperties={};y.identity=y.superProperties.indentity;y.cioIdentifyData=a.cioIdentifyData;y.cioKey=a.cioKey;y.displayedContinuePracticingBanner=false;y.displayedRecommendedCourseBanner=false;y.recommendedCourseId=null;y.userIsAuthenticated=a.userIsAuthenticated;y.initTrackingFromData(a,false)}else{t=e.data();y.analyticsLive=t.analyticsLive;y.identity=t.analyticsIdentity;y.cioIdentifyData=P(t.cioIdentifyData);y.cioKey=t.cioKey;y.superProperties=P(t.analyticsSuperProperties);y.userProperties=P(t.analyticsUserProperties);y.displayedContinuePracticingBanner=t.displayedContinuePracticingBanner===true;y.displayedRecommendedCourseBanner=t.displayedRecommendedCourseBanner===true;y.recommendedCourseId=t.recommendedCourseId;y.userIsAuthenticated=l.userIsAuthenticated;y.initTrackingFromData(t,true);q(e)}if(y.useAvo){s.initAvo({env:y.analyticsLive?"prod":"dev",webDebugging:false,strict:true},{},{},D)}};y.remoteInit=function(e,t){y.analyticsLive=e.analytics_live;y.identity=e.analytics_identity;y.cioIdentifyData=e.cio_identify_data;y.cioKey=e.cio_key;y.superProperties=e.analytics_super_properties;y.userProperties=e.analytics_user_properties;y.displayedContinuePracticingBanner=false;y.displayedRecommendedCourseBanner=false;y.recommendedCourseId=null;y.userIsAuthenticated=t.is_authenticated};y.initTrackingFromData=function(e,t){try{if(Object.keys(y.superProperties).length===0){o.default.captureMessage("Missing backend superProperties")}}catch(e){}y.superProperties.user_agent=y.superProperties.user_agent||window.navigator.userAgent;y.temporaryProperties={};if(!y.analyticsLive){return}S(e);b(e);if(t){w(e);C(e);E(e);x(e)}if(e.ltvEventId){A("gtag__browser_purchased",{gtag_value__conversion_value:e.ltvEventLtv,gtag_value__conversion_currency:e.ltvEventCurrency,gtag_value__subscription_interval:e.ltvEventInterval})}T(e);y.identify()};function A(e,t){if(!window.dataLayer){k()}var n="gtag_value__";var a=e.replace("gtag__","");var i=Object.entries(t).filter((function(e){var t=v(e,1),a=t[0];return a.indexOf(n)===0})).reduce((function(e,t){var a=v(t,2),i=a[0],r=a[1];e[i.replace(n,"")]=r;return e}),{});var r=f({event:a},i);window.dataLayer.push(r);_("track:gtag",r)}y.track=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a={exclude:[]};n=i.default.extend({},a,n);if(window.nativeAnalyticsDisabled){return}var o=t.action;if(t.suffix!=null&&typeof o!=="undefined"){o+=t.suffix}if(typeof o==="undefined"){o="none"}var s=window.location.pathname;var c={full_path:s+window.location.search,path:s};var u=Object.assign({},c,y.superProperties,y.temporaryProperties,t);if(e==="sign_of_life"){u.displayed_continue_practicing_banner=y.displayedContinuePracticingBanner;u.displayed_recommended_course_banner=y.displayedRecommendedCourseBanner;if(y.displayedContinuePracticingBanner){var d=(0,l.jqGetElemById)("continue-practicing-notif").data();if(d){u.continue_practicing_quiz_id=d.targetQuizId;u.continue_practicing_problems_left=d.problemsLeft}}if(y.displayedRecommendedCourseBanner){u.recommended_course_id=y.recommendedCourseId}Object.assign(u,{window_width:l.$window.width(),window_height:l.$window.height(),screen_width:window.screen.width,screen_height:window.screen.height})}if(e.indexOf("gtag__")>=0){A(e,u);delete t.gtag_value;return}_("track",e,o,u);if(y.analyticsLive){var f={All:true};n.exclude.forEach((function(e){return f[e]=false}));try{r.default.track(e,u,{integrations:f})}catch(e){}if(window.ga&&e!=="sign_of_life"&&e!=="ui"){window.ga("send","event",e,o)}if(y.cioIdentifyData.created_at&&e==="ui"){window._cio.track(e,u);O()}}};var D={make:function e(t){},logEvent:y.track,setUserProperties:function e(t,n){},identify:function e(t){},unidentify:function e(){}};y.setSuperProperties=function(e){_("setSuperProperties",e);if(y.analyticsLive){y.superProperties=i.default.extend({},y.superProperties,e)}};y.setTemporaryProperties=function(e){y.temporaryProperties=i.default.extend({},y.temporaryProperties,e)};y.identify=function(){if(y.analyticsLive){if(y.userIsAuthenticated){r.default.identify(y.identity,y.userProperties);_("identify:segment/all",y.identity,y.userProperties)}else{r.default.identify(null,y.userProperties,{integrations:{All:false,Amplitude:true}});_("identify:segment/amplitude",null,y.userProperties);r.default.identify(y.identity,y.userProperties,{integrations:{All:true,Amplitude:false}});_("identify:segment/all",y.identity,y.userProperties)}if(y.cioIdentifyData.created_at){var e={};for(var t in y.cioIdentifyData){e[t]=y.cioIdentifyData[t]}for(var t in y.superProperties){e[t]=y.superProperties[t]}var n=navigator.userAgent.toLowerCase();if(n.indexOf("android")!==-1){e.ever_visited_with_android=true}if(/iphone|ipad/gi.test(n)!==-1){e.ever_visited_with_ios=true}if(l.isAndroid){e.has_installed_android_app=true}if(l.isIos){e.has_installed_ios_app=true}window._cio.identify(e);_("identify:cio",e)}}};y.trackNativeBtn=function(e){e.on("click",(function(){var t=function e(t){return t.split("?")[0]};var n=e.data();delete n.controller;n.target=t(n.target);n.from=t(n.from);y.track("mobile_native_ui",n)}))};var N=function e(t,n,i,r){var o=(0,a.default)(t);if(!o.data("sent_"+n)){y.track(i,r);o.data("sent_"+n,true)}};y.setAnalyticsEvents=function(e){e=e||(0,a.default)("body");e.find(".ax-click").on("click.axclick",(function(e){var t=(0,a.default)(this),n=t.data(),i=n.axRequire,r=n.axForbid,o=t.hasClass("ax-once");if(n.ax_active===true){return}t.data("ax_active",true);if(i&&!t.hasClass(i)){return}if(r&&t.hasClass(r)){return}var s={element_type:n.axType,element_id:n.axId,path:window.location.pathname,full_path:window.location.pathname+window.location.search};s.action=n.axAction?n.axAction:"click";if(n.gifUrl){s.gif_content=n.gifContent}if(o){N(this,"click_analytics","ui",s)}else{y.track("ui",s)}}))};y.trackFacebookPixel=function(e,t,n){if(window.fbq){window.fbq(e?"trackCustom":"track",t,n||{})}};y.trackPixelController=function(e){var t=e.data();if(!t.tracked){i.default.defer((function(){if(t.facebookEventName){y.trackFacebookPixel(true,t.facebookEventName,{slug:t.slug})}if(t.googleLabelRemarketing){I({google_conversion_label:t.googleLabelRemarketing},true)}if(t.googleLabelConversions){I({google_conversion_label:t.googleLabelConversions})}}));e.data("tracked","true");e.attr("data-tracked","true")}};y.setAnalyticsEvents();window.banalytics=y;e.exports=y},112:function(e,t,n){"use strict";var a;try{a="localStorage"in window&&window["localStorage"]!==null;var i="wafer-test";var r="wafer-test-value";window.localStorage.setItem(i,r);if(window.localStorage.getItem(i)!==r){a=false}window.localStorage.removeItem(i)}catch(e){a=false}if(!a){var o={setItem:function e(t,n,a){var i=a===true?-1:30,r=new Date;r.setDate(r.getDate()+i);document.cookie=t+"="+escape(n)+"; expires="+r.toUTCString()},getItem:function e(t){if(document.cookie.indexOf(t+"=")!==-1){return unescape(document.cookie.split(t+"=")[1].split(";")[0].replace("=",""))}else{return false}},removeItem:function e(t){this.setItem(t,"",true)}}}var s={_s:a?window.localStorage:o,get:function e(t){var n=this._s.getItem(t);try{return JSON.parse(n)}catch(e){return n}},set:function e(t,n){try{JSON.parse(n)}catch(e){n=JSON.stringify(n)}try{return this._s.setItem(t,n)}catch(e){return false}},remove:function e(t){return this._s.removeItem(t)}};e.exports=s},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodexNotesDisplayHandlerAndroid=t.CodexNotesDisplayHandlerMobile=t.CodexNotesDisplayHandlerBase=t.CodexNoteEditor=void 0;var a=c(n(1));var i=c(n(9));var r=n(3);var o=n(11);var s=n(12);var l=n(78);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){u=function e(t){return typeof t}}else{u=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return u(e)}function d(e,t){if(t&&(u(t)==="object"||typeof t==="function")){return t}return f(e)}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return h(e,t)}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function y(e,t,n){if(t)g(e.prototype,t);if(n)g(e,n);return e}var _=18;var b=l.CODEX_LINE_HEIGHT;var w=4;var k=-1;function C(e){return"btn codex-note-btn codex-note-".concat(e)}var x=function(){function e(t){var n=t.cm,a=t.$notesElement;m(this,e);this.cm=n;this.$notesElement=a;this.existingNoteButtons=[];this.readData();this.renderNoteButtons();this.bindEvents();this.handleSecondaryInputs()}y(e,[{key:"readData",value:function e(){var t;try{t=JSON.parse(this.$notesElement.val())}catch(e){t={}}this.notes=t.notes||[];this.showIntro=t.show_intro||false}},{key:"saveData",value:function e(){var t={notes:this.notes};if(this.showIntro){t.show_intro=true}this.$notesElement.val(JSON.stringify(t,null,2))}},{key:"saveNote",value:function e(t,n){var a=[];var i=[parseInt(n.startLine,10),parseInt(n.endLine,10)].sort();var r=i[0];do{a.push(r-1);r++}while(r<=i[1]);var o={expect_user_to_edit:n.expect_user_to_edit,content:n.content,lines:a};if(n.show_on_solvable_id){o.show_on_solvable_id=parseInt(n.show_on_solvable_id,10)}var s=parseInt(n.noteNumber,10);if(t!==s){this.notes.splice(t-1,1);this.notes.splice(s-1,0,o)}else{this.notes.splice(n.noteNumber-1,1,o)}this.saveData();this.renderNoteButtons()}},{key:"deleteNote",value:function e(t){this.notes.splice(t-1,1);this.saveData();this.renderNoteButtons()}},{key:"renderNoteButtons",value:function e(){var t=this;var n=false;var i=(0,a.default)(document.createElement("button"));i.addClass(C("edit"));i.css({width:_});this.existingNoteButtons.forEach((function(e){return e.remove()}));this.existingNoteButtons=[];this.notesPerLine={};this.notes.forEach((function(e,a){var r=i.clone();r.text("".concat(a+1));r.on("click",(function(n){n.preventDefault();t.showNoteEditModal(e,a+1)}));t.cm.addWidget({line:e.lines[0],ch:0},r[0],n);var o=_+w;r.css(t.getButtonStylesForLineSet(e.lines,o));t.existingNoteButtons.push(r);e.lines.forEach((function(e){t.notesPerLine[e]=t.notesPerLine[e]||0;t.notesPerLine[e]++}))}))}},{key:"bindEvents",value:function e(){var t=this;var n=(0,a.default)(document.createElement("button"));n.addClass("".concat(C("add")," btn-accent"));n.text("+");this.cm.on("cursorActivity",(function(){var e=t.cm.doc.listSelections()[0];var a=[e.anchor.line,e.head.line].sort();var i=[];var o=a[0];do{i.push(o);o++}while(o<=a[1]);(0,r.jqOffOn)(n,"click",(function(e){e.preventDefault();t.showNoteEditModal({lines:i})}));n.css(t.getButtonStylesForLineSet(i));var s=true;t.cm.addWidget({line:i[0],ch:0},n[0],s)}))}},{key:"handleSecondaryInputs",value:function e(){var t=this;var n=(0,r.jqGetElemById)("codex-notes-show-intro");n.on("change",(function(){t.showIntro=n.prop("checked");t.saveData()}));n.prop("checked",this.showIntro)}},{key:"showNoteEditModal",value:function e(t,n){var o=this;this.template=this.template||i.default.template((0,r.jqGetElemById)("codex-note-edit-modal").text());var s=this.notes.length+1;var l=n||s;var c={show_on_solvable_id:"",expect_user_to_edit:false,content:"",isEditing:t.content&&t.content.length>0,startLine:t.lines[0]+1,endLine:t.lines[t.lines.length-1]+1,maxLineNumber:this.cm.getValue().split("\n").length,editorId:Math.floor(Math.random()*1e3),noteNumber:l,maxNoteNumber:s};var u=Object.assign({},c,t);u.content=u.content.replace(/\\n/g,"\n");var d=(0,a.default)(document.createElement("div"));d.html(this.template(u));var f=d.children(".modal");f.find(".btn-delete").on("click",(function(e){e.preventDefault();o.deleteNote(l);f.modal("hide")}));var p=f.find("form");p.on("submit",(function(e){e.preventDefault();var t={};p.find("input,textarea").each((function(e,n){var a=n.name;var i=n.value;if(n.type==="checkbox"){i=n.checked}t[a]=i}));o.saveNote(l,t);f.modal("hide")}));f.appendTo(document.body);f.modal();p.find(":input:first").focus()}},{key:"getButtonStylesForLineSet",value:function e(t){var n=this;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=t.reduce((function(e,t){var a=n.notesPerLine[t];return a>e?a:e}),0);var r=t.length*b;return{right:i*_+i*w+a,width:_,height:r}}}]);return e}();t.CodexNoteEditor=x;var E="codex-notes-active";var I=".codex-notes-next";var T="codex_viewed_intro";var O="codex_viewed_notes";var S="codex_viewed_note_item";var j="codex_hid_notes";var q=function(){function e(t){var n=t.state,a=t.$container;m(this,e);this.cm=n.cm;this.initialValues={code:n.initialCode,language:n.initialLanguage};this.$container=a;this.$notesWrapper=a.find(".codex-notes");if(!this.$notesWrapper.length){return}this.$notes=this.$notesWrapper.find(".note,.note-placeholder");this.$language=a.find("[name=language]");this.$disableElements=a.find(".disable-during-notes");this.$showNotesButton=this.$container.find(".codex-show-notes");this.$toggleButton=this.$container.find(".codex-expand-toggle");this.currentNote=k;this.numNotes=this.$notes.length;this.existingHighlights=[];this.isShowingNotes=false;this.isAnimated=true;this.readNoteData();this.bindEvents()}y(e,[{key:"run",value:function e(){if(!this.userHidNotes){if(this.userNeedsIntro){this.showIntro()}else{this.$notesIntro=null;this.showNotes()}}}},{key:"trackNoteAction",value:function e(t){var n={action:t};if(t===S){n=Object.assign({},n,{step_position:this.currentNote+1,is_first_step:this.currentNote===0,is_last_step:this.currentNote===this.numNotes-1,triggered_by:s.INTERACTION_TYPES.PREV_NEXT_BUTTON})}(0,o.track)("ui",n)}},{key:"readNoteData",value:function e(){var t=this;var n=this.$container.data();var i={};if(window.__brilliantData__){i=window.__brilliantData__.codex_records.find((function(e){return e.codex_env_id===n.codexEnvId}))}this.userNeedsIntro=n.showNotesIntro;this.codexUpdateUrl=i.codex_update_url||n.codexUpdateUrl;this.userHidNotes=i.user_hid_notes||n.notesUserHid;this.largestViewedNoteNumber=i.largest_viewed_note_number||n.notesLargestViewed;this.notes=[];this.$notes.each((function(e,n){var i=(0,a.default)(n);var r=i.data();t.notes.push(Object.assign({$note:i},r));if(r.currentNote&&!t.userHidNotes){t.currentNote=e-1}}))}},{key:"bindEvents",value:function e(){var t=this;this.$notesWrapper.find(I).on("click",(function(e){e.preventDefault();t.nextNote()}));this.$showNotesButton.on("click",(function(e){e.preventDefault();e.stopPropagation();t.$showNotesButton.blur();if(t.isShowingNotes){t.currentNote--;t.hideNotes()}else{t.showNotes()}}))}},{key:"showNotes",value:function e(){this.userValues={code:this.cm.getValue(),language:this.$language.val()};(0,a.default)(document.body).addClass(E);this.$container.removeClass("expanded");this.$toggleButton.removeClass("active");this.cm.setValue(this.initialValues.code);this.$language.val(this.initialValues.language);this.$disableElements.prop("disabled",true);this.$showNotesButton.addClass(s.CLASS_NAME_ACTIVE);this.cm.setOption("readOnly",true);this.$notesWrapper.removeClass(s.CLASS_NAME_HIDE);this.isShowingNotes=true;this.trackNoteAction(O);this.nextNote()}},{key:"showIntro",value:function e(){var t=this;(0,a.default)(document.body).addClass(E);this.$container.removeClass("expanded");var n=this.$container.find(".codex-notes-intro");n.removeClass(s.CLASS_NAME_HIDE).addClass(s.CLASS_NAME_ANIM_IN);n.find(I).on("click",(function(e){e.preventDefault();e.stopPropagation();n.on("transitionend",(function(){n.remove();t.showNotes()}));n.removeClass(s.CLASS_NAME_ANIM_IN)}));this.userNeedsIntro=false;this.isShowingNotes=true;this.trackNoteAction(T)}},{key:"baseHideNotes",value:function e(){var t=this;this.clearHighlights();this.cm.setOption("readOnly",false);this.$disableElements.prop("disabled",false);this.$showNotesButton.removeClass(s.CLASS_NAME_ACTIVE);this.cm.setValue(this.userValues.code);this.$language.val(this.userValues.language);this.userValues={};this.updateCodexRecord({user_hid_notes:true});this.userHidNotes=true;this.isShowingNotes=false;this.trackNoteAction(j);var n=function e(){t.$notesWrapper.addClass(s.CLASS_NAME_HIDE);(0,a.default)(document.body).removeClass(E)};if(this.isAnimated){this.$notesWrapper.one("transitionend",n);this.$notesWrapper.removeClass(s.CLASS_NAME_ANIM_IN)}else{n()}}},{key:"hideNotes",value:function e(){this.baseHideNotes()}},{key:"baseNextNote",value:function e(){var t=this;this.currentNote++;if(this.currentNote===this.numNotes){this.currentNote=k;this.hideNotes()}else{var n=function e(){var n=t.$notes.eq(t.currentNote);t.$notes.removeClass(s.CLASS_NAME_ACTIVE);n.addClass(s.CLASS_NAME_ACTIVE);t.highlightLines(n.data("lines"));t.positionNote(n);t.$notesWrapper.addClass(s.CLASS_NAME_ANIM_IN);var a=t.currentNote+1;t.updateCodexRecord({largest_viewed_note_number:a});t.largestViewedNoteNumber=Math.max(t.largestViewedNoteNumber,a)};if(this.isAnimated&&this.$notesWrapper.hasClass(s.CLASS_NAME_ANIM_IN)){this.$notesWrapper.one("transitionend",n);this.$notesWrapper.removeClass(s.CLASS_NAME_ANIM_IN)}else{n()}this.trackNoteAction(S)}}},{key:"nextNote",value:function e(){this.baseNextNote()}},{key:"updateCodexRecord",value:function e(t){if(this.codexUpdateUrl&&this.validateCodexRecordAttrs(t)){a.default.ajax({url:this.codexUpdateUrl,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}})}}},{key:"validateCodexRecordAttrs",value:function e(t){if(t.largest_viewed_note_number){if(t.largest_viewed_note_number<=this.largestViewedNoteNumber){return false}}if(t.user_hid_notes===true&&this.userHidNotes===true){return false}return true}},{key:"clearHighlights",value:function e(){this.existingHighlights.forEach((function(e){return e.remove()}));this.existingHighlights=[]}},{key:"highlightLines",value:function e(t){var n=this;var i=(0,a.default)(document.createElement("span"));i.addClass("codex-line-highlight");i.css({height:l.CODEX_LINE_HEIGHT});this.clearHighlights();t.forEach((function(e,a){var r=i.clone();if(a===0){r.addClass("top")}if(a===t.length-1){r.addClass("bottom")}var o=true;n.cm.addWidget({line:e,ch:0},r[0],o);r.css({top:parseInt(r.css("top"),10)-l.CODEX_LINE_HEIGHT});n.existingHighlights.push(r)}))}},{key:"positionNote",value:function e(t){if(r.isMobile){return}var n=parseInt(this.existingHighlights[0].css("top"),10);var a=l.CODEX_LINE_HEIGHT*this.existingHighlights.length;var i=n+a/2;var o=t.outerHeight();var s=this.$container.find("header").outerHeight();var c=this.$container.find(".codex-form").outerHeight();var u=this.$container.find(".CodeMirror-scroll").scrollTop();var d=4;var f=0+d;var p=c-o-d;var v=i-o/2+s-u;v=Math.min(Math.max(f,v),p);this.$notesWrapper.css({top:v})}}]);return e}();t.CodexNotesDisplayHandlerBase=q;var P=function(e){v(t,e);function t(){m(this,t);return d(this,p(t).apply(this,arguments))}y(t,[{key:"nextNote",value:function e(){var t=this;this.baseNextNote();if(this.isShowingNotes){setTimeout((function(){var e=(0,a.default)(t.$notes[t.currentNote]);var n=t.$container.offset().top-e.outerHeight();var i=r.$window.scrollTop();var o=n<i;var s=t.$container.offset().top-i;var l=t.$container.find(".codex-form").outerHeight();var c=r.$window.height();var u=s+l-c;var d=u>0;if(o||d){(0,r.setScrollPosition)(n)}}),1)}}}]);return t}(q);t.CodexNotesDisplayHandlerMobile=P;var A={};function D(){if(!window.Android){window.Android={}}if(!window.Android.codexTappedNext){window.Android.codexTappedNext=function(e){var t=A[e];if(t){t.nextNote()}}}}var N=function(e){v(t,e);function t(e){var n;var a=e.state,i=e.$container;m(this,t);n=d(this,p(t).call(this,{state:a,$container:i}));n.isAnimated=false;n.envId=i.data("codex-env-id");A[n.envId]=f(n);D();return n}y(t,[{key:"hideNotes",value:function e(){this.baseHideNotes();try{window.Android.codexHideNotes(this.envId)}catch(e){throw new Error("Bridge function unavailable: codexHideNotes")}}},{key:"nextNote",value:function e(){this.baseNextNote();try{window.Android.codexShowNote(this.envId,this.currentNote)}catch(e){throw new Error("Bridge function unavailable: codexShowNote")}}}]);return t}(q);t.CodexNotesDisplayHandlerAndroid=N},115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodexDeemphasizer=t.CodexDeemphasizerEditor=void 0;var a=o(n(1));var i=n(431);var r=n(78);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function c(e,t,n){if(t)l(e.prototype,t);if(n)l(e,n);return e}function u(e){return e.map((function(e){return Object.assign({},e)}))}function d(e){var t=e.deemphasizeInfo,n=e.initial,a=e.current;var r=u(t);var o=0;var s=0;var l=(0,i.diffLines)(n,a);l.forEach((function(e,t){var n=e.value.split("\n").length-1;if(e.removed){n*=-1}if(e.added){n+=s}else if(e.removed){if(l[t+1]&&l[t+1].added){s=n;return}}if(e.added||e.removed){r.forEach((function(e){if(e.start>=o){e.start+=n}if(e.end>=o){e.end+=n}}))}o+=n-s;s=0}));return r}function f(e){var t=e.cm,n=e.existingSections,i=e.deemphasizeInfo,o=e.className;var s=n.slice(0,n.length);s.forEach((function(e){return e.remove()}));s=[];if(i.length){var l=false;var c=(0,a.default)("<div/>");c.addClass(o);c.css({height:r.CODEX_LINE_HEIGHT});i.forEach((function(e,n){var a=e.start;while(a<=e.end){var i=c.clone();i.attr("data-index",n);i.css({marginTop:-r.CODEX_LINE_HEIGHT});t.addWidget({line:a,ch:0},i[0],l);if(e.prevent_click){i.addClass("prevent-click")}s.push(i);a++}}))}return s}var p="&#128077;";var v="&#128577;";var h={tableHeader:function e(){return"\n        <thead>\n            <tr>\n                <th>Line start</th>\n                <th>Line end</th>\n                <th>Prevent click?</th>\n                <th>Valid?</th>\n                <th>&nbsp;</th>\n            </tr>\n        </thead>\n    "},field:function e(t){var n=t.index,a=t.data,i=t.numLines;return'\n        <tr data-index="'.concat(n,'">\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(i,'"\n                    value="').concat(a.start,'"\n                    data-name="start">\n            </td>\n            <td class="number">\n                <input type="number"\n                    min="1"\n                    max="').concat(i,'"\n                    value="').concat(a.end,'"\n                    data-name="end">\n            </td>\n            <td class="checkbox">\n                <input type="checkbox"\n                    ').concat(a.prevent_click?"checked":"",'\n                    data-name="prevent_click">\n            </td>\n            <td class="error">\n                ').concat(a.start>0&&a.end>0?p:"&hellip;",'\n            </td>\n            <td class="remove">\n                <span class="remove-row css-sprite-global" data-index="').concat(n,'"></span>\n            </td>\n        </tr>\n    ')},addButton:function e(){return'<span class="btn add-row">Add de-emphasized section</span>'}};var m=function(){function e(t){var n=t.cm,a=t.$deemphasizeField,i=t.$deemphasizeContainer;s(this,e);this.cm=n;this.$deemphasizeField=a;this.$deemphasizeContainer=i;this.initialCode=this.cm.getValue();this.existingSections=[];this.readData();this.renderFields();this.renderCodexAnnotations();this.bindCodeMirrorEvents()}c(e,[{key:"readData",value:function e(){try{this.data=JSON.parse(this.$deemphasizeField.val())}catch(e){this.data={}}this.deemphasizeInfo=this.data.deemphasizeInfo||[]}},{key:"saveData",value:function e(){var t=this;var n=this.deemphasizeInfo.filter((function(e){return t.validateInfoItem(e).success})).map((function(e){return Object.assign({prevent_click:e.prevent_click===true},e)}));var a={};if(n.length){a.deemphasizeInfo=n}this.$deemphasizeField.val(JSON.stringify(a,null,2))}},{key:"renderFields",value:function e(){var t=this;this.$deemphasizeContainer.empty();if(this.deemphasizeInfo.length){var n=(0,a.default)("<table/>");var i=(0,a.default)("<tbody/>");n.append(h.tableHeader());n.append(i);this.deemphasizeInfo.forEach((function(e,n){i.append(h.field({index:n,data:{start:e.start===""?"":e.start+1,end:e.end===""?"":e.end+1,prevent_click:e.prevent_click},numLines:t.getNumLines()}))}));this.$deemphasizeContainer.append(n)}this.$deemphasizeContainer.append(h.addButton());this.bindFieldsEvents()}},{key:"renderCodexAnnotations",value:function e(){this.existingSections=f({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:"codex-deemphasize-highlight-admin"})}},{key:"bindFieldsEvents",value:function e(){var t=this;this.$deemphasizeContainer.find(".add-row").on("click",(function(){t.deemphasizeInfo.push({start:"",end:"",prevent_click:false});t.renderFields()}));this.$deemphasizeContainer.find(".remove-row").on("click",(function(e){t.deemphasizeInfo.splice((0,a.default)(e.target).data("index"),1);t.renderFields();t.renderCodexAnnotations();t.saveData()}));this.$deemphasizeContainer.find("input").on("input",(function(e){var n=(0,a.default)(e.target);var i=n.parents("tr");var r=i.find("input");var o=i.data("index");var s={};r.each((function(e,t){var n=(0,a.default)(t);var i=n.prop("type");var r;switch(i){case"number":r=parseInt(n.val(),10)-1;if(Number.isNaN(r)){r=null}break;case"checkbox":r=n.prop("checked");break;default:throw new Error("Unexpected input type: ".concat(i))}s[n.data("name")]=r}));var l=t.validateInfoItem(s);var c=i.find(".error");if(l.success){c.html(p);t.deemphasizeInfo[o]=s;t.renderCodexAnnotations();t.saveData()}else{c.html("".concat(v," ").concat(l.error))}}))}},{key:"bindCodeMirrorEvents",value:function e(){var t=this;this.cm.on("change",(function(){var e=t.cm.getValue();t.deemphasizeInfo=d({deemphasizeInfo:t.deemphasizeInfo,initial:t.initialCode,current:e});t.initialCode=e;t.renderFields();t.renderCodexAnnotations();t.saveData()}))}},{key:"getNumLines",value:function e(){return this.cm.getValue().split("\n").length}},{key:"validateInfoItem",value:function e(t){var n=this.getNumLines();var a=false;var i=null;if(typeof t.start!=="number"){i="Start is not a number"}else if(typeof t.end!=="number"){i="End is not a number"}else if(t.start<0||t.end<0){i="Start and end must be greater than 0"}else if(t.start>=n||t.end>=n){i="Start and end must be less than ".concat(n)}else if(t.start>t.end){i="Start is greater than end"}else{a=true}return{success:a,error:i}}}]);return e}();t.CodexDeemphasizerEditor=m;var g={};var y=function(){function e(t){var n=t.cm,a=t.data,i=t.envId,r=t.initialCode;s(this,e);this.cm=n;this.envId=i;var o=g[i]||{};this.deemphasizeInfo=o.current||a.deemphasizeInfo||[];this.initialDeemphasizeInfo=o.initial||u(this.deemphasizeInfo);this.initialCode=r;this.existingSections=[];this.deemphasizeClassName="codex-deemphasize-highlight";this.updateData();this.render();this.bindCodeMirrorEvents();this.bindDeemphasizeEvents()}c(e,[{key:"render",value:function e(){this.existingSections=f({cm:this.cm,existingSections:this.existingSections,deemphasizeInfo:this.deemphasizeInfo,className:this.deemphasizeClassName})}},{key:"bindCodeMirrorEvents",value:function e(){var t=this;this.cm.on("change",(function(){t.updateData();t.render();t.bindDeemphasizeEvents()}));this.cm.on("beforeChange",(function(e,n){if(t.cm.brilliant.isEditing){return}for(var a=0;a<t.deemphasizeInfo.length;a++){var i=t.deemphasizeInfo[a];if(n.from.line>=i.start&&n.from.line<=i.end){n.cancel();break}}}))}},{key:"bindDeemphasizeEvents",value:function e(){var t=this;if(this.existingSections.length){var n="hover";var i=this.existingSections[0];var r=i.add(i.siblings(".".concat(this.deemphasizeClassName)));r.on("mouseenter",(function(e){var t=(0,a.default)(e.target);r.removeClass(n);r.filter("[data-index=".concat(t.data("index"),"]")).addClass(n)}));r.on("mouseleave",(function(){return r.removeClass(n)}));r.filter(":not(.prevent-click)").on("click",(function(e){t.removeInfoItem((0,a.default)(e.target).data("index"));t.render();t.bindDeemphasizeEvents()}))}}},{key:"removeInfoItem",value:function e(t){this.deemphasizeInfo.splice(t,1);this.initialDeemphasizeInfo.splice(t,1);g[this.envId]={initial:u(this.initialDeemphasizeInfo),current:u(this.deemphasizeInfo)}}},{key:"updateData",value:function e(){this.deemphasizeInfo=d({deemphasizeInfo:u(this.initialDeemphasizeInfo),initial:this.initialCode,current:this.cm.getValue()})}}]);return e}();t.CodexDeemphasizer=y},116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSharedContext=d;var a=r(n(77));var i=n(79);function r(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function l(e,t,n){if(t)s(e.prototype,t);if(n)s(e,n);return e}var c={};var u=function(){function e(){o(this,e);this.value=null;this.$output=null}l(e,[{key:"applyContext",value:function e(t,n){if(this.value){a.setValue(n,this.value);t.find(".codex-textarea textarea").val(this.value)}if(this.$output){var r=t.find(".codex-output");if(r.length){r.replaceWith(this.$output)}else{t.append(this.$output)}(0,i.handleOutputGifs)(t)}else{var o=t.find(".codex-output");if(o.length){this.$output=o.clone()}}}},{key:"setValue",value:function e(t){this.value=t}},{key:"clearOutput",value:function e(){this.$output=null}}]);return e}();function d(e){if(!c[e]){c[e]=new u}return c[e]}},117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getOrientation=i;t.repositionTooltip=r;var a=n(3);function i(e,t){var n=[];var i=e.offset();var r=a.$window;var o=r.width()/2;var s=i.top-r.scrollTop();if(t){s-=t.height()+50}else{s-=300}n.push(i.left>o?"right":"left");n.push(s>0?"top":"bottom");return n.join(" ")}function r(e){var t=e.$target,n=e.$tooltip,a=e.topOffset,i=e.leftOffset,r=e.zOffset,o=e.offsetMethod;var s={};var l=o==="position"?t.position():t.offset();var c=n.attr("class").split(" ");var u=300;var d=700;var f=r;if(f===undefined){f=t.parents(".modal,.nf-feeditem-modal").length?d:u}if(c.indexOf("top")!==-1){s.top=l.top-(n.outerHeight()+a)}else{s.top=l.top+t.height()+a}if(c.indexOf("left")!==-1){s.left=l.left+t.width()/2+i}else{s.left=l.left-n.outerWidth()-i+t.width()/2}return{zIndex:f,top:s.top,left:s.left}}},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CMP_RELOADING_FLAGS=t.QUIZ_CHAPTER_INTRO_STATE=t.FUNC_NOOP=t.TRANSITION_SPEED_SLOW=t.TRANSITION_SPEED_MEDIUM=t.TRANSITION_SPEED_FAST=t.EVT_VKEY_AFTER_UPDATE=t.EVT_VKEY_BEFORE_UPDATE=t.EVT_VKEY_BASE=t.EVT_MCQ_EDIT_FORM_SET_CONTEXT=t.EVT_DAILYPROBLEM_MAINBODY_EXPANDED=t.EVT_QUIZ_POSITION_LOADING=t.EVT_QUIZ_POSITION_DID_CHANGE=t.EVT_QUIZ_POSITION_WILL_CHANGE=t.INTERACTION_TYPES=t.CLASS_NAME_LOADING=t.CLASS_NAME_HIDE=t.CLASS_NAME_EXPANDED=t.CLASS_NAME_DISABLED=t.CLASS_NAME_COLLAPSED=t.CLASS_NAME_CHECKED=t.CLASS_NAME_ANIM_IN=t.CLASS_NAME_ACTIVE=void 0;var a="active";t.CLASS_NAME_ACTIVE=a;var i="in";t.CLASS_NAME_ANIM_IN=i;var r="checked";t.CLASS_NAME_CHECKED=r;var o="collapsed";t.CLASS_NAME_COLLAPSED=o;var s="disabled";t.CLASS_NAME_DISABLED=s;var l="expanded";t.CLASS_NAME_EXPANDED=l;var c="hide";t.CLASS_NAME_HIDE=c;var u="loading";t.CLASS_NAME_LOADING=u;var d={STATUS_DOT:"status_dot",CONTINUE_BUTTON:"continue_button",PREV_NEXT_BUTTON:"prev_next_button",ARROW_KEY:"arrow_key",URL_CHANGE:"url_change"};t.INTERACTION_TYPES=d;var f="quizPositionWillChange";t.EVT_QUIZ_POSITION_WILL_CHANGE=f;var p="quizPositionDidChange";t.EVT_QUIZ_POSITION_DID_CHANGE=p;var v="quizPositionLoading";t.EVT_QUIZ_POSITION_LOADING=v;var h="dailyproblemMainbodyExpanded";t.EVT_DAILYPROBLEM_MAINBODY_EXPANDED=h;var m="MCQEditFormContextSet";t.EVT_MCQ_EDIT_FORM_SET_CONTEXT=m;var g="vkey";t.EVT_VKEY_BASE=g;var y="".concat(g,".beforeupdate");t.EVT_VKEY_BEFORE_UPDATE=y;var _="".concat(g,".afterupdate");t.EVT_VKEY_AFTER_UPDATE=_;var b=100;t.TRANSITION_SPEED_FAST=b;var w=200;t.TRANSITION_SPEED_MEDIUM=w;var k=500;t.TRANSITION_SPEED_SLOW=k;var C=function e(){};t.FUNC_NOOP=C;var x="QUIZ_CHAPTER_INTRO_STATE";t.QUIZ_CHAPTER_INTRO_STATE=x;var E={DISPUTES:"reloading-disputes",PANE:"reloading-pane"};t.CMP_RELOADING_FLAGS=E},125:function(e,t,n){"use strict";var a=m(n(1));var i=m(n(9));var r=m(n(31));var o=n(11);var s=m(n(41));var l=n(3);var c=h(n(37));var u=n(13);var d=n(12);var f=n(15);var p=n(30);var v=n(18);n(677);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}function g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};var a=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))}a.forEach((function(t){y(e,t,n[t])}))}return e}function y(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function _(e){return k(e)||w(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function k(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t]}return n}}var C=false;var x=false;var E="";var I={};var T=null;var O=function e(t){(0,o.track)("payment timeout error",{step:t})};I.SellPage=new function(){var e=this;e.controller=function(e){var t=(0,l.jqGetElemById)("subscription-info-modal").detach();if(t.length){e.find(".learn-more").on("click",(function(e){e.preventDefault();t.clone().modal()}))}};return e};I.bulkPricing=function(e){e.find(".bulk-pricing-trigger").on("click",(function(){e.toggleClass("expanded")}))};I.giftPersonalizationForm=function(e){var t=e.find(".plan-type-field input");var n=(0,a.default)("#auto-renew-note");var i=e.find(".gift-tooltip");var r=_(t).map((function(e){return e.value})).join(" ");t.on("change",(function(e){var t=e.target.value;n.removeClass(r).addClass(t)}));i.find(".trigger").on("click",(function(e){e.preventDefault();if(!i.hasClass("active")){i.addClass("active");setTimeout((function(){return l.$body.one("click",(function(){return i.removeClass("active")}))}),1)}}));e.find("input").on("keydown",(function(t){if(t.keyCode===13){t.preventDefault();e.find('[type="submit"]').trigger("click")}}))};I.giftPayment=function(e){T=e.data("gift-message-id")};I.giftDatepicker=function(e){var t=0;var n={maxViewMode:t,minViewMode:"days",startView:t,clearBtn:false,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}};e.datepicker(i.default.extend({},n,e.data()));e.on("changeDate",(function(e){var t=e.date.getFullYear();var n=e.date.getMonth()+1;var a=e.date.getDate();(0,l.jqGetElemById)("gift-date-text").text("".concat(t,"/").concat(n,"/").concat(a));(0,l.jqGetElemById)("id_delivery_date_year").val(t);(0,l.jqGetElemById)("id_delivery_date_month").val(n);(0,l.jqGetElemById)("id_delivery_date_day").val(a);(0,l.jqGetElemById)("gift-date-dropdown").find(".dropdown-toggle").dropdown("toggle")}))};I.giftSubscriptionHandler=function(e){if(e.success){window.location.href=e.gift_purchase.show_url}else{(0,p.showStandardErrorModal)()}};I.giftSubscribeOptIn=function(e){e.on("change",(function(e){var t=e.target;if(t.disabled){return}var n=(0,a.default)(t);var i=n.data("url");t.disabled=true;a.default.post(i).done((function(e){if(e.success===true){n.data("url",e.new_url)}else{(0,p.showStandardErrorModal)()}})).fail((function(){n.prop("checked",!n.prop("checked"));(0,p.showStandardErrorModal)()})).always((function(){t.disabled=false}))}))};I.paywallCourses=function(e){var t=e.find(".btn-group .btn");var n="active";t.on("click",(function(){var i=(0,a.default)(this);if(!i.hasClass(n)){t.toggleClass(n);e.toggleClass("practice");(0,o.track)("ui",{element_id:"clicked_paywall_courses_tab",tab_name:i.data("ax-tab"),action:"click"})}}))};I.setFeaturesScroll=function(e){e.scrollLeft(e[0].scrollWidth)};I.Checkout={};var S;var j=null;var q=function e(t,n,i){var o=(0,l.jqGetElemById)("paid-subscribe").data();var s=o.url;var c={plan:S.plan,stripeToken:t.id};var u={url:s,data:c,type:"POST",timeout:6e4};if(T){c.gift_message_id=T}if(P()&&!T){u.url=(0,l.jqGetElemById)("stripe-one-time-payment").data("url");u.data.payment_plan_id=S.paymentPlanId||S.plan;u.data.amount=S.amount}var d=a.default.ajax(u);if(i===true){return d}d.then((function(e){if(o.callback){I[o.callback](e)}else{var t=(0,a.default)(document.createElement("div")).append(e);l.$body.append(t);(0,v.initGenericControllers)(t)}})).fail((function(e){if(e.statusText==="timeout"){r.default.captureMessage("stripeTokenHandler: timeout error");O("Sending token to backend")}(0,p.errorModalHandler)(e)}));if(j!==null){j.modal("show")}};var P=function e(){return typeof S.paymentPlanId!=="undefined"||S.planType==="lifetime"||S.planType==="stripe_onetime_year"};var A=function e(t){var n=i.default.extend({},t);var a=["controller","controllerInited","loadedAxId","axId","axType","majorAmount","ax_active"];a.forEach((function(e){delete n[e]}));n.name=n.name.replace("^2"," Premium").replace("[USD]","").trim();return n};var D=false;var N=false;var M=null;I.Checkout.trigger=function(){var e=function e(t){var n=t.data();t.removeClass("disabled").removeAttr("disabled").data("ax-id",n.loadedAxId).attr("data-ax-id",n.loadedAxId);(0,l.jqOffOn)(t,"click.checkout",(function(e){e.preventDefault();L(M,n)}))};var t=function e(t){};var n;return function(a){if(D){if(N){t(a)}else{e(a)}}else{l.$body.on("checkout.preloadDone",(function(){e(a)}));l.$body.on("checkout.preloadFailed",(function(){t(a)}))}a.filter(".disabled").on("click.checkout",(function(e){e.preventDefault();if(!n){n=(0,l.jqGetElemById)("checkout-loading-modal")}n.modal();n.parent(".modal-bg").css("z-index",1042)}))}}();var z=function(){var e=false,t=false;return function(){if(t){return}t=true;var n=(0,l.jqGetElemById)("stripe-checkout-data").data();if(!n){return}else if(!n.giftSubscription&&n.useCustomForm){return}C=n.enableNewStripeCheckout===true;x=n.enableCustomStripeCheckout===true;E=n.customStripeCheckoutUrl;var i=0,s=200,c=75;var u=setInterval((function(){i++;if("StripeCheckout"in window){clearInterval(u);if(M===null){var t={key:n.key,image:n.image,email:n.email||null,token:q,opened:function e(){(0,o.track)("ui",{element_id:"stripe_checkout_modal_opened"})},closed:function e(){(0,o.track)("ui",{element_id:"stripe_checkout_modal_closed"})}};if(n.panelLabel){t.panelLabel=n.panelLabel}M=StripeCheckout.configure(t)}D=true;l.$body.trigger(a.default.Event("checkout.preloadDone"))}else if(i===c){clearInterval(u);D=true;N=true;l.$body.trigger(a.default.Event("checkout.preloadFailed"));if(!e){e=true;if((0,l.jqGetElemById)("sellpage-wrapper").length){r.default.captureMessage("Paid.Checkout.trigger: "+"poll timeout waiting for StripeCheckout.");O("Loading checkout.js")}}}}),s)}}();var L=function e(t,n){var r=A(n);S=i.default.extend({},r);var o=(r.planType==="annual"||r.planType==="monthly")&&(r.currency==="EUR"||r.currency==="GBP"||C)&&window.location.href.indexOf("/give-premium/")===-1;if(x&&!P()){window.location.href=(0,f.appendGetParams)(E,g({plan:r.plan},T?{gift_message_id:T}:null))}else if(o){var s={plan_id:r.plan};a.default.get("/premium/stripe/create-checkout-session/",s).fail(p.showStandardErrorModal).then((function(e){var t=e.results.checkout_session;if(!t){(0,p.showStandardErrorModal)()}var n=Stripe(t.public_key);n.redirectToCheckout({sessionId:t.session_id}).then((function(){return(0,p.showStandardErrorModal)()}))}))}else{delete r.plan;delete r.planType;t.open(r)}};I.Checkout.preload=function(){z()};I.Checkout.response=function(e){var t=e.data();var n=60;var i=window.location.href;var o=0;var s;var c=(0,l.jqGetElemById)("paid-status-success-btn");var u=function n(){if(t.showAppleWarning){(0,l.jqGetElemById)("existing-apple-subscription-warning").modal()}e.addClass("loaded success");i=c.prop("href")};if(t.success&&t.displaySuccess){u()}else if(t.success){s=setInterval((function(){a.default.get(t.url,{s:t.subscription}).then((function(e){if(e==="active"){u();clearInterval(s)}})).fail((function(e){clearInterval(s);(0,p.errorModalHandler)(e)}));o++;if(o>=n){e.addClass("loaded error");clearInterval(s);r.default.captureMessage("Paid.Checkout.response: timeout error");O("Checkout subscription status")}}),1e3)}else{e.addClass("loaded error")}if(j!==null){j.modal("hide")}e.modal();e.on("hide",(function(){l.$body.addClass("disabled");window.location.href=i}))};I.Checkout.prestatus=function(e){e.modal({show:false});e.on("show",(function(){(0,a.default)(".sell-page.visible").removeClass("visible")}));j=e};var $=function(){var e=null;var t=false;var n=i.default.template('<ul class="errorlist"><%= list %></ul>');var r=i.default.template("<li><%- message %></li>");var o=function e(t,n){return l.$window.trigger(a.default.Event("survey.".concat(n)))};return function(s){s.preventDefault();var c=(0,a.default)(this);if(t){o(c,"complete");return}if(e===null){e=(0,l.jqGetElemById)("paid-cancel-survey");if(!e.length){(0,p.showStandardErrorModal)();return}e.on("submit",(function(s){s.preventDefault();a.default.post(e.attr("action"),e.serialize()).fail(p.errorModalHandler).then((function(a){if(a.success){t=true;e.modal("hide");o(c,"complete")}else{(0,l.setScrollPosition)(0,{$container:e.parent()});var s=[];for(var u in a.errors){s.push(a.errors[u][0])}var d=s.map((function(e){return r({message:e})})).join("");i.default.defer((function(){e.find(".errorlist").remove();e.find(".modal-body").prepend(n({list:d}))}))}}))}))}o(c,"beforeshown");e.modal()}}();I.Payment={};var B=null,U=null;var F=function e(t){a.default.get(t.url,t).then((function(){l.$body.addClass("disabled");window.location.reload()})).fail(p.errorModalHandler)};I.Payment.cancellationModalTrigger=function(e){e.on("click",(function(t){t.preventDefault();if(e.hasClass("disabled")){return}U=e.data();if(U.force){F(U)}else{if(B!==null){B.modal("show")}}}))};I.Payment.cancelModal=function(e){B=e.clone(true);B.modal({show:false});B.find("#paid-cancel").on("click",(function(e){var t=(0,l.jqGetElemById)("payment-switch-plan-modal").clone(true);var n=e.currentTarget;if(t.length){B.modal("hide");t.find(".cancel-link").on("click",(function(){$.call(n,e)}));t.addClass("canceling");t.modal()}else{B.modal("hide");$.call(n,e)}}));l.$window.on("survey.complete",(function(){(0,l.jqGetElemById)("acct-settings-subscription").find(".cancel a").addClass("disabled");if(U.isPaytm){var e=(0,l.jqGetElemById)("cancel-confirm-".concat(U.id));e.modal("show");e.find("#confirm-btn").on("click",(function(){F(U)}))}else if(U!==null){F(U)}}))};I.Payment.Renew=function(e){e.on("click",(function(t){t.preventDefault();e.addClass(d.CLASS_NAME_DISABLED);l.$body.addClass(d.CLASS_NAME_DISABLED);a.default.get((0,a.default)(t.currentTarget).attr("href")).then((function(){return window.location.reload()})).fail(p.errorModalHandler).fail((function(){return l.$body.removeClass(d.CLASS_NAME_DISABLED)}))}))};I.Payment.UpdateCard=function(e){e.on("click",(function(t){if(!e.hasClass(d.CLASS_NAME_DISABLED)){var n=(0,l.jqGetElemById)("card-info");var i=n.find(".spinner");var r=(0,a.default)(t.target).data(),o=r.key,s=r.image,c=r.email,u=r.name,f=r.url,v=r.buttonLabel;var h={key:o,image:s,name:u,url:f,email:c||null,allowRememberMe:false};var m=Object.assign({panelLabel:v,token:function t(r){var o="visible";e.addClass(d.CLASS_NAME_DISABLED);i.addClass(o);a.default.post(f,{stripeToken:r.id}).then((function(){["last4","exp_month","exp_year"].forEach((function(e){n.find(".".concat(e)).text(r.card[e])}));e.removeClass(d.CLASS_NAME_DISABLED);i.removeClass(o)})).fail(p.errorModalHandler)},closed:function t(){e.removeClass(d.CLASS_NAME_DISABLED)}},h);e.addClass(d.CLASS_NAME_DISABLED);StripeCheckout.configure(m).open(h)}}))};I.switchPlanModal=function(e){e.on("click",(function(){(0,l.jqGetElemById)("payment-switch-plan-modal").clone(true).modal()}))};I.redeemPremiumPerk=function(e){e.on("submit",(function(t){t.preventDefault();e.find("button").prop("disabled",true);var n=e.data();var i={perk_type:n.perkType};a.default.post(e.prop("action"),i).fail(p.showStandardErrorModal).then((function(t){if(t.success===true){if(n.nextUrl){window.location.href=n.nextUrl}else{e.parents(".modal").modal("hide");(0,l.jqGetElemById)("perk-modal-trigger").addClass(d.CLASS_NAME_ACTIVE)}}else{(0,p.showStandardErrorModal)()}}))}))};I.couponCountdown=function(){var e=null,t=null,n=null;var a=function e(t){t=t.toString();return t<10?"0"+t:t};var r=function t(i,r,o,s){var l=Math.round((new Date).getTime()/1e3)-i,c=r-l;if(l>0||s){if(c<0){c=0}var u=~~(c/86400);var d=~~(c%86400/3600);var f=~~(c%3600/60);var p=c%60;var v={days:u,hours:u>0?a(d):d,minutes:a(f),seconds:a(p)};var h=o(v);if(h!==n){e.text(h);n=h}}return c};return function(n){var a=i.default.template(n.data("template"));var o=n.data("seconds");var s=Math.round((new Date).getTime()/1e3);e=e===null?n:e.add(n);i.default.defer((function(){r(s,o,a,true);e.removeClass("hide")}));if(t===null){t=setInterval((function(){if(r(s,o,a)<=0){clearInterval(t);e.parents(".hdr-coupon").remove()}}),250)}}}();function G(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=null;var r=null;if(n===null){n=(0,l.jqGetElemById)("paypal-modal");r=n.find(".sell-page");n.removeClass("hide").appendTo(l.$body);n.find(".close").on("click",(function(){r.removeClass("visible");(0,u.crop)(false);var e=(0,a.default)("#payment-request-button-mobile-button");if(e.length>0){J(e)}}));var o=n.find(".".concat(e," .payment-request-button"));if(o.length>0){J(o)}}i.default.defer((function(){var i=(0,a.default)(".modal-bg .modal:visible");if(i.length){i.modal("hide")}n.removeClass("annual monthly lifetime").addClass(e);n.toggleClass("single-option",t);r.addClass("visible");(0,u.crop)();if(T){n.find("[name=gift_message_id]").val(T)}}))}I.paypalModalTrigger=function(e){e.on("click",(function(){var t=e.data(),n=t.plan,a=t.singlePaymentOption;G(n,a)}))};I.paypalCheckoutButtons=function(e){e.find(".paypal a,.paypal button").on("click",(function(e){(0,a.default)(this).parents(".paypal").addClass("loading")}))};I.salesCardTrigger=function(e){var t=null;n.e(116).then(n.t.bind(null,1292,7));if(l.isMobile){n.e(114).then(n.t.bind(null,1293,7))}e.on("click",(function(n){n.preventDefault();if(t){t.modal("show")}else{var r=e.data();var o={element_id:r.axId,source_chapter_id:r.sourceChapterId,source_chapter_slug:r.sourceChapterSlug,target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)};t=(0,a.default)('<div class="b2-sales-card modal"><span class="spinner"></span></div>');t.modal();a.default.get(r.salesUrl,o).then((function(e){i.default.defer((function(){var n=(0,a.default)(e);l.$body.append(n);t.modal("hide");t=n;var i=function e(){var n=t.find(".content");if((0,u.getScrollHeight)(n)>n.outerHeight()){n.addClass("scrollable")}};t.find("img").on("load",i);t.on("show",(function(){c.loadForElement(t);i()}));t.modal()}))})).fail((function(){window.location.href=e.attr("href")}))}}))};I.switchPaywallPosition=function(e){var t=e.find("#prac-markers .prac-marker");var n=e.find("#prev-marker-btn");var i=e.find("#next-marker-btn");var r=e.find(".spm-feature");var o=t.length;var s=1;var l=s;var c="current";var u="disabled";var d=function e(a){r.removeClass(c);r.filter('[data-position="'+l+'"]').addClass(c);t.removeClass(c);if(a){a.addClass(c)}else{t.filter('[data-position="'+l+'"]').addClass(c)}n.removeClass(u);i.removeClass(u);if(l==s){n.addClass(u)}else if(l==o){i.addClass(u)}};t.on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);var n=t.data("position");if(n!=l){l=n;d(t)}}));n.on("click",(function(e){e.preventDefault();if(!(0,a.default)(this).hasClass(u)){l--;d()}}));i.on("click",(function(e){e.preventDefault();if(!(0,a.default)(this).hasClass(u)){l++;d()}}))};I.acceptSubLifetimeUpgrade=function(e){(0,l.jqGetElemById)("accept-sub-continue").on("click",(function(){e.one("transitionend",(function(){e.addClass("step-2 ".concat(d.CLASS_NAME_ANIM_IN));if(l.isMobile){(0,l.setScrollPosition)(0,{animate:true})}}));e.removeClass(d.CLASS_NAME_ANIM_IN)}))};I.premiumSurvey=function(){(0,l.setScrollPosition)(0,{animate:true,duration:d.TRANSITION_SPEED_FAST})};I.twinklingStars=function(e){e.find(".premium-stars").remove();var t=e.data();if(!t){return}var n=e.offset();var r=e.outerWidth();var o=e.outerHeight();var s=[];var l=t["starCount"];var c=10;var u=4e3;var d=5e3;var f=[];e.find(".no-stars").each((function(){var e=(0,a.default)(this);var t=e.offset();f.push({left:t.left-n.left-c,right:t.left+e.outerWidth()-n.left+c,top:t.top-n.top-c,bottom:t.top+e.outerHeight()-n.top+c})}));var p=function e(t){var n=t.left/100*r+1.5;var a=t.top/100*o+1.5;for(var i=0;i<f.length;i++){var s=f[i];if(n<s.left||n>s.right||a<s.top||a>s.bottom){continue}return true}return false};var v=document.createElement("span");v.className="premium-stars";for(var h=0;h<l;h++){var m=0;do{var g={left:.5+Math.random()*99,top:2+Math.random()*96};m++}while(p(g)&&m<50);s[h]=document.createElement("span");s[h].className="type-"+~~(Math.random()*3+1);s[h].style.left=g.left+"%";s[h].style.top=g.top+"%";v.appendChild(s[h])}e.append(v);if(!t.static||t.static!==true){i.default.defer((function(){for(var e=0;e<l;e++){var t=~~(Math.random()*u)+d;s[e].style.webkitAnimationDuration=s[e].style.animationDuration=u+"ms";s[e].style.webkitAnimationDelay=s[e].style.animationDelay=t+"ms"}}))}};function R(e){e=e||null;return function(t,n){n=n||{};if(e){t+="_"+e}(0,o.track)("ui",i.default.extend({},{element_type:"button",element_id:t,path:window.location.pathname,full_path:window.location.pathname+window.location.search},n))}}I.freeTrialModal=function(e){var t=e.find(".paywall-free-trial-options button");var n=e.find("#step-0-continue");var r=e.find("#free-trial-continue");var o=e.data();var s="active";var c="paywall-free-trial-modal-active";var u;var d=null;var f=function t(){u.toggleClass("centered",e.outerHeight()<l.$window.height())};var p=n.length?R("chapter"):R();t.on("click",(function(){if(d===null){r.removeClass("disabled").removeAttr("disabled")}var e=(0,a.default)(this);if(!e.hasClass(s)){t.removeClass(s);e.addClass(s);d=e.data("option")}}));n.on("click",(function(){if(o.introOnly){if(o.nextChapterUrl){p("clicked_chapter_completion_next_chapter");window.location=o.nextChapterUrl}else{p("clicked_chapter_completion_premium_close");e.modal("hide")}}else{p("clicked_free_trial_intro_continue");e.addClass("step-1")}}));r.on("click",(function(){if(!d){return}p("clicked_free_trial_continue",{free_trial_selected_option:d});if(d==="limited"){if(e.find(".step-2").length){e.removeClass("step-1").addClass("step-2");e.find("#free-trial-close").on("click",(function(){p("clicked_free_trial_limited_close");e.modal("hide")}))}else{e.modal("hide")}}else{e.modal("hide");i.default.defer((function(){p(o.premiumAxId)}));window.open(o.premiumUrl)}}));e.on("show",(function(){l.$body.addClass(c);p("viewed_free_trial_modal");i.default.defer((function(){u=e.parent();f()}));l.$window.on("resize.freeTrialModal",i.default.throttle(f,16))}));e.on("hide",(function(){l.$body.removeClass(c);l.$window.off("resize.freeTrialModal")}));e.modal({backdrop:"static"})};I.cancellationStep=function(e){var t=e.data("step");var n={action:"viewed_autorenew_cancel_slide",step_position:t,is_first_step:t===1,is_last_step:t===4};if(t>1&&e.find(".errorlist").length===0){(0,l.setScrollPosition)(0)}if(t>1){n.triggered_by=d.INTERACTION_TYPES.CONTINUE_BUTTON}i.default.defer((function(){return(0,o.track)("ui",n)}))};I.giftPurchaseList=function(e){var t={giftSummaryModal:i.default.template((0,l.jqGetElemById)("gift-summary-modal-template").text()),turnOffRecurringGiftModal:i.default.template((0,l.jqGetElemById)("turn-off-recurring-gift-modal-template").text())};e.find(".recurring-gift").each((function(e,n){var r=(0,a.default)(n);var o=r.data();var s=function e(t){var n="subscription-state";r.attr("data-".concat(n),t);r.data(n,t)};r.find(".show-gift-summary-modal").on("click",(function(){var e=(0,a.default)(t.giftSummaryModal(o));var n=e.find(".auto-renew-note");(0,a.default)(".gift-summary-modal").remove();l.$body.append(e);e.modal();e.find(".turn-on-auto-renew").on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);if(t.hasClass(d.CLASS_NAME_DISABLED)){return}var i=t.attr("href");t.addClass(d.CLASS_NAME_DISABLED);a.default.post(i).fail(p.showStandardErrorModal).then((function(e){if(e.state==="active"){n.removeClass("onetime").addClass("recurring");t.removeClass(d.CLASS_NAME_DISABLED);s(e.state)}else{(0,p.showStandardErrorModal)()}}))}));e.find(".turn-off-auto-renew").on("click",(function(r){r.preventDefault();var c=(0,a.default)(r.currentTarget);if(c.hasClass(d.CLASS_NAME_DISABLED)){return}var f=c.attr("href");var v=(0,a.default)(t.turnOffRecurringGiftModal(o));e.modal("hide");(0,a.default)(".turn-off-recurring-gift-modal").remove();l.$body.append(e);v.modal();v.on("hide",(function(){e.modal("show");i.default.defer(u.crop)}));v.find(".turn-off").on("click",(function(){v.find("button").addClass(d.CLASS_NAME_DISABLED);a.default.post(f).fail(p.showStandardErrorModal).then((function(e){if(e.state==="recurring_stopped"){n.removeClass("recurring").addClass("onetime");v.modal("hide");s(e.state)}else{(0,p.showStandardErrorModal)()}}))}))}))}))}))};I.refundForm=function(e){var t="expanded";var n=e.data(),a=n.minChars,i=n.maxChars;var r=e.find('[name="refund_request_choice"]');var o=e.find("textarea");var s=e.find("button");var l=function n(){var l=false;if(r.val().length===0){l=true}var c=o.filter("[name=explanation]").val();if(c.length<a||c.length>i){l=true}if(e.hasClass(t)){var u=["why_subscription","where_lacking","who_would_benefit"];o.each((function(e,t){var n=t.value.length;var r=u.indexOf(t.name)>=0&&(n<a||n>i);if(r){l=true}}))}s.prop("disabled",l)};var c=function n(){var a=r.val();var i=a==="2"||a==="5";e.toggleClass(t,i)};o.on("change keyup",l);r.on("change",(function(){c();l()}))};var H=undefined;var V=undefined;var W=undefined;var K=undefined;var J=function e(t){var n=t.find(".payment-request-button-inner")[0];if(!W){var i=Stripe(t.data("stripe-public-key"));W=i.paymentRequest({country:"US",currency:t.data("currency").toLowerCase(),total:{label:t.data("label"),amount:t.data("amount")},requestPayerName:true,requestPayerEmail:true});var r=i.elements();K=r.create("paymentRequestButton",{paymentRequest:W,style:{paymentRequestButton:{theme:"light-outline",height:"43px"}}});W.canMakePayment().then((function(e){if(e){K.mount(n);H=t.data("subscribe-url");V=t.data("plan-id")}else{(0,a.default)(".paymentrequest").hide()}}));W.on("token",(function(e){a.default.post({url:H,headers:{"X-CSRFToken":t.data("csrf-token")},data:{plan:V,stripeToken:e.token.id,payment_request_method:e.methodName}}).done((function(){e.complete("success");window.location.href=t.data("success-url")})).fail((function(){e.complete("fail")}))}))}else if(t!==undefined&&H!==undefined){K.unmount();W.update({currency:t.data("currency").toLowerCase(),total:{label:t.data("label"),amount:t.data("amount")}});H=t.data("subscribe-url");V=t.data("plan-id");K.mount(n)}};I.PaymentRequest=function(e){if(e.data("mobile-button")!==undefined){J(e)}};I.giftPromoBannerLoggedIn=function(e){var t=e.find(".close-btn");var n=e.data();t.on("click",(function(t){t.preventDefault();e.remove();s.default.update(n.flagName,true)}))};e.exports=I},13:function(e,t,n){"use strict";var a=f(n(1));var i=f(n(9));var r=n(11);var o=d(n(41));var s=n(3);var l=n(20);var c=n(15);var u=n(15);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return m(e)||h(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function m(e){if(Array.isArray(e))return e}var g={};g.CustomSelectbox=function(){function e(e){var t=(0,a.default)("select",e),n=(0,a.default)(".dropdown-toggle",e),i=(0,a.default)(".dropdown-menu a",e),r="active",o="."+r;i.on("click",(function(e){var s=(0,a.default)(this);e.preventDefault();if(s.hasClass("disabled")){return}n.find("span:first").html(s.html());t.val(s.data("opt-value"));t.trigger("change");i.filter(o).removeClass(r);s.addClass(r)}));i.filter(o).trigger("click")}return e}();g.Anchors=new function(){var e=this,t={scrollable_container_selector:".nf-feeditem-modal"};e.scrollToTarget=function(e,n){n=n||function(){};var i=e.parents(t.scrollable_container_selector).first();if(i.length&&i[0].scrollHeight==i.outerHeight()){i=(0,a.default)()}if(e.length){var r=e.offset().top;var o;var l=0;if(!i.length){if(s.isMobile){o=(0,a.default)(".m-action-bar")}else if(s.userIsAuthenticated){o=(0,s.jqGetElemById)("header")}}if(!e.hasClass("anchor")&&o){o.each((function(e,t){l+=(0,a.default)(t).outerHeight()}))}if(i.length){var c=r-i.offset().top;(0,s.setScrollPosition)(c+i.scrollTop()-l,{$container:i,animate:true,callback:n})}else{(0,s.setScrollPosition)(r-l,{animate:true,callback:n})}}else{n()}};e.controller=function(t){(0,s.jqOffOn)(t,"click.scrolltotarget",(function(n){n.preventDefault();e.scrollToTarget((0,a.default)(t.data("target")))}))};e.init=function(){var t=window.location.hash;var n=(0,s.jqGetElemById)(t.substr(1));if(t&&t.length&&n.length>0&&!n.hasClass("anchor")){(0,s.setScrollPosition)(0);setTimeout((function(){(0,s.setScrollPosition)(0);e.scrollToTarget(n)}),10)}s.$document.on("click",'a[href^="#"]',(function(t){t.preventDefault();var n=(0,a.default)(t.currentTarget).attr("href").substr(1);if(n&&n.length){var i=(0,s.jqGetElemById)(n);if(i.length){e.scrollToTarget(i);window.location.hash=n}}}))};return e};g.scrollFixedElements=function(){var e=[{$elem:(0,s.jqGetElemById)("header"),shiftProperty:"margin-left"}];var t=0;var n=false;e=e.filter((function(e){return e.$elem.length>0}));if(e.length===0){return}var a=function n(){var a=s.$window.scrollLeft();if(a!==t){e.forEach((function(e){e.offset=e.offset||parseInt(e.$elem.css(e.shiftProperty),10);var n=e.offset-(a-t);e.$elem.css(e.shiftProperty,"".concat(n,"px"));e.offset=n}));t=a}};var i=function t(){var i=document.documentElement,r=i.scrollWidth,o=i.clientWidth;if(!n&&r>o){a();s.$window.on("scroll",a);n=true}if(n&&r===o){e.forEach((function(e){return e.$elem.css(e.shiftProperty,"")}));s.$window.off("scroll",a);n=false}};i();s.$window.on("resize",i)};g.crop=function(e){i.default.defer((function(){if(!s.isMobile||navigator.userAgent.toLowerCase().indexOf("android")>=0){s.$body.toggleClass("cropped",e!==false)}else{var t=s.$body.children(".modal-bg");if(e!==false){t.on("touchstart.crop",(function(e){this.allowUp=this.scrollTop>0;this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight;this.lastY=e.originalEvent.pageY})).on("touchmove.crop",(function(e){var t=e.originalEvent;var n=t.pageY>this.lastY;var a=!n;this.lastY=t.pageY;if(n&&this.allowUp||a&&this.allowDown){t.stopPropagation()}else{t.preventDefault()}}))}else{t.off(".crop")}}}))};g.sticky=function(e){e.affix({offset:{top:e.offset().top+(e.data("offset-top")||0)}})};g.toggleButtonLoadingState=function(){var e=null;return function(t,n){if(n&&!e){var i=(0,a.default)("<span/>").text(".").addClass("dot").css("visibility","hidden"),r=i.clone(),o=t.find(".b2-flag").clone(),s=1;t.data("original-text",t.text()).text("Loading.").append(i,r).append(o);e=setInterval((function(){s=s==3?1:s+1;i.css("visibility",s>1?"visible":"hidden");r.css("visibility",s==3?"visible":"hidden")}),333)}else if(e){t.html(t.data("original-text"));clearInterval(e);e=null}}}();g.showConfirmationModal=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.title,n=t===void 0?"Are you sure?":t,i=e.text,r=e.cancelBtnText,o=r===void 0?"Cancel":r,l=e.confirmBtnText,c=l===void 0?"Yes":l,u=e.classes,d=u===void 0?"":u;return new Promise((function(e){var t=false;var r=i?"<p>".concat(i,"</p>"):"";(0,s.jqGetElemById)("confirm-modal").remove();var l='<div class="modal hide '.concat(!n?"no-title":""," ").concat(d,'" id="confirm-modal">\n            <div class="modal-header"><h3>').concat(n,'</h3></div>\n            <div class="modal-body">').concat(r,'</div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(o,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(c,"</a>\n            </div>\n        </div>");l=l.replace(/>\s+</g,"><");s.$body.append(l);var u=(0,s.jqGetElemById)("confirm-modal");u.find(".confirm").on("click",(function(e){e.preventDefault();t=true;u.modal("hide")}));u.on("hide",(function(){e(t)}));(0,a.default)("body #confirm-modal").modal()}))};g.areYouSure=function(e){var t=false;e.on("click",(function(n){if(!t){n.preventDefault();g.showConfirmationModal({title:e.data("confirm-box-title")}).then((function(n){if(n){t=true;e.trigger("click")}}))}}))};g.modalController=function(e){var t=e.data();e.on("show",(function(){if(t.axId){setTimeout((function(){(0,r.track)("ui",{action:"modal",element_type:"modal",element_id:t.axId})}),1)}if(t.flag){o.update(t.flag,true)}}));e.modal({show:false});var n=true;if(t.trigger){(0,a.default)(t.trigger).on("click",(function(t){t.preventDefault();e.modal("show")}));n=t.autoshow===true}if(n){e.modal("show")}};g.fitDropdownIntoViewport=function(e){var t=e.find(".dropdown-menu"),n=10,a="resize.ddresize scroll.ddresize",r="vertical-scrollbar",o=false,l;function c(){var e=s.$window.height()+s.$document.scrollTop()-n;var a=t.offset().top+t.outerHeight();var i=t.height()-(a-e);if(i>l){if(o){t.css("height","auto").removeClass(r);o=false}}else{if(!o){t.addClass(r);o=true}t.height(i)}}function u(){l=t.height();c()}e.on("opened",(function(){u();s.$window.on(a,i.default.throttle(c,20))})).on("close",(function(){t.css("height","auto");s.$window.off(a)})).on("update",u)};g.fadeOutOnComponentLoad=function(e){e.fadeOut(2e3)};g.autocomplete=function(e){var t=e.find(".autocomplete-field"),n=e.find(".autocomplete-target"),r=e.data();if(r.autocompleteUrl&&t.length&&n.length){var o,s=[];var l=function e(t){var n=t.title||t.name;if(r.showIds){n+=" ["+t.id+"]"}return n};var c=function e(t,n){return a.default.Event("autocomplete."+t,{autocomplete:n})};t.typeahead();t.on("focus",(function(){t.select()}));t.on("keypress",(function(n){clearTimeout(o);o=setTimeout((function(){var n=t.val();if(n.length>=3){var i=e.data("autocomplete-url");var o={};o[r.paramName||"query"]=n;a.default.get(i,o).then((function(e){s=e;t.data("typeahead").source=e.map(l);if(e.length){t.typeahead("lookup")}}))}}),500)}));t.on("ta_select",(function(e){var a=t.val(),i;for(var r in s){i=s[r];if(l(i)===a){n.val(i.id);n.trigger("change");t.trigger(c("select",i));t.data("previous-value",a);return}}}));t.on("blur",(function(){setTimeout((function(){t.typeahead("hide");if(t.val()===""){n.val("");n.trigger("change");t.trigger(c("select",{id:null,title:null}))}else{t.val(t.data("previous-value"))}}),200)}));t.on("autocomplete.reset",(function(){t.data("typeahead").source=[]}));t.data("previous-value",t.val());i.default.defer((function(){t.trigger(c("ready",{id:n.val(),title:t.val()}))}))}};g.hasPlaceholder=function(e){var t=e.data("placeholder");if(t){var n="placeholder",a=function a(){if(e.val().trim()===""){e.val(t).addClass(n)}},i=function t(){if(e.hasClass(n)){e.val("").removeClass(n)}};if(e.val()===t){e.val("")}if(!e.is(":focus")&&!e.is(":selected")){a()}e.on("focus select",i).on("blur",a);e.parents("form").on("submit",i)}};g.quadLimitWarning=function(e){var t=e.find("textarea");var n=null;var r=false;var o=e.data("quad-warning");var s=5;var l=/\\qq?uad/g;var c=function i(){var c=t.val().match(l);if(c&&c.length>=s){r=true;if(n){n.show()}else{n=(0,a.default)('<ul class="errorlist"><li>'+o+"</li></ul>");e.append(n)}}else if(n&&r){r=false;n.hide()}};t.on("keyup input",c);i.default.defer(c)};g.showAndHideContent=function(e){e.find(".btn").on("click",(function(t){t.preventDefault();e.nextAll("blockquote.hidden").first().toggleClass("show")}))};g.preventDoubleClick=function(e){e.find("a,button").on("click",(function(e){var t=(0,a.default)(this);if(t.hasClass("disabled")){e.preventDefault()}else{t.addClass("disabled")}}))};g.genericSignupModal=function(e){var t=(0,s.jqGetElemById)("signup-modal-generic");if(t.length){t.modal({show:false});e.on("click",(function(n){n.preventDefault();t.modal("show");var i=t.find(".public-signup-left");if(i.length&&!i.data("already-opened")){i.data("already-opened",true);i.attr("data-already-opened",true);(0,r.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:true,is_last_step:false})}var o=t.find(".public-signup-right");if(o.length){var s="show-form";var l="show-signup";var d="show-login";if(e.data("show-login")){o.removeClass(s+" "+l).addClass(d)}else{o.removeClass(s+" "+d).addClass(l)}}var f=e.data("next");if(f){t.find(".btn-email").data("next",f);t.find(".signup-social").each((function(e,t){var n=t.href.split("?")[0];var i="next=".concat(encodeURIComponent(f));(0,a.default)(t).attr("href","".concat(n,"?").concat(i))}))}var v=(0,c.getParamsObject)()["from-course"];if(v){t.find(".btn-email").data("signup_course_slug",v);t.find(".signup-social").each((function(e,t){if(t.href.indexOf("from-course=")<0){var n=t.href.split("next="),i=p(n,2),r=i[0],o=i[1];o=decodeURIComponent(o);o=(0,u.appendGetParam)(o,"from-course",v);var s=o.split("?"),l=p(s,2),c=l[0],d=l[1];d=encodeURIComponent("?".concat(d));var f="".concat(r,"next=").concat(c).concat(d);(0,a.default)(t).attr("href",f)}}))}}))}};g.selectAll=function(e){var t=e.data("parent")||null;var n;if(t){n=e.parents(t)}else{n=e}n.on("click",(function(t){e.select()}))};g.hundredDayButton=function(e){setTimeout((function(){e.removeClass("wiggle-less")}),5e3)};g.interceptClicks=function(e){var t=(0,s.jqCreateElem)("button");t.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,zIndex:100});t.on("click",(function(){window.location=e.data("target")}));e.children().append(t)};g.selectPlaceholder=function(e){if(e[0].tagName!=="SELECT"){return}var t="not-selected";var n=function n(){e.toggleClass(t,e[0].selectedIndex===0)};n();e.on("change",n)};g.keyboardNavigation=function(e){var t=e.key||"";var n=e.guard||i.default.noop;var r=e.left||i.default.noop;var o=e.right||i.default.noop;var l=["input","textarea"];var c=function e(){var t=document.activeElement;if(l.indexOf(t.tagName.toLowerCase())>=0&&(!t.type||t.type!=="button")){return t.value&&t.value.length||(0,a.default)(t).parents(".CodeMirror").length}return false};(0,s.jqOffOn)(s.$body,"keydown.keynav".concat(t),(function(e){if(e.metaKey||c()||n()===false){return}if(e.which===37){e.preventDefault();r()}else if(e.which===39){e.preventDefault();o()}}))};g.isVisibleInContainer=function(e,t){if(!e.is(":visible")){return false}var n=t[0]===window?0:t.offset().top;var a=t.scrollTop();var i=a;var r=i+t.height();var o=(t[0]===window?0:a)+e.offset().top-n;var s=o+e.outerHeight();return o<=r&&s>=i};g.isInViewport=function e(t){return g.isVisibleInContainer(t,s.$window)};g.deferImage=function(e){var t=e.data("src");if(t){(0,l.onLoad)((function(){setTimeout((function(){e.on("load",(function(){e.removeAttr("width");e.removeAttr("height")}));e.prop("src",t)}),1)}))}};g.showGenericModal=function(e,t){var n="";n+='<div class="modal-header">';n+='<button type="button" class="close" data-dismiss="modal">&times;</button>';if(e){n+="<h3>".concat(e,"</h3>")}n+="</div>";n+='<div class="modal-body">';if(t){n+="<p>".concat(t,"</p>")}n+="</div>";n+='<div class="modal-footer">\n            <a href="#" class="btn btn-accent" data-dismiss="modal">Close</a>\n        </div>';(0,a.default)("body #auto-modal").remove();(0,a.default)("body .modal-bg").remove();(0,a.default)(".modal:visible").modal("hide");(0,a.default)("body").append('<div class="modal hide" id="auto-modal">'.concat(n,"</div>"));return(0,a.default)("body #auto-modal").modal()};g.getScrollHeight=function(e){if(!e.length){return null}return e[0].scrollHeight};(0,l.onDOMReady)((function(){if(!s.isMobile){g.scrollFixedElements()}g.Anchors.init()}));g.clickableHover=function(e){var t="hover";e.on("mouseenter",(function(){return e.addClass(t)}));e.on("mouseleave",(function(){return e.removeClass(t)}));e.on("click",(function(){return e.removeClass(t)}))};e.exports=g},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.wistiaController=g;t.videoController=y;t.popoverController=_;t.videoPlaceholder=b;var a=l(n(1));var i=l(n(9));var r=n(11);var o=n(3);var s=n(12);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return f(e)||d(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function f(e){if(Array.isArray(e))return e}var p={};function v(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(window.Wistia&&!n){var a=window.Wistia.api(e);if(a){t(a)}else{v(e,t,true)}}else{window._wq=window._wq||[];window._wq.push({id:e,onHasData:function e(n){t(n)}})}}function h(e,t){var n=t.find("template");var i=p[e];if(i){t.find(".embed-wrapper").remove();t.append(i.find(".embed-wrapper").clone())}else if(n.length){var r=(0,a.default)("<div>").html(n.html());t.append(r.find(".embed-wrapper").clone());p[e]=r}}var m=function e(t,n){(0,r.track)("ui",{action:"video_action",element_id:t,video_id:n})};function g(e){var t=e.data("video");var n=e.data("ax-id");h(t,e);v(t,(function(a){var i=["play","pause","end"];if(a.options.endVideoBehavior!=="loop"){i.push("seek")}var r=function t(){if(e.is(":visible")){var n=e.data("width");var i=a.height();var r={};if(!n){n=e.width()}var o=Math.min(n,e.width());i=o/a.aspect();r.width=o;setTimeout((function(){return a.height(i,{constrain:true})}),1);r.height=i;e.children().css(r)}};r();if(n){m("video_wistia_viewed_".concat(n))}a.bind("heightchange",r);i.forEach((function(e){a.bind(e,(function(){return m("video_wistia_".concat(e),t)}))}))}))}function y(e){var t=e.data("video");var n=e.data("assets");var r=e.data("caption-url");var l=e.find("video");var u=l.find("track");var d=+l.attr("width");var f=+l.attr("height");var p=["play","pause","ended"];var v="hide";var h="width";var g="paused";var y="started";var _="play";var b="video-toggle";if(!l[0].hasAttribute("loop")){p.push("seeked")}if(l[0].hasAttribute("autoplay")&&!l[0].hasAttribute("muted")&&!e.is(":visible")&&!o.isNative){l[0].removeAttribute("autoplay")}if(n!==undefined&&!l[0].src){var w=e.width();e.parents().each((function(e,t){var n=(0,a.default)(t);var i=n.width();if(i!==0&&i<=window.innerWidth){if(i<w||w===0){w=i}return false}return true}));if(e.data(h)<w){w=e.data(h)}w*=window.devicePixelRatio;var k=n.filter((function(e){return e.width>=w}));if(k.length===0){k=n[n.length-1]}else{var C=k;var x=c(C,1);k=x[0]}l[0].src=k.url}if(r&&u.length>0){u[0].src=r}if(e.find("button.".concat(b)).length===0){var E="".concat(b," ").concat(l[0].paused?g:"");if(!l[0].hasAttribute("muted")){E+=" has-controls"}e.append('<button aria-label="play" type="button" class="'.concat(E,'"></button>'))}e.find(".".concat(b)).on("click",(function(e){e.preventDefault();if(l[0].paused===true){l[0].play()}else{l[0].pause()}}));l.on("play pause",(function(t){var n=e.find(".".concat(b));if(t.type===_&&!n.hasClass(y)){n.addClass(y)}if(l[0].paused===true){n.removeClass(_);n.addClass(g)}else{n.removeClass(g);n.addClass(_)}}));p.forEach((function(e){l.on(e,(function(){return m("video_wistia_".concat(e),t)}))}));var I="".concat(s.EVT_QUIZ_POSITION_WILL_CHANGE,".video").concat(t);var T="".concat(s.EVT_QUIZ_POSITION_DID_CHANGE,".video").concat(t);o.$window.on(I,(function(){if(document.body.contains(e[0])){if(l[0].paused===false){l[0].setAttribute("data-was-playing",true)}else{l[0].removeAttribute("data-was-playing")}l[0].pause();o.$window.off(I);o.$window.on(T,(function(){if(document.body.contains(e[0])){if(l.data("wasPlaying")){l[0].play()}o.$window.off(T)}}))}}));setTimeout((function(){return l.removeClass(v)}),1);var O=function e(){var t=l.width();if(t!==d){l.attr("height",Math.round(t/d*f))}else{l.attr("height",f)}};o.$window.on("resize ".concat(s.EVT_DAILYPROBLEM_MAINBODY_EXPANDED," "),i.default.throttle(O,16));i.default.defer(O)}function _(e){var t=e.find(".popover-video.modal");var n=t.find(".video-container");e.on("click",(function(){t.modal();y(n)}))}function b(e){var t=e.find("button");t.on("click",(function(){var t=e.find("template");if(t.hasClass("wistia-video")){e.css("height",e.height());v(e.data("video"),(function(t){setTimeout((function(){return t.play()}));e.css("height","auto")}));e.html(e.find("template").html());e.find('[data-controller*="app/videos:wistiaController"]').each((function(e,t){g((0,a.default)(t))}))}else if(t.hasClass("video-container")){e.html(e.find("template").html());e.find('[data-controller*="app/videos:videoController"]').each((function(t,n){y((0,a.default)(n));var i=e.find("video");i[0].play()}))}}))}},137:function(module,exports,__webpack_require__){"use strict";var _jquery=_interopRequireDefault(__webpack_require__(1));var _underscore=_interopRequireDefault(__webpack_require__(9));var _cursor=_interopRequireDefault(__webpack_require__(85));var _global=__webpack_require__(3);var _ui=__webpack_require__(13);var _error_modal=__webpack_require__(30);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}var qq={};qq.extend=function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}};qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var a=e.length;if(n<0)n+=a;for(;n<a;n++){if(n in e&&e[n]===t){return n}}return-1};qq.getUniqueId=function(){var e=0;return function(){return e++}}();qq.attach=function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}};qq.detach=function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}else if(e.attachEvent){e.detachEvent("on"+t,n)}};qq.preventDefault=function(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}};qq.insertBefore=function(e,t){t.parentNode.insertBefore(e,t)};qq.remove=function(e){e.parentNode.removeChild(e)};qq.contains=function(e,t){if(e==t)return true;if(e.contains){return e.contains(t)}else{return!!(t.compareDocumentPosition(e)&8)}};qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;e.removeChild(n);return n}}();qq.css=function(e,t){(0,_jquery.default)(e).css(t)};qq.hasClass=function(e,t){(0,_jquery.default)(e).hasClass(t)};qq.addClass=function(e,t){(0,_jquery.default)(e).addClass(t)};qq.removeClass=function(e,t){(0,_jquery.default)(e).removeClass(t)};qq.setText=function(e,t){e.innerText=t;e.textContent=t};qq.children=function(e){var t=[],n=e.firstChild;while(n){if(n.nodeType==1){t.push(n)}n=n.nextSibling}return t};qq.getByClass=function(e,t){if(e.querySelectorAll){return e.querySelectorAll("."+t)}var n=[];var a=e.getElementsByTagName("*");var i=a.length;for(var r=0;r<i;r++){if(qq.hasClass(a[r],t)){n.push(a[r])}}return n};qq.obj2url=function(e,t,n){var a=[],i="&",r=function e(n,i){var r=t?/\[]$/.test(t)?t:t+"["+i+"]":i;if(r!="undefined"&&i!="undefined"){a.push(_typeof(n)==="object"?qq.obj2url(n,r,true):Object.prototype.toString.call(n)==="[object Function]"?encodeURIComponent(r)+"="+encodeURIComponent(n()):encodeURIComponent(r)+"="+encodeURIComponent(n))}};if(!n&&t){i=/\?/.test(t)?/\?$/.test(t)?"":"&":"?";a.push(t);a.push(qq.obj2url(e))}else if(Object.prototype.toString.call(e)==="[object Array]"&&typeof e!="undefined"){for(var o=0,s=e.length;o<s;++o){r(e[o],o)}}else if(typeof e!="undefined"&&e!==null&&_typeof(e)==="object"){for(var l in e){if(e.hasOwnProperty(l)){r(e[l],l)}}}else{a.push(encodeURIComponent(t)+"="+encodeURIComponent(e))}return a.join(i).replace(/^&/,"").replace(/%20/g,"+")};qq.FileUploaderBasic=function(e){this._options={debug:false,action:"/server/upload",params:{},button:null,multiple:true,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,filesLimit:0,onSubmit:function e(t,n){},onProgress:function e(t,n,a,i){},onComplete:function e(t,n,a){},onAllComplete:function e(t){},onCancel:function e(t,n){},messages:{typeError:"{file} has an invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",filesLimitError:"No more than {filesLimit} files are allowed to be uploaded.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function e(t){alert(t)}};qq.extend(this._options,e);this._filesInProgress=0;this._handler=this._createUploadHandler();if(this._options.button){this._button=this._createUploadButton(this._options.button)}this._preventLeaveInProgress()};qq.FileUploaderBasic.prototype={setParams:function e(t){this._options.params=t},getInProgress:function e(){return this._filesInProgress},_createUploadButton:function e(t){var n=this;return new qq.UploadButton({element:t,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function e(t){n._onInputChange(t)}})},_createUploadHandler:function e(){var t=this,n;if(qq.UploadHandlerXhr.isSupported()){n="UploadHandlerXhr"}else{n="UploadHandlerForm"}return new qq[n]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,onProgress:function e(n,a,i,r){t._onProgress(n,a,i,r);t._options.onProgress(n,a,i,r)},onComplete:function e(n,a,i){t._onComplete(n,a,i);t._options.onComplete(n,a,i)},onAllComplete:function e(n){t._options.onAllComplete(n)},onCancel:function e(n,a){t._onCancel(n,a);t._options.onCancel(n,a)}})},_preventLeaveInProgress:function e(){var t=this;qq.attach(window,"beforeunload",(function(e){if(!t._filesInProgress){return}e=e||window.event;e.returnValue=t._options.messages.onLeave;return t._options.messages.onLeave}))},_onSubmit:function e(){this._filesInProgress++},_onProgress:function e(t,n,a,i){},_onComplete:function e(t,n,a){this._filesInProgress--;if(a.error){this._options.showMessage(a.error)}},_onCancel:function e(){this._filesInProgress--},_onInputChange:function e(t){if(this._handler instanceof qq.UploadHandlerXhr){this._uploadFileList(t.files)}else{if(this._validateFile(t)){this._uploadFile(t)}}this._button.reset()},_uploadFileList:function e(t){var n;var a=0;for(n=0;n<t.length;n++){if(!this._validateFile(t[n],a)){return}a++}for(n=0;n<t.length;n++){this._uploadFile(t[n])}},_uploadFile:function e(t){var n=this._handler.add(t);var a=this._handler.getName(n);if(this._options.onSubmit(n,a)!==false){this._onSubmit(n,a);this._handler.upload(n,this._options.params)}},_validateFile:function e(t,n){var a,i,r,o;if(t.value){a=t.value.replace(/.*(\/|\\)/,"")}else{a=t["fileName"]!=null?t["fileName"]:t["name"];i=t["fileSize"]!=null?t["fileSize"]:t["size"]}if(!this._isAllowedExtension(a)){this._error("typeError",a);return false}else if(i===0){this._error("emptyError",a);return false}else if(i&&this._options.sizeLimit&&i>this._options.sizeLimit){this._error("sizeError",a);return false}else if(i&&i<this._options.minSizeLimit){this._error("minSizeError",a);return false}else if(this._options.filesLimit){if(n==undefined){n=0}if(this._handler._completed_files==undefined){r=0}else{r=this._handler._completed_files.length}if(this._handler._queue==undefined){o=0}else{o=this._handler._queue.length}if(this._options.filesLimit<=r+o+n){this._error("filesLimitError",a);return false}}return true},_error:function e(t,n){var a=this._options.messages[t];function i(e,t){a=a.replace(e,t)}var r=this._options.allowedExtensions;if(r[r.length-1].indexOf("and ")!==0){r[r.length-1]="and "+r[r.length-1]}i("{file}",this._formatFileName(n));i("{extensions}",r.join(", "));i("{sizeLimit}",this._formatSize(this._options.sizeLimit));i("{minSizeLimit}",this._formatSize(this._options.minSizeLimit));i("{filesLimit}",this._options.filesLimit);this._options.showMessage(a)},_formatFileName:function e(t){if(t.length>33){t=t.slice(0,19)+"..."+t.slice(-13)}return t},_isAllowedExtension:function e(t){var n=-1!==t.indexOf(".")?t.replace(/.*[.]/,"").toLowerCase():"";var a=this._options.allowedExtensions;if(!a.length){return true}for(var i=0;i<a.length;i++){if(a[i].toLowerCase()==n){return true}}return false},_formatSize:function e(t){var n=-1;do{t=t/1024;n++}while(t>99);return Math.max(t,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][n]}};qq.FileUploader=function(e){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader">'+'<div class="qq-upload-drop-area"><span>Drop files here to upload</span></div>'+'<div class="qq-upload-button">'+e["btnTitle"]+"</div>"+'<span class="spinner hide"></span>'+'<ul class="qq-upload-list"></ul>'+"</div>",fileTemplate:"<li>"+'<span class="qq-upload-file"></span>'+'<span class="qq-upload-spinner"></span>'+'<span class="qq-upload-size"></span>'+'<a class="qq-upload-cancel" href="#">Cancel</a>'+'<span class="qq-upload-failed-text">Failed</span>'+"</li>",classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}});qq.extend(this._options,e);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,"button"));this._bindCancelEvent();this._setupDragDrop()};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function e(t,n){var a=qq.getByClass(t,this._options.classes[n])[0];if(!a){throw new Error("element not found "+n)}return a},_setupDragDrop:function e(){var t=this,n=this._find(this._element,"drop");var a=new qq.UploadDropZone({element:n,onEnter:function e(a){qq.addClass(n,t._classes.dropActive);a.stopPropagation()},onLeave:function e(t){t.stopPropagation()},onLeaveNotDescendants:function e(){qq.removeClass(n,t._classes.dropActive)},onDrop:function e(a){var i=qq.getByClass(document,t._classes.drop);for(var r=0;r<i.length;r++){i[r].style.display="none"}qq.removeClass(n,t._classes.dropActive);if(!t._options.multiple&&a["dataTransfer"].files.length>1)alert("Multiple file uploads are disabled.");else t._uploadFileList(a["dataTransfer"].files)}});n.style.display="none";var i;qq.attach(document,"dragenter",(function(e){if(!a._isValidFileDrag(e))return;n.style.display="block";clearTimeout(i)}));qq.attach(document,"dragover",(function(e){if(!a._isValidFileDrag(e))return;clearTimeout(i)}));qq.attach(document,"dragleave",(function(e){if(!a._isValidFileDrag(e))return;var t=document.elementFromPoint(e.clientX,e.clientY);if(!t||t.nodeName=="HTML"){n.style.display="none"}clearTimeout(i);if(e.target===document.body){i=setTimeout((function(){n.style.display="none"}),200)}}))},_onSubmit:function e(t,n){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(t,n)},_onProgress:function e(t,n,a,i){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var r=this._getItemByFileId(t);var o=this._find(r,"size");o.style.display="inline";var s;if(a!=i){s=Math.round(a/i*100)+"% from "+this._formatSize(i)}else{s=this._formatSize(i)}qq.setText(o,s)},_onComplete:function e(t,n,a){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var i=this._getItemByFileId(t);qq.remove(this._find(i,"cancel"));qq.remove(this._find(i,"spinner"));if(a.success){qq.addClass(i,this._classes.success)}else{qq.addClass(i,this._classes.fail)}},_addToList:function e(t,n){var a=qq.toElement(this._options.fileTemplate);a.qqFileId=t;var i=this._find(a,"file");qq.setText(i,this._formatFileName(n));this._find(a,"size").style.display="none";this._listElement.appendChild(a)},_getItemByFileId:function e(t){var n=this._listElement.firstChild;while(n){if(n.qqFileId==t)return n;n=n.nextSibling}},_bindCancelEvent:function e(){var t=this,n=this._listElement;qq.attach(n,"click",(function(e){e=e||window.event;var n=e.target||e.srcElement;if(qq.hasClass(n,t._classes.cancel)){qq.preventDefault(e);var a=n.parentNode;t._handler.cancel(a.qqFileId);qq.remove(a)}}))}});qq.UploadDropZone=function(e){this._options={element:null,onEnter:function e(t){},onLeave:function e(t){},onLeaveNotDescendants:function e(t){},onDrop:function e(t){}};qq.extend(this._options,e);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};qq.UploadDropZone.prototype={_disableDropOutside:function e(){if(!qq.UploadDropZone.dropOutsideDisabled){qq.attach(document,"dragover",(function(e){if(e["dataTransfer"]){e["dataTransfer"].dropEffect="none";e.preventDefault()}}));qq.UploadDropZone.dropOutsideDisabled=true}},_attachEvents:function e(){var t=this;qq.attach(t._element,"dragover",(function(e){if(!t._isValidFileDrag(e))return;var n=e["dataTransfer"].effectAllowed;if(n=="move"||n=="linkMove"){e["dataTransfer"].dropEffect="move"}else{e["dataTransfer"].dropEffect="copy"}e.stopPropagation();e.preventDefault()}));qq.attach(t._element,"dragenter",(function(e){if(!t._isValidFileDrag(e))return;t._options.onEnter(e)}));qq.attach(t._element,"dragleave",(function(e){if(!t._isValidFileDrag(e))return;t._options.onLeave(e);var n=document.elementFromPoint(e.clientX,e.clientY);if(qq.contains(this,n))return;t._options.onLeaveNotDescendants(e)}));qq.attach(t._element,"drop",(function(e){if(!t._isValidFileDrag(e))return;e.preventDefault();t._options.onDrop(e)}))},_isValidFileDrag:function e(t){var n=t["dataTransfer"],a=navigator.userAgent.indexOf("AppleWebKit")>-1;return n&&n.effectAllowed!="none"&&(n.files||!a&&n.types.contains&&n.types.contains("Files"))}};qq.UploadButton=function(e){this._options={element:null,multiple:false,name:"file",onChange:function e(t){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,e);this._element=this._options.element;qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};qq.UploadButton.prototype={getInput:function e(){return this._input},reset:function e(){if(this._input.parentNode){qq.remove(this._input)}qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function e(){var t=document.createElement("input");if(this._options.multiple){t.setAttribute("multiple","multiple")}t.setAttribute("type","file");t.setAttribute("name",this._options.name);qq.css(t,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});this._element.appendChild(t);var n=this;qq.attach(t,"change",(function(){n._options.onChange(t)}));qq.attach(t,"mouseover",(function(){qq.addClass(n._element,n._options.hoverClass)}));qq.attach(t,"mouseout",(function(){qq.removeClass(n._element,n._options.hoverClass)}));qq.attach(t,"focus",(function(){qq.addClass(n._element,n._options.focusClass)}));qq.attach(t,"blur",(function(){qq.removeClass(n._element,n._options.focusClass)}));if(window.attachEvent){t.setAttribute("tabIndex","-1")}return t}};qq.UploadHandlerAbstract=function(e){this._options={debug:false,action:"/upload.php",maxConnections:999,onProgress:function e(t,n,a,i){},onComplete:function e(t,n,a){},onAllComplete:function e(t){},onCancel:function e(t,n){}};qq.extend(this._options,e);this._queue=[];this._params=[];this._completed_files=[]};qq.UploadHandlerAbstract.prototype={log:function e(t){if(this._options.debug&&window.console)console.log("[uploader] "+t)},add:function e(t){},upload:function e(t,n){var a=this._queue.push(t);var i={};qq.extend(i,n);this._params[t]=i;if(a<=this._options.maxConnections){this._upload(t,this._params[t])}},cancel:function e(t){this._cancel(t);this._dequeue(t)},cancelAll:function e(){for(var t=0;t<this._queue.length;t++){this._cancel(this._queue[t])}this._queue=[]},getName:function e(t){},getSize:function e(t){},getQueue:function e(){return this._queue},_upload:function e(t){},_cancel:function e(t){},_dequeue:function e(t){var n=qq.indexOf(this._queue,t);this._queue.splice(n,1);var a=this._options.maxConnections;if(this._queue.length>=a){var i=this._queue[a-1];this._upload(i,this._params[i])}if(this._queue.length==0){this._onAllComplete()}},_onAllComplete:function e(){this._options.onAllComplete(this._completed_files)}};qq.UploadHandlerForm=function(e){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function e(t){t.setAttribute("name","qqfile");var n="qq-upload-handler-iframe"+qq.getUniqueId();this._inputs[n]=t;if(t.parentNode){qq.remove(t)}return n},getName:function e(t){return this._inputs[t].value.replace(/.*(\/|\\)/,"")},_cancel:function e(t){this._options.onCancel(t,this.getName(t));delete this._inputs[t];var n=document.getElementById(t);if(n){n.setAttribute("src","javascript:false;");qq.remove(n)}},_upload:function e(t,n){var a=this._inputs[t];if(!a){throw new Error("file with passed id was not added, or already uploaded or cancelled")}var i=this.getName(t);var r=this._createIframe(t);var o=this._createForm(r,n);o.appendChild(a);var s=this;this._attachLoadEvent(r,(function(){s.log("iframe loaded");var e=s._getIframeContentJSON(r);s._options.onComplete(t,i,e);s._dequeue(t);delete s._inputs[t];setTimeout((function(){qq.remove(r)}),1)}));o.submit();qq.remove(o);return t},_attachLoadEvent:function e(t,n){qq.attach(t,"load",(function(){if(!t.parentNode){return}if(t.contentDocument&&t.contentDocument.body&&t.contentDocument.body.innerHTML=="false"){return}n()}))},_getIframeContentJSON:function _getIframeContentJSON(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+doc.body.innerHTML);try{response=eval("("+doc.body.innerHTML+")")}catch(e){response={}}return response},_createIframe:function e(t){var n=qq.toElement('<iframe src="javascript:false;" name="'+t+'" />');n.setAttribute("id",t);n.style.display="none";document.body.appendChild(n);return n},_createForm:function e(t,n){var a=null;if(n.csrf_token&&n.csrf_name){var i='<input type="hidden" name="'+n.csrf_name+'" value="'+n.csrf_token+'" />';a=qq.toElement('<form method="post" enctype="multipart/form-data">'+i+"</form>")}else a=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');delete n.csrf_token;delete n.csrf_name;delete n.csrf_xname;var r=qq.obj2url(n,this._options.action);a.setAttribute("action",r);a.setAttribute("target",t.name);a.style.display="none";document.body.appendChild(a);return a}});qq.UploadHandlerXhr=function(e){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var e=document.createElement("input");e.type="file";return"multiple"in e&&typeof File!="undefined"&&typeof(new XMLHttpRequest).upload!="undefined"};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerXhr.prototype,{add:function e(t){if(!(t instanceof File)){throw new Error("Passed obj is not a File (in qq.UploadHandlerXhr)")}return this._files.push(t)-1},getName:function e(t){var n=this._files[t];return n.fileName!=null?n.fileName:n.name},getSize:function e(t){var n=this._files[t];return n["fileSize"]!=null?n["fileSize"]:n.size},getLoaded:function e(t){return this._loaded[t]||0},_upload:function e(t,n){var a=this._files[t],i=this.getName(t);this._loaded[t]=0;var r=this._xhrs[t]=new XMLHttpRequest;var o=this;r.upload.onprogress=function(e){if(e["lengthComputable"]){o._loaded[t]=e.loaded;o._options.onProgress(t,i,e.loaded,e.total)}};r.onreadystatechange=function(){if(r.readyState==4){o._onComplete(t,r)}};n=n||{};var s=null;var l=null;if(n.csrf_token&&n.csrf_xname){s=n.csrf_token;l=n.csrf_xname;delete n.csrf_token;delete n.csrf_xname;delete n.csrf_name}n["qqfile"]=i;var c=qq.obj2url(n,this._options.action);r.open("POST",c,true);r.setRequestHeader("X-Requested-With","XMLHttpRequest");r.setRequestHeader("X-File-Name",encodeURIComponent(i));r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");if(s)r.setRequestHeader(l,s);r.send(a)},_onComplete:function _onComplete(id,xhr){if(!this._files[id])return;var name=this.getName(id);var size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200||xhr.status==201){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);var response;try{response=eval("("+xhr.responseText+")")}catch(e){response={}}this._completed_files.push({file:this._files[id],response:response});this._options.onComplete(id,name,response)}else{this._completed_files.push({file:this._files[id],response:{}});this._options.onComplete(id,name,{})}this._files[id]=null;this._xhrs[id]=null;this._dequeue(id)},_cancel:function e(t){this._options.onCancel(t,this.getName(t));this._files[t]=null;if(this._xhrs[t]){this._xhrs[t].abort();this._xhrs[t]=null}}});qq.uploadController=function(e){var t=e.data();var n=0;var a=t.target?(0,_jquery.default)(t.target):null;var i=["jpg","jpeg","png","gif"];if(t.allowSvg){i.push("svg")}var r=new qq.FileUploader({action:t.url,element:e[0],multiple:true,allowedExtensions:i,sizeLimit:10*1024*1024,btnTitle:t["btnTitle"],onSubmit:function e(t,n){_global.$window.trigger(_jquery.default.Event("ajaxupload.start",{id:t,filename:n}))},onComplete:function e(i,r,o){if(o.success){var s=o.url;if(a){var l=o.filename.match(/\.([^.]*)$/)[1].toLowerCase();var c=t.isDailyProblem?500:300;var u=l==="svg"?"|width=".concat(c):"";var d="![](".concat(s).concat(u,"){: .center}\n");var f=_global.$window.scrollTop();_cursor.default.insert(a,d,n);a.trigger("autosave.save");a.trigger(_jquery.default.Event("ajaxupload.complete",{response:o}));a.each((function(e,t){t.dispatchEvent(new Event("input"))}));if(a.data("autosize")===true){a.trigger("autosize.resize")}_cursor.default.set(a,n+d.length);(0,_global.setScrollPosition)(f);var p=a.attr("id");if(p=="undefined__copy"){var v=a.attr("class").split(/\s+/).join(".");a.siblings(".".concat(v)).val(a.val())}else if(p.indexOf("__copy")){a.siblings("#"+p.replace("__copy","")).val(a.val())}}_global.$window.trigger(_jquery.default.Event("ajaxupload.complete",{imageUrl:s}))}else{a.trigger(_jquery.default.Event("ajaxupload.message",{message:"Upload failed"}));try{(0,_error_modal.showStandardErrorModal)()}catch(e){}}},onProgress:function t(){e.find(".spinner").show()},onAllComplete:function t(){e.find(".spinner").hide()},showMessage:function e(t){a.trigger(_jquery.default.Event("ajaxupload.message",{message:t}));try{(0,_ui.showGenericModal)("Error",t)}catch(e){}},params:{csrf_token:t.token,csrf_name:"csrfmiddlewaretoken",csrf_xname:"X-CSRFToken"}});e.data("ajax-uploader",r);if(a){var o=function e(){a.on("keydown",(function(){n=_cursor.default.get(a)}));a.on("focus",(function(){_underscore.default.defer((function(){n=_cursor.default.get(a)}))}));a.on("click",(function(){_underscore.default.defer((function(){n=_cursor.default.get(a)}))}))};if(a.length){o()}else{(0,_jquery.default)(t.target.replace("__copy","")).on("mentions.ready",(function(){a=(0,_jquery.default)(t.target);o()}))}}};module.exports=qq},138:function(e,t,n){"use strict";var a,i;!(a=[n(136),n(719)],i=function(e){e.defineSimpleMode("qsharp",{start:[{token:"comment",regex:/(\/\/|%).*/},{token:"string",regex:/^\"(?:[^\"\\]|\\[\s\S])*(?:\"|$)/},{token:"keyword",regex:/(^|\W)(?:namespace|open|operation|function|body|adjoint|controlled)\b/},{token:"keyword",regex:/\W(?:if|elif|else|repeat|until|fixup|for|in|return|fail)\b/},{token:"keyword",regex:/\W(?:Adjoint|Controlled|self|auto|none|distribute|invert|intrinsic)\b/},{token:"keyword",regex:/\W(?:let|set|new|not|and|or|using|borrowing|newtype|mutable)\b/},{token:"meta",regex:/\W(?:Int|BigInt|Double|Bool|Qubit|Pauli|Result|Range|String|Unit)\b/},{token:"atom",regex:/\W(?:true|false|Pauli(I|X|Y|Z)|One|Zero)\b/},{token:"builtin",regex:/(\\n|\W)(?:X|Y|Z|H|HY|S|T|SWAP|CNOT|CCNOT|MultiX|R|RFrac|Rx|Ry|Rz|R1|R1Frac|Exp|ExpFrac|Measure|M|MultiM)\b/},{token:"builtin",regex:/(\\n|\W)(?:Message|Length|Assert|AssertProb|AssertEqual)\b/}]});e.defineMIME("text/x-qsharp","qsharp")}.apply(t,a),i!==undefined&&(e.exports=i))},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setVal=u;t.controller=f;t.discardEdit=p;t.getEditHash=v;var a=o(n(1));var i=o(n(9));var r=o(n(423));function o(e){return e&&e.__esModule?e:{default:e}}function s(){try{return"localStorage"in window&&window.localStorage!==null}catch(e){return false}}function l(e){localStorage.removeItem(e)}function c(e,t,n){var a=e.timestamp?e.timestamp<=Date.now()-n:false;if(a){l(t)}}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!e.length){return}i.default.defer((function(){var n=e.find('textarea:not(.clone), input[type="text"]');var i=e.data();var r=i.autosaveField;var o=i.autosavePassive===true;if(!t){var s=i.autosaveKey;var l=i.autosaveUser;s=l?"".concat(l,"_").concat(s):s;t=localStorage[s]?JSON.parse(localStorage[s]):{}}if(!o){var c=t[r];if(c&&n.val().trim()===""){n.val(c);n.trigger(a.default.Event("input"))}}}))}function d(e,t){try{localStorage[e]=t}catch(e){}}function f(e){if(!s()){return}var t=e.parents("form");var n=e.find('textarea, input[type="text"]');var i=t.find(".autosave-submit");var o=e.data();var f=o.autosaveHours;var p=o.autosaveField;var v=o.autosaveUser;var h=o.autosaveHash;var m=o.autosaveKey;var g={};var y;m=v?"".concat(v,"_").concat(m):m;if(localStorage[m]){g=JSON.parse(localStorage[m])}var _=f*60*60*1e3;c(g,m,_);u(e,g);var b=function e(t){try{var n=(0,a.default)(t).val();if(g[p]!==n){g[p]=n;g.timestamp=Date.now();if(h&&!g.hash){g.hash=h}var i=JSON.stringify(g);d(m,i);if(n!==y){window.onbeforeunload=function(){return"You have unsaved edits."}}else{window.onbeforeunload=null}}}catch(e){r.default.captureException(e)}};n.one("focus",(function(){y=n.val();if(localStorage[m]){g=JSON.parse(localStorage[m])}}));n.on("input",(function(e){return b(e.currentTarget)}));n.on("autosave.save",(function(e){return b(e.currentTarget)}));var w=function e(){l(m);window.onbeforeunload=null};i.on("click",w);t.on("autosave.clear",w)}function p(e){l(e);window.onbeforeunload=null}function v(e){if(localStorage[e]){var t=JSON.parse(localStorage[e]);return t.hash}return null}},149:function(e,t,n){"use strict";var a=o(n(1));var i=o(n(9));var r=n(3);function o(e){return e&&e.__esModule?e:{default:e}}var s={};s.checkScrollPosition=function(e,t){var n=r.$window.scrollTop();var a=t&&t.top?t.top:10;var i=t&&t.bottom?t.bottom:null;var o=t&&t.stuckClass?t.stuckClass:"stuck";var s=t&&t.stuckBottomClass?t.stuckBottomClass:"stuck-bottom";var l=t&&t.handler?t.handler:null;var c=n>a;var u=i&&n>i?true:false;var d=e.hasClass(o);if(c&&!u&&!d){e.addClass(o);e.removeClass(s)}else if(!c&&d){e.removeClass(o)}else if(u){e.removeClass(o);e.addClass(s)}else if(!u){e.removeClass(s)}if(l){l(e,t)}};s.stick=function(e,t){e.addClass("sticky");t=t||{};t=i.default.extend(t,e.data());var n=t.$target&&t.$target.length?t.$target:e;var o=n.offset().top;var l=e.outerHeight(true);var c=(0,a.default)("#header").outerHeight(true);var u=t.bottom?t.bottom:null;var d=t.forceBottom?t.forceBottom:null;var f=t.handler?t.handler:null;var p;if(t.namespace){p=t.namespace}else if(e.attr("id")){p="sticky-"+e.attr("id")}else if(window.btoa){p="sticky-"+window.btoa(e.text())}var v;if(d){v=d}else{v=u?u-l-c:null}var h=function t(){s.checkScrollPosition(e,{top:o-c,bottom:v,handler:f})};(0,r.jqOffOn)(r.$window,"scroll.".concat(p," resize.").concat(p),i.default.throttle(h,16));h()};e.exports=s},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.appendGetParam=s;t.appendGetParams=l;t.getParamsObject=c;function a(e,t){return o(e)||r(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function o(e){if(Array.isArray(e))return e}function s(e,t,n){var a=e.split("#");var i=a[0].indexOf("?")!==-1?"&":"?";a[0]+="".concat(i).concat(t,"=").concat(n);return a.length>1?a.join("#"):a[0]}function l(e,t){if(!e){return null}var n=e.split("#");var a=n[0].indexOf("?")!==-1?"&":"?";Object.keys(t).forEach((function(e){if(Object.prototype.hasOwnProperty.call(t,e)){n[0]+="".concat(a).concat(e,"=").concat(t[e]);a="&"}}));return n.length>1?n.join("#"):n[0]}function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window.location.search;var t=e.replace("?","").split("&");var n={};t.forEach((function(e){if(e.length>0){var t=e.split("="),i=a(t,2),r=i[0],o=i[1];n[r]=o}}));return n}},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=w;t.toggleMiniProfile=_;var a=u(n(1));var i=u(n(9));var r=u(n(11));var o=n(117);var s=n(3);var l=c(n(37));function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function p(e,t,n){if(t)f(e.prototype,t);if(n)f(e,n);return e}var v={};var h=false;function m(e){var t={};["interests","skills","competitions"].forEach((function(n){var a=e[n];if(!i.default.has(a,"numOthers")){var r=a.length-e.listFieldDisplayLength;t[n]={items:a,numOthers:Math.max(r,0)}}}));return i.default.extend({},e,t)}function g(){s.$body.off("click.mp");s.$window.off("scroll.mp")}function y(e,t){var n={element_id:"profile_card_".concat(e)};if(t){n.field_name=t}r.default.track("ui",n)}function _(e,t){e.each((function(e,n){try{(0,a.default)(n).data("mini-profile-instance")[t]()}catch(e){}}))}var b=function(){function e(t){d(this,e);this.$target=t;this.id=this.$target.data("id")||null;this.loading=false;this.hid_while_loading=false;this.timeout=null;this.visible=false;if(this.id===null){return}this.setEvents()}p(e,[{key:"setEvents",value:function e(){var t=this;var n;this.$target.on("mouseenter",(function(){n=i.default.delay((function(){t.show()}),200)}));this.$target.on("mouseleave",(function(){clearTimeout(n);t.hideWithDelay()}))}},{key:"hideWithDelay",value:function e(){var t=this;this.timeout=i.default.delay((function(){var e=v[t.id];if(!e||e&&!e.data.wasEditing){t.hide()}}),300)}},{key:"clearDelay",value:function e(){clearTimeout(this.timeout)}},{key:"setGlobalEvents",value:function e(){var t=this;var n=".mini-profile-full, .mini-profile-full-new";s.$body.on("click.mp",(function(e){if(t.visible&&(0,a.default)(e.target).parents(n).length===0){t.hide()}}));var r=(0,s.jqGetElemById)("nf-feeditem-modal");if(r.length&&r.is(":visible")){s.$window.on("scroll.mp",i.default.throttle((function(){if(t.visible){t.hide()}}),16))}}},{key:"loadTooltip",value:function e(t){if(!h){this.loading=true;h=true;a.default.get("/profile/mini_profile/",{identity:this.id,orientation:""}).done((function(e){h=false;if(e.status===200){t(e.new_html)}else{t(null)}})).fail((function(){h=false;t(null)}))}}},{key:"repositionTooltip",value:function e(t){return(0,o.repositionTooltip)({$target:this.$target,$tooltip:t,topOffset:20,leftOffset:-3,offsetMethod:"offset"})}},{key:"updateCachedData",value:function e(t){v[this.id].data=i.default.extend({},v[this.id].data,t)}},{key:"renderTooltip",value:function e(t,n){var a=t.find(".profile-content");var r=v[this.id]||null;var s;var c;var u;if(r){s=r.template;c=r.data;u=r.errorTemplate}else{s=i.default.template(a.find("script").text());c=a.data();u=i.default.template(c.genericErrorMessage)}if(n){c=i.default.extend(c,n)}c=m(c);v[this.id]={template:s,errorTemplate:u,data:c};a.html(s(c));if(!c.isEditing){l.loadForElement(a.find(".status-msg"),true)}if(c.isEditing){this.setEditingEvents(t);if(!c.trackedViewed){y("edit_state_viewed");c.trackedViewed=true}}else if(c.wasEditing){y("edit_state_closed");c.trackedViewed=false}t.removeClass("left right top bottom").addClass((0,o.getOrientation)(this.$target));t.css(this.repositionTooltip(t))}},{key:"handleTextFieldGroup",value:function e(t,n){var r=this;var o=(0,a.default)(t);var s=o.find("[contenteditable]");var l=o.data("url");var c=function e(t,n){var a=t.text().trim();var i="default-value";var r=t.data("default");var o=t.hasClass(i);if((!o||n)&&(a.length===0||a===r)){t.addClass(i);if(n){t.text(r)}else{t.text("")}}else if(a.length&&o&&a!==r){t.removeClass(i);t.css("min-width",16)}};s.on("click focus",(function(){i.default.defer((function(){document.execCommand("selectAll",false,null)}))}));s.on("blur",(function(){var e={};var t=false;s.each((function(n,r){var o=(0,a.default)(r);var s=o.data();var l=o.text().trim();if(l===s.default.trim()){l=""}if(l!==s.current){t=true;o.data("current",l);y("edited_field",s.name)}if(s.apiFieldName){e[s.apiFieldName]=l}e[s.name]=l;i.default.defer((function(){c(o,true)}))}));if(t){a.default.ajax({url:l,type:"POST",data:JSON.stringify(e),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(t){if(t.success){r.updateCachedData(e);r.renderTooltip(n)}}))}}));s.on("input",(function(e){c((0,a.default)(e.currentTarget),false)}));s.on("focus",(function(e){var t=(0,a.default)(e.currentTarget);var n=t.data("default");if(t.text().trim()===n){i.default.defer((function(){t.css("min-width",t.width());t.text("")}))}}));s.on("keydown",(function(e){if(e.which===13||e.which===27){e.preventDefault();(0,a.default)(e.currentTarget).blur();window.getSelection().removeAllRanges()}}));s.each((function(e,t){var n=(0,a.default)(t);n.data("current",n.text());c(n,true)}))}},{key:"handleListField",value:function e(t,n){var i=this;var r=(0,a.default)(t);var o=r.find("input");var s=r.data();var l=s.url;var c=v[this.id].data["".concat(s.fieldName,"Typeahead")];var u=false;var d=function e(t){var a={};a[s.fieldName]=t;i.updateCachedData(a);i.renderTooltip(n)};var f=function e(t,n){var a=n===true;var o=a?".removal-error":".input-error";var s=t;if(s===null){s=v[i.id].errorTemplate({isRemoving:a})}r.find(o).text(s);r.find("[disabled]").prop("disabled",false)};var p=function e(){var t=o.val().trim();if(t.length&&!u){u=true;var n={value:t};o.prop("disabled",true);a.default.ajax({url:l,type:"POST",data:JSON.stringify(n),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){if(e.success){d(e.existing_values)}else{f(e.value)}})).fail((function(){f(null)})).always((function(){u=false}));y("list_added_item",s.fieldName)}};r.find(".btn-remove").on("click",(function(e){var t=(0,a.default)(e.currentTarget);var n={remove:t.data("id")};t.prop("disabled",true);a.default.ajax({url:l,type:"POST",data:JSON.stringify(n),dataType:"json",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){if(e.success){d(e.existing_values)}else{f(e.value,true)}})).fail((function(){f(null,true)}));y("list_removed_item",s.fieldName)}));o.typeahead({source:c,menu:'<ul class="typeahead dropdown-menu miniprofile"></ul>',matchWidth:true});o.on("ta_select",p);o.on("keydown",(function(e){if(e.which===13||e.which===27){setTimeout(p,200)}}))}},{key:"setEditingEvents",value:function e(t){var n=this;t.find(".text-field-group").each((function(e,a){return n.handleTextFieldGroup(a,t)}));t.find(".list-field").each((function(e,a){return n.handleListField(a,t)}))}},{key:"setTooltipEvents",value:function e(t){var n=this;(0,s.jqOffOn)(t,"mouseenter",(function(){n.clearDelay()}));(0,s.jqOffOn)(t,"mouseleave",(function(){n.hideWithDelay()}));if(t.hasClass("editable")){(0,s.jqOffOn)(t.find(".btn-edit"),"click",(function(e){e.preventDefault();t.toggleClass("editing");var a=t.hasClass("editing");n.renderTooltip(t,{isEditing:a,wasEditing:true})}))}}},{key:"show",value:function e(){var t=this;if(this.visible){return}var n=s.$body.children("#mini-profile-".concat(this.id));_((0,a.default)(".mini-profile"),"hide");this.setGlobalEvents();var i=function e(n){n.removeClass("left right top bottom").addClass((0,o.getOrientation)(t.$target))};if(n.length>0){this.$target.data("mini_profile_rendered",n)}var l=this.$target.data();if(l.mini_profile_rendered){i(l.mini_profile_rendered);l.mini_profile_rendered.css(this.repositionTooltip(l.mini_profile_rendered)).show();this.visible=true;if(v[this.id]){this.updateCachedData({isEditing:false,wasEditing:false})}if(l.mini_profile_rendered.hasClass("mini-profile-full-new")){l.mini_profile_rendered.removeClass("editing");this.renderTooltip(l.mini_profile_rendered)}this.setTooltipEvents(l.mini_profile_rendered)}else{this.loadTooltip((function(e){if(e!==null){s.$body.append(e);var n=s.$body.find("#mini-profile-".concat(t.id));i(n);n.css(t.repositionTooltip(n));t.$target.data("mini_profile_rendered",n);t.loading=false;if(t.hid_while_loading){t.hid_while_loading=false;t.hide();t.visible=false}else{t.visible=true;if(n.hasClass("mini-profile-full-new")){t.renderTooltip(n)}t.setTooltipEvents(n)}r.default.setAnalyticsEvents(n)}}))}}},{key:"hide",value:function e(){if(this.loading){this.hid_while_loading=true}else{this.clearDelay();g();this.visible=false;var t=this.$target.data("mini_profile_rendered")||null;if(t!==null){t.find(".list-field input").typeahead("hide");t.hide()}}}}]);return e}();function w(e){if(!s.userIsAuthenticated||s.isMobile){return}var t=e.data("mini-profile-instance");if(!t){t=new b(e);e.data("mini-profile-instance",t)}}},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.images=x;var a=s(n(1));var i=s(n(905));var r=n(3);var o=n(15);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function u(e,t,n){if(t)c(e.prototype,t);if(n)c(e,n);return e}function d(e,t){return v(e)||p(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function v(e){if(Array.isArray(e))return e}var h=[1e3,1500,2e3,2500,3e3,4e3,5e3];var m="zoomable-image";function g(e){var t=e.isBriocheImage||e.img.naturalWidth>e.width||e.img.naturalHeight>e.height;return t&&!e.img.closest(".visualization")&&(e.$img.parents(".codex-output").length===0||!e.img.src.indexOf(".gif?t=").index<0)}function y(e){var t='<span class="'.concat(m,'"><span></span></span>');var n=(0,a.default)(t);var i=e.$img.clone();n.append(i);e.$img.replaceWith(n);e.$img=i;var r=d(i,1);e.img=r[0];e.$container=n;e.$container.on("click",a.default.proxy(e.show,e))}function _(e,t){e.$container=t;e.$container.on("click",a.default.proxy(e.show,e))}function b(){var e=r.$window.width()*window.devicePixelRatio;return h.find((function(t){return e<=t}))||h[h.length-1]}function w(e){var t=(0,a.default)('\n        <div class="modal hide zoomable-modal">\n            <button></button>\n            <div class="solv-ir-loading row">\n                <span></span>\n                <span></span>\n                <span></span>\n            </div>\n        </div>\n    ');var n="loading";t.addClass(n);var s=new Image;if(e.isBriocheImage){var l=e.img.src.split("?"),c=d(l,1),u=c[0];var f=(0,o.getParamsObject)(e.img.src),p=f.format;var v={width:b()};if(p){v.format=p}s.src=(0,o.appendGetParams)(u,v)}else{s.src=e.img.src}s.style.cssText="";t.append(s);var h=(0,a.default)(s);h.on("load",(function(){t.removeClass(n);if(r.isMobile){new i.default(s)}}));if(r.isMobile){h.on("click",(function(e){return e.stopPropagation()}))}t.on("show hide",(function(){setTimeout((function(){e.zoomed=!e.zoomed;t.toggleClass("visible",e.zoomed)}),1)}));t.modal({show:false});t.on("click",a.default.proxy(e.hide,e));e.$zoomModal=t}function k(e){var t=".avatar, .no-zoom, .viz-wrapper";return e.is(t)||e.parents(t).length}var C=function(){function e(t){var n=this;l(this,e);this.img=t;this.$img=(0,a.default)(t);this.zoomed=false;this.isBriocheImage=t.src.indexOf("/brioche/")>=0;var i=false;var r=function e(){if(!i&&n.img.width){i=true;var t=n.$img.parent().width();var a=n.$img.css("width");if(a.indexOf("px")>=0){n.width=Math.min(t,parseInt(a,10))}else{n.width=t}n.height=parseInt(n.$img.css("height"),10);if(g(n)){var r=n.$img.parents(".".concat(m));if(r.length){_(n,r)}else{y(n)}}}};setTimeout(r,1);this.$img.on("load",r)}u(e,[{key:"show",value:function e(){if(!Object.prototype.hasOwnProperty.call(this,"$zoomModal")){w(this)}this.$zoomModal.modal("show")}},{key:"hide",value:function e(){this.$zoomModal.modal("hide")}}]);return e}();function x(e){e.find("img").each((function(e,t){var n=(0,a.default)(t);if(!k(n)){var i=function e(){return new C(t)};if(t.complete){i()}else{n.on("load",i)}}}))}},152:function(e,t,n){"use strict";var a=y(n(1));var i=y(n(9));var r=y(n(42));var o=y(n(21));var s=n(44);var l=n(12);var c=g(n(55));var u=n(3);var d=g(n(33));var f=n(13);var p=y(n(80));var v=n(18);var h=y(n(65));var m=n(45);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){return k(e)||w(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function w(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function k(e){if(Array.isArray(e))return e}var C={};var x=window,E=x.vkey;var I=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u.$body;p.default.events(t);p.default.expander(t);p.default.subscribe(t);var n=(0,u.jqGetElemById)("subscr-placeholder");if(n.length){(0,u.jqGetElemByCmpName)("discussions_subscribe").appendTo(n).removeClass("hide")}d.scaleSVG(t.find(".latexprocessor-block, .latexprocessor-inline"))};var T=function e(){var t=(0,a.default)("#edit_post_form_id");var n=(0,a.default)("#disc-post-single");var i=(0,a.default)(".edit-form textarea",n);(0,r.default)(i);(0,m.wikiLinks)(i);var s="click.discussionpreview";(0,u.jqOffOn)((0,a.default)("#newdisc-edit"),s,(function(e){e.preventDefault();n.addClass("editing");i.trigger("autosize.resize")}));(0,u.jqOffOn)((0,a.default)("#newdisc-delete"),s,(function(e){e.preventDefault();n.addClass("deleting")}));(0,u.jqOffOn)(t.find(".preview:not(.fake)"),s,(function(e){e.preventDefault();u.$window.trigger(a.default.Event("discussion.preview.".concat(t.prop("id")||-1)));(0,o.default)("discussions_single").form(t[0],{preview_post:true})}));(0,u.jqOffOn)(t.find(".edit:not(.fake)"),s,(function(e){e.preventDefault();n.addClass("editing");n.removeClass("previewing");i.trigger("autosize.resize")}));(0,u.jqOffOn)((0,a.default)("#delete-cancel"),s,(function(e){e.preventDefault();n.removeClass("deleting")}))};C.onload=function(e){I(e);T();if(window.location.search.indexOf("unsubscribe_from_post=true")>=0){var t=(0,u.jqGetElemByCmpName)("discussions_subscribe");t.addClass("wiggle");i.default.defer((function(){f.Anchors.scrollToTarget(t)}))}else{var n=window.location.hash.match(/#comment-a3f5[\d]+e92/);if(n){var r=(0,a.default)(n[0]);p.default.expandThreadsFor(r);r.addClass("highlight");setTimeout((function(){r.removeClass("highlight")}),3e3)}}};C.editableTitle=function(e){var t=e.find(".edit-title-link"),n=e.parent().find(".edit-title-form"),a=n.find(".cancel-edit-link");t.add(a).on("click",(function(){e.add(n).toggleClass("hide")}))};C.reaction=function(e){var t=e.find("button");var n=e.serializeArray();var i=function e(t,n){var a=t.html().split(" "),i=_(a,2),r=i[0],o=i[1];r=parseInt(r,10)+n;t.html("".concat(r," ").concat(o))};t.on("click",(function(t){t.preventDefault();var r=(0,a.default)(t.target);var o=r.data("reaction");if(o){var s=r.hasClass("selected")?"off":"on";var l=n.concat([{name:"reaction_action",value:"".concat(o,"_").concat(s)}]);a.default.post(e.attr("action"),l,(function(e){if(e.vote_details){if(e.vote_details.reactions[o]){r.addClass("selected");i(r,1)}else{r.removeClass("selected");i(r,-1)}}}))}}))};C.expandAllThreads=function(e){var t=function t(n){(0,a.default)(n?".show-replies":".hide-replies").trigger("click");e.toggleClass(l.CLASS_NAME_EXPANDED,n)};var n=function e(){return new Promise((function(e){var t=function t(){if((0,a.default)(".solution-next-page").length>0){u.$window.trigger("scroll.loadMoreSolutionsButton",{force:true})}else{e()}};u.$window.on("moreSolutionsLoaded",t);t()}))};var i=function e(){return new Promise((function(e){var t=".discsol-comments .cmp-deferred";var n=(0,a.default)(t);u.$window.on("solutions.reload",(function(){if((0,a.default)(t).length===0){e()}}));if(n.length>0){n.each((function(e,t){c.load((0,a.default)(t))}))}else{e()}}))};e.on("click",(function(){var a=e.hasClass(l.CLASS_NAME_EXPANDED);if(a){t(false)}else{e.addClass(l.CLASS_NAME_DISABLED);n().then(i).then((function(){t(true);e.removeClass(l.CLASS_NAME_DISABLED)}))}}))};var O="discussions_modal_single_component";C[O]=function(){var e=(0,u.jqGetElemByCmpName)(O);(0,v.initGenericControllers)(e);I();T();e.find(".modal-target").each(h.default.modal_events);(0,s.initAutosubmit)(e)};E[O]=C[O];E.discussions_single=function(){var e=E.handle.apply(this,arguments);d.updateMathjax(e);I();T()};E.modal_groups_post_component=E.discussions_single;E.discussions_subscribe=E.qanda_subscribe=E.course_feedback_subscribe=E.contentreports_subscribe=E.dailyproblem_feedback_subscribe=function(){E.handle.apply(this,arguments);p.default.subscribe()};E.discussions_comments=function(){var e=E.handle.apply(this,arguments);d.updateMathjax(e);I();var t=e.find(".disc-comments").data("highlighted-comment-id");if(t){var n="comment-a3f5".concat(t,"e92");var a=(0,u.jqGetElemById)(n);p.default.expandThreadsFor(a);a.addClass("highlight");setTimeout((function(){a.removeClass("highlight")}),3e3);if(!(0,f.isInViewport)(a)){i.default.delay((function(){f.Anchors.scrollToTarget(a,(function(){window.location.hash=n}))}),500)}}};E.discussions_comment_subscribe=function(e,t){var n=E.handle(e,t);p.default.subscribe()};e.exports=C},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.init=h;var a=l(n(1));var i=n(3);var r=n(117);var o=n(11);var s=n(12);n(438);function l(e){return e&&e.__esModule?e:{default:e}}var c=i.isAndroid&&i.appVersion&&i.appVersion.isGreaterThanOrEqualTo("4.2.0")&&!i.appVersion.isGreaterThanOrEqualTo("4.7.0");var u="hidden";var d="dragged";var f="glossary";var p="glossary-tooltip";var v="glossary-container";function h(e){var t=e;var n=t.data("tooltip");var l=(0,a.default)("#glossary-".concat(n));var h;var m=true;var g=(0,a.default)("div.glossary-container");if(g.length===0){g=(0,a.default)("<div>").addClass(v);i.$body.append(g)}if(!l.parent().hasClass(v)){l.detach().appendTo(g)}var y=function e(){l.addClass(u)};var _=function e(){h=setTimeout((function(){y()}),300)};var b=function e(){var a=t.html();(0,o.track)("ui",{element_id:"viewed_glossary_card",glossary_card_slug:n,glossary_card_trigger_term:a});var s=l.height();if(i.isMobile||i.isNative){if(c){var f=l.clone();f.find(".admin-links, .close").remove();try{window.Android.glossaryShowCard(n,a,f.html());return}catch(e){}}l.removeClass(u)}else{if(l.hasClass(d)){l.on("mouseleave",_)}var p=3;var v=-45;var h=400;l.removeClass("left right top bottom").addClass((0,r.getOrientation)(t,l)).css((0,r.repositionTooltip)({$target:t,$tooltip:l,topOffset:p,leftOffset:v,zOffset:h,offsetMethod:"offset"})).removeClass(u).removeClass(d);if(s!==l.height()){l.css((0,r.repositionTooltip)({$target:t,$tooltip:l,topOffset:p,leftOffset:v,zOffset:h,offsetMethod:"offset"}))}}};if(i.isMobile||i.isNative){t.on("click",(function(){if(l.hasClass(u)){(0,a.default)(".glossary-tooltip").addClass(u);b();if(m){m=false;l.find("button.close").on("click",y)}}else{y()}}))}else if(i.isTouchDevice){t.on("click",(function(){b();if(m){m=false;l.draggable()}}));i.$body.css({cursor:"pointer"});i.$document.on("click",(function(e){if(!(0,a.default)(e.target).hasClass(f)&&!(0,a.default)(e.target).hasClass(p)){y()}}));l.on("dragstart",(function(){l.off("mouseleave");l.addClass(d);l.find("button.close").on("click",y)}))}else{t.on("mouseenter",(function(){clearTimeout(h);b();if(m){m=false;l.draggable()}}));t.on("mouseleave",_);l.on("mouseenter",(function(){return clearTimeout(h)}));l.on("mouseleave",_);l.on("dragstart",(function(){l.off("mouseleave");l.addClass(d);l.find("button.close").on("click",y)}))}i.$body.on(s.EVT_QUIZ_POSITION_WILL_CHANGE,y)}},154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.tabs=r;var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.closest(".image-gallery>div");var n="hidden";var i="selected";var r="main-image";e.children().on("click",(function(o){var s=(0,a.default)(o.currentTarget);if(s.hasClass("more")){e.children(".hidden").removeClass(n);s.remove()}else{var l=s.data("index");e.children(".selected").removeClass(i);s.addClass(i);t.find(".main-image").addClass(n).removeClass(r);t.find(".".concat(n,":nth-child(").concat(l+1,")")).addClass(r).removeClass(n)}}))}},161:function(e,t,n){"use strict";var a=m(n(1));var i=m(n(9));var r=m(n(42));var o=m(n(31));var s=m(n(21));var l=h(n(55));var c=n(3);var u=h(n(33));var d=n(13);var f=m(n(80));var p=n(45);var v=n(81);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var g={};var y=window.vkey||{};var _=false;var b=false;var w=false;var k=false;var C=false;var x;var E=false;var I=function e(){var t=false,n;if(w!==false&&w.length>0){n=w}else if(b!==false&&b.length>0){n=b;t=true}else if(k){n=(0,c.jqGetElemById)("comment-a3f5".concat(k,"e92"));t=true}else if(_!==false&&_.length>0){n=_}else{return}var a=function e(){if(t){n.addClass("highlight");setTimeout((function(){n.removeClass("highlight")}),5e3)}};var r=function e(){i.default.delay((function(){if(n.is(":visible")){d.Anchors.scrollToTarget(n,a);E=true}else{e()}}),500)};if(n.length>0){f.default.expandThreadsFor(n);if((0,d.isInViewport)(n)){a()}else{r()}}};g.add=function(e){var t=e.find(".guide-link"),n=e.find(".discsol-add-guide"),i=e.find("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id"),o=i.find("textarea"),s=i.find("[type=submit]");var l=o.filter(":visible");if(!l.length){l=o}(0,p.mentionsAndWikiLinks)(l);(0,r.default)(l);i.after(n);(0,c.jqOffOn)(t,"click",(function(e){e.preventDefault();n.fadeToggle(100)}));i.on("submit",(function(){var e=(0,a.default)(this);e.attr("disabled","disabled");s.attr("disabled","disabled")}));o.on("focus",(function(){(0,a.default)(".mobile-solution-tips").show()}));c.$body.on("solvable.statechange",(function(e){if(e.currentState==="solutions"){o.trigger("autosize.resize")}}));f.default.add_form()};g.showCommentsForSolution=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=e.find(".discsol-comments .cmp-deferred");var a="comments-expanded";if(t===true){e.addClass(a)}else{e.toggleClass(a)}if(n.length){l.load(n)}};g.comments=function(e){f.default.expander(e);f.default.editEvents(e);e.find(".solution-comments-trigger").on("click",(function(){g.showCommentsForSolution((0,a.default)(this).parents(".discsol-post-wrapper"))}));e.find(".action.subscr .cmp-deferred").each((function(e,t){l.load((0,a.default)(t))}));if(C===true){return}var t=window.location.hash||null;if(t){C=true;t=t.split(/\//g);var n,i,r=e.parents("#solv-main");switch(t[1]){case"solution-comments":n="solutions";if(r.find(".btn-solution").length){i=r.find(".btn-solution").data("solutions-loaded")}else{i=r.find(".discsol-list").data("controller-inited")}e=(0,a.default)(".solv-solutions");break;case"dispute-comments":n="disputes";i=r.find(".report-link").data("disputes-loaded");e=(0,a.default)(".solv-disputes");break;case"qanda-question":case"course-feedback":case"content-reports":return}if(i){var o=!Boolean(t[2]);(0,v.setStateForSolvable)(e.parents(".solv-main"),n,o)}if(t[2]){_=(0,a.default)("#post-"+t[2]);if(_.length){if(window.location.search.indexOf("unsubscribe_from_post=true")>=0){w=_.find(".action.subscr");w.addClass("wiggle")}else if(t[3]){k=parseInt(t[3],10)}var s=(0,a.default)(".discsol-post");var u=s.index(_);x=s.filter((function(e){return e<=u})).map((function(e,t){return(0,a.default)(t).parents(".discsol-post-wrapper")}));x.each((function(e,t){g.showCommentsForSolution((0,a.default)(t),true)}))}else{C=false;var d=(0,c.jqGetElemById)("solution-next-page");if(d.length){T=t[2];d.click()}}}}};var T=null;g.loadSolutionsPage=function(e){var t=function t(){var n=e.data();var a={component_key:n.componentKey,param_key:n.paramKey};if(n.position){a.p=n.position}if(T){a.solution=T}e.addClass("loading");(0,s.default)(n.pageKey).get(n.url,a)};c.$window.on("scroll.loadMoreSolutionsButton",(function(n){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(((0,d.isInViewport)(e)||a.force)&&!e.hasClass("loading")){t()}}));e.on("click",t)};g.filterableSolutionsComments=function(e){var t={HIDDEN:"reviewable-hidden",DIM:"reviewable-dim"};var n="".concat(t.HIDDEN," ").concat(t.DIM);var i=function e(i){if(i==="all"){(0,a.default)(".discsol-post-wrapper").removeClass(n)}else if(i==="unreviewed"){(0,a.default)(".discsol-post-wrapper").removeClass(n).each((function(e,n){if(Boolean(n.dataset.reviewed)){if(n.querySelectorAll(".comment-item:not([data-reviewed])").length){n.classList.add(t.DIM)}else{n.classList.add(t.HIDDEN)}}}))}};var r=function e(n){var i=false;n.each((function(n,r){var o=(0,a.default)(r);var s=o.next(".cmmnt-container").children(".comment-item");var l=false;if(s.length){l=e(s)}if(o.data("reviewed")===true){if(l){o.addClass(t.DIM)}else{o.addClass(t.HIDDEN)}}else{l=true}i=l||i}));return i};var o=function e(t){if(t==="all"){(0,a.default)(".discsol-post-wrapper .comment-item").removeClass(n)}else if(t==="unreviewed"){var i=(0,a.default)(".discsol-post-wrapper .level-0 > .comment-item");i.removeClass(n);r(i)}};var s=e.find("select");var l=function e(){s.each((function(e,t){if(t.name==="solutions"){i(t.value)}else if(t.name==="comments"){o(t.value)}}))};s.on("change",l);c.$window.on("solutions.reload",l)};y.quizzes_solvabledisputecomments=y.quizzes_challengesolvablesolutioncomments=y.potw_solvablesolutioncomments=y.potw_solvabledisputecomments=y.wikidiscussions_wikifeedbackcomments=y.qanda_comments=y.course_feedback_comments=y.contentreports_comments=y.dailyproblem_feedback_comments=y.disputediscussions_publicsolvabledisputecomments=y.daily_problems_solutioncomments=y.solutiondiscussions_publicsolvablesolutioncomments=function(e,t){var n=y.handle(e,t);f.default.events();f.default.subscribe();u.updateMathjax(n.find(".latex"));var i=n.find(".disc-comments").data("highlighted-comment-id");if(i){b=(0,c.jqGetElemById)("comment-a3f5".concat(i,"e92"))}if(k&&!b){b=n.find(".cmmnt-container #comment-a3f5"+k+"e92");if(b.length===0){b=false}}f.default.expander(n);if(!E&&x){var r=x.find(".discsol-comments .cmp-deferred").length;if(r===0&&b!==false){var o=["qanda_comments","course_feedback_comments","contentreports_comments"];if(!o.includes(e.component_key)){I()}}}c.$window.trigger(a.default.Event("solutions.reload"))};y.quizzes_challengesolvablesolutionwrapper=y.potw_solvablesolutionwrapper=y.daily_problems_solutionlist=y.solutiondiscussions_publicsolvablesolutionwrapper=function(e,t){var n=y.handle(e,t);u.updateMathjax(n.find(".latex"));f.default.init(n);c.$window.trigger("moreSolutionsLoaded");var i=false;var r={};(0,a.default)(".solv-solutions .solution-header .text .mini-profile").each((function(){var e=(0,a.default)(this).data("id");if(e in r){r[e]["count"]++;i=true}else{var t=(0,a.default)(this).attr("href");r[e]={name:t?t.match(/\/profile\/(.*)\//)[1]:(0,a.default)(this).text().trim(),count:1}}}));for(var s in r){r[r[s]["name"]]=r[s]["count"];delete r[s]}var l={};var d=false;if(f.default.hitPreviewSolution){var p=(0,a.default)(".hdr-settings .dropdown-toggle img").attr("alt");if(!(p in r)){l["__Lost.Edits"]="Yes";d=true}}if(i){l["_Authors"]=JSON.stringify(r);d=true}if(d){o.default.captureMessage("Messed up solutions",{tags:l})}f.default.hitPreviewSolution=false};y.daily_problems_solutionwrapper=function(e,t){var n=y.handle(e,t);if(c.isIos){var i=n.find(".discsol-comments .cmp-deferred");i.each((function(e,t){l.load((0,a.default)(t))}))}c.$window.trigger("moreSolutionsLoaded")};e.exports=g},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.component=l;var a=n(3);function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};var a=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function"){a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))}a.forEach((function(t){r(e,t,n[t])}))}return e}function r(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}var o={InteractiveProblem:function e(){return Promise.all([n.e(6),n.e(10),n.e(110)]).then(n.bind(null,746))},"quizzes/QuizDropdown":function e(){return Promise.all([n.e(6),n.e(108)]).then(n.bind(null,747))},"quizzes/nux/QuizNuxMain":function e(){return Promise.all([n.e(6),n.e(10),n.e(107)]).then(n.bind(null,748))},"quizzes/endstate/QuizEndstateMain":function e(){return Promise.all([n.e(6),n.e(10),n.e(118),n.e(106)]).then(n.bind(null,749))},"assets/ContentAssetManager":function e(){return Promise.all([n.e(6),n.e(10),n.e(109)]).then(n.bind(null,750))}};function s(e){var t=o[e];if(t){return t()}throw new Error("Unknown component '".concat(e,"'"))}function l(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.data();s(n.component).then((function(r){var o=r.default;var s=new o({propsData:i({},n,t)});s.$mount(e[0]);s.$on("external",(function(e){if(e.name){a.$window.trigger("".concat(n.component,".").concat(e.name),e)}}))}))}},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.executeFunctionByName=h;t.initGenericControllers=m;var a=s(n(1));var i=n(12);var r=n(3);var o=s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return d(e)||u(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function u(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function d(e){if(Array.isArray(e))return e}function f(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){f=function e(t){return typeof t}}else{f=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return f(e)}function p(e,t,n){var a=function e(n){var a="Invalid controller: ".concat(t.context?"".concat(t.context,":"):""," ").concat(t.name,": ").concat(n);o.default.captureMessage(a);console.error(a)};var i=t.name.split(".");var r=i.pop();var s=e;for(var l=0;l<i.length;l++){s=s[i[l]];if(f(s)!=="object"){a("".concat(i[l]," is not an object"));return}}if(typeof s[r]!=="function"){a("".concat(r," is not a function"));return}s[r].apply(e,n)}function v(e){var t=e.split(":"),n=l(t,2),a=n[0],i=n[1];if(i===undefined){o.default.captureMessage("Controller name is undefined for: ".concat(e))}return{context:a,name:i}}function h(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++){a[i-1]=arguments[i]}var r=v(e);return new Promise((function(t,i){var s=function e(n){p(n,r,a);t()};var l=function(){var t={};return function(n){if(!t[r.context]){t[r.context]=r.context;o.default.captureMessage("[module error] ".concat(e," (").concat(window.location.pathname,")"));i(n)}}}();var c;try{var u=r.context.split(/\//g)[0];switch(u){case"app":c=n(903)("./".concat(r.context.replace("app/","")));break;case"util":c=n(990)("./".concat(r.context.replace("util/",""),".js"));break;default:i(new Error("Subdirectory ".concat(u," is not setup for generic controllers.")))}}catch(e){l(e)}if(c){s(c)}}))}function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:r.$body;var t=arguments.length>1?arguments[1]:undefined;var n=Object.assign({callback:i.FUNC_NOOP,force:false,ignoreHidden:false},t);var o=e.find("[data-controller]").add(e.filter("[data-controller]"));if(!n.force){o=o.not("[data-controller-inited]")}if(n.ignoreHidden){o=o.filter(":visible")}var s=[];o.each((function(e,t){var n=(0,a.default)(t);var i=n.data("controller");n.attr("data-controller-inited",true);if(i){i.split(",").forEach((function(e){var t=e.trim();if(t.length){s.push(h(t,n))}}))}}));Promise.all(s).then(n.callback)}},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.onLoad=o;t.onDOMReady=s;var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var r=function e(t){t()};function o(e){(0,a.default)(window).on("load",(function(){return r(e)}))}function s(e){(0,a.default)((function(){return r(e)}))}},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=g;t.Ajax=void 0;var a=d(n(1));var i=n(11);var r=u(n(43));var o=n(13);var s=n(3);var l=n(91);var c=n(30);function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function v(e,t,n){if(t)p(e.prototype,t);if(n)p(e,n);return e}function h(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"POST";l.page_key=l.page_key||e.key;l.version=l.version||window.VERSIONS[l.page_key]||1;l.deferred=l.deferred||false;l.timeout=l.timeout||9e4;if(!s.isNative&&!r.isSameOrigin(t)){return e.error({error:"csrf",responseText:"CSRF error",status:0})}a.default.ajax({url:t,data:l,type:c,timeout:l.timeout,cache:false,success:function t(r){if(typeof r.redirect==="string"){if(l.redirectHandler){Promise.resolve().then((function(){if(!n.m[18]){var e=new Error("Module '"+18+"' is not available (weak dependency)");e.code="MODULE_NOT_FOUND";throw e}return n.t(18,7)})).then((function(e){var t=e.executeFunctionByName;return t(l.redirectHandler,r.redirect,l)}))}else{window.location=r.redirect}}a.default.each(r.actions||{},(function(t,n){var i=window.VERSIONS[n.component_key]||window.VERSIONS[t]||1;if(i===n.version){if(n.result&&n.result.reload){e.get(n.result.reload,{param_key:t,version:i})}else{e.success(t,n,l.deferred)}}else{window.VERSIONS[n.component_key]=n.version;var r=n.js_failure_mode;if(Math.abs(i-n.version)>1){r="hard"}(0,a.default)(".hide-on-error").hide();switch(r){case"soft_with_update":(0,o.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. We're updating\n                                the page.");e.success(t,n);break;case"soft_without_update":(0,o.showGenericModal)("Warning","Some of the information in that request\n                                was out of date due to changes to our server code. You must refresh\n                                the page and try again.");break;case"no_warn_no_update":break;case"hard":window.location.reload();break;default:throw new Error("Unknown failure mode ".concat(r))}}}));a.default.each(r.ajax_tracked_events||{},(function(e,t){(0,i.track)(t.event_name,t.event_properties)}));a.default.each(r.messages||{},(function(e,t){if(t.message_type==="error"){(0,o.showGenericModal)("Error",t.message_text)}else{(0,o.showGenericModal)("Warning",t.message_text)}}))},error:function t(n){e.error(n,l)}});return this}var m=function(){function e(t){f(this,e);this.key=t||false}v(e,[{key:"post",value:function e(t,n){return h(this,t,n,"POST")}},{key:"get",value:function e(t,n){return h(this,t,n,"GET")}},{key:"form",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i={};var r=(0,a.default)(t);if(r.length===0){return this}var o=typeof n.url==="string"?n.url:r.attr("action");o=o||"";o=o.length===0?window.location.href:o;var s=Object.assign({},i,(0,l.getFormData)(r),n,r.data());r.find("button, input[type=submit], .btn").filter((function(e,t){return(0,a.default)(t).parents(".viz-wrapper").length===0})).prop("disabled","disabled").addClass("dim");return h(this,o,s,"POST")}},{key:"error",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,a.default)(".hide-on-error").hide();t.status=t.status||0;r.page_key=this.key;delete r.version;delete r.csrfmiddlewaretoken;delete r.deferred;if(t.statusText==="timeout"){(0,c.showTimeoutErrorModal)();if(r.timeoutHandler){Promise.resolve().then((function(){if(!n.m[18]){var e=new Error("Module '"+18+"' is not available (weak dependency)");e.code="MODULE_NOT_FOUND";throw e}return n.t(18,7)})).then((function(e){var t=e.executeFunctionByName;t(r.timeoutHandler,r);delete r.timeoutHandler}))}(0,i.track)("timeout_errors",r)}else if(t.status>0){(0,c.errorModalHandler)(t);r.status=t.status;(0,i.track)("ajax_errors",r)}}},{key:"success",value:function e(t,n,a){var i=window.vkey[n.component_key]||window.vkey.handle;i(n,t,a||false)}}]);return e}();t.Ajax=m;function g(e){return new m(e)}},3:function(e,t,n){"use strict";var a=l(n(1));var i=l(n(9));var r=n(12);var o=l(n(53));var s=n(20);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){c=function e(t){return typeof t}}else{c=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return c(e)}function u(e){return p(e)||f(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function p(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++){n[t]=e[t]}return n}}var v={};v.$document=(0,a.default)(document);v.$html=(0,a.default)(document.documentElement);v.$body=(0,a.default)(document.body);v.$window=(0,a.default)(window);v.jqCreateElem=function(e){return(0,a.default)(document.createElement(e))};v.jqGetElemById=function(){var e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++){n[i]=arguments[i]}n.forEach((function(t){var n=document.getElementById(t);if(n){e.push(n)}}));return(0,a.default)(e)};v.jqGetElemByCmpName=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++){t[n]=arguments[n]}var a=t.map((function(e){return"cmp_".concat(e,"_id")}));return v.jqGetElemById.apply(v,u(a))};var h=v.$body.data();function m(){if(h.appVersion){return new o.default(h.appVersion)}var e=window.navigator.userAgent.match(/brilliant-(android|ios)-(.*?)$/);var t=e!==null&&e.length?e[2]:null;return new o.default(t)}v.isIos=h.isIos===true||navigator.userAgent.indexOf("brilliant-ios-")>=0;v.isIosWeb=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;v.iosVersion={};v.isAndroid=h.isAndroid===true||navigator.userAgent.indexOf("brilliant-android-")>=0;v.isAndroidWeb=navigator.userAgent.toLowerCase().indexOf("android")!==-1;v.isNative=v.isIos||v.isAndroid;v.isMobile=h.isMobile===true||v.isNative;v.appVersion=m();v.isTouchDevice="ontouchstart"in document.documentElement;v.userIsAuthenticated=v.$body.hasClass("active");v.isBrilliantPremium=v.$body.hasClass("b2");v.media_host=h.mediaHost;v.instantTryItYourself=v.$body.hasClass("instant-try-it-yourself");v.smallPadding=8;v.mediumPadding=v.smallPadding*2;v.largePadding=v.smallPadding*3;if(v.isIosWeb){var g=/OS (\d+_\d+(_\d+)?)/.exec(navigator.appVersion);if(g){var y=g[1];if(!g[2]){y+="_0"}y=y.replace(/_/g,".");v.iosVersion=new o.default(y)}}v.supportsAnimation=function(){var e=null;return function(){if(e!==null){return e}e=false;var t="animation",n="",a=["Webkit","Moz","O","ms","Khtml"],i="",r=document.createElement("div");if(r.style.animationName!==undefined){e=true}if(e===false){for(var o=0;o<a.length;o++){if(r.style[a[o]+"AnimationName"]!==undefined){i=a[o];t=i+"Animation";n="-"+i.toLowerCase()+"-";e=true;break}}}return e}}();window.get_valid_file_extensions=function(){return["gif","jpg","jpeg","png"]};window.history.pushState=window.history.pushState||a.default.noop;v.commaFormat=function(e){e=""+e;var t="";if(e.indexOf(".")>-1){e=e.split(".")[0]}if(e.length>3){return v.commaFormat(e.substring(0,e.length-3))+","+e.substring(e.length-3)}if(t.length){return e+"."+t}return e};v.getRelativeUrl=function(){return location.pathname+location.search};v.jqOffOn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}return e.each((function(e,t){var i;(i=(0,a.default)(t).off(n[0])).on.apply(i,n)}))};v.setScrollPosition=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.$container,a=n===void 0?v.$html.add(v.$body):n,o=t.animate,s=o===void 0?false:o,l=t.delay,c=l===void 0?0:l,u=t.duration,d=u===void 0?r.TRANSITION_SPEED_MEDIUM:u,f=t.callback,p=f===void 0?i.default.noop:f;if(s){if(c){a.delay(c)}a.animate({scrollTop:e},{duration:d,complete:i.default.once(p)})}else{a.scrollTop(e);p()}};v.toggleComponentDebug=function(e){e.on("click",(function(e){e.preventDefault();(0,a.default)("div.debug_component_info").toggle()}))};var _=window.ie_version||false;(0,s.onDOMReady)((function(){var e=[];var t=[];var n=/Edge/.test(navigator.userAgent);e.push("no-js");t.push("js");t.push(n?"msedge":"not-msedge");if(_!==false||/msie/i.test(navigator.userAgent)||/rv:1./.test(navigator.userAgent)){t.push("ie");if(!_){try{_=parseInt(navigator.userAgent.match(/msie (\d{1,2})/i)[1],10)}catch(e){_=10}}if(_===-1){t.push("ie-noncompatible")}if(_>=9){t.push("ie-modern")}if(_>=6){t.push("ie-".concat(_))}}else{var a=navigator.userAgent.toLowerCase();if(a.indexOf("applewebkit")!==-1){t.push("webkit");if(c(window.chrome)==="object"){t.push("chrome")}}else if(a.indexOf("gecko")!==-1){t.push("mozilla")}else if(a.indexOf("presto")!==-1){t.push("opera");if(a.indexOf("opera mini")!==-1){t.push("opera-mini")}}else if(a.indexOf("series40")!==-1){t.push("s40")}var i=a.match(/android\s([0-9.]*)/);if(i!==null){var r=parseFloat(i[1]);if(r>=4.4){t.push("android-newer")}else{t.push("android-older")}}var o=window._cio||null;if(a.indexOf("android")!==-1&&o!==null){o.track("logged_in_with_android_browser")}}if(!v.isTouchDevice){t.push("no-touch")}v.$body.removeClass(e.join(" ")).addClass(t.join(" "))}));window._fb_status=window._fb_status||[];window.fb_auth_status=function(e){_fb_status.push(e||function(){})};if(window.location.search.indexOf("breakme")>=0){breakMe()}e.exports=v},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.showStandardErrorModal=o;t.showTimeoutErrorModal=s;t.showBackendErrorModal=l;t.errorModalHandler=c;var a=n(3);var i=n(13);function r(){return(0,a.jqGetElemById)("default-ajax-error").data()}function o(){var e=r();if(e){(0,i.showGenericModal)(e.errorTitle,e.errorContent)}}function s(){var e=r();if(e){(0,i.showGenericModal)(e.errorTitle,e.timeoutContent)}}function l(e){if(e.responseJSON){var t=e.responseJSON.error;(0,i.showGenericModal)(t.title,t.message)}else{console.log(e)}}function c(e){if(e.statusText==="abort"){return}if(e.status===403){l(e)}else if(e.statusText==="timeout"){s()}else{o()}}},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=window.Raven;t.default=a},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkOverflow=u;t.scaleSVG=d;t.updateMathjax=f;t.equationEditorTrigger=p;var a=c(n(1));var i=n(11);var r=n(20);var o=n(13);var s=l(n(37));function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e?e.find(".latexprocessor-inline"):(0,a.default)(".latexprocessor-inline");t.each((function(e,t){var n=(0,a.default)(t);var i=n.outerWidth();var r=n.parent().outerWidth();if(i>r){n.addClass("overflowed")}}))}function d(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.65;e.each((function(e,n){var i=(0,a.default)(n).find("svg");if(i.length>0){i.each((function(e,n){var i=(0,a.default)(n);var r=i.data("orig-width");if(!r){i.data("orig-width",parseFloat(i[0].style.width))}else{i[0].style.width="".concat(r,"ex")}var o=i.parent().width()+4;var s=parseInt(i[0].style.width,10);var l=~~i.width();var c=~~(s*o/l);if(l>o&&c/s>=t){i[0].style.width="".concat(c,"ex")}}))}}))}function f(e){e.each((function(e,t){var n=(0,a.default)(t);s.loadForElement(n);n.parent().find(".uses-latex, .latex").css("visibility","visible")}))}function p(e){var t=function e(t){(0,i.track)("ui",{action:"click",element_type:t,element_id:"link"})};e.on("click",(function(n){var a=e.data();t(a.axClicked);if(!n.metaKey){n.preventDefault();(0,o.showConfirmationModal)({text:e.data("text")}).then((function(n){if(n){t(a.axConfirmed);window.open(e.attr("href"))}}))}}))}(0,r.onDOMReady)((function(){u()}))},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.textContainsUnrenderedMath=p;t.useKatex=m;t.formPreloader=w;t.loadForElement=k;t.onLoad=C;t.loadForElementAsync=x;t.redrawExpression=E;t.controller=I;var a=i(n(84));function i(e){return e&&e.__esModule?e:{default:e}}var r={BrilliantLightBlue:"#95D3FE",BrilliantBlue:"#3D99F6",BrilliantDarkBlue:"#0C6AC7",BrilliantSeaGreen:"#1E93A5",BrilliantAqua:"#27D2E7",BrilliantLightGreen:"#67D94C",BrilliantGreen:"#20A900",BrilliantDarkGreen:"#456461",BrilliantYellow:"#CEBB00",BrilliantLightYellow:"#FEDF53",BrilliantYellowOrange:"#FCA04A",BrilliantOrange:"#EC7300",BrilliantRedOrange:"#FF664D",BrilliantRed:"#D61F06",BrilliantPink:"#E81990",BrilliantRosePink:"#F970BF",BrilliantViolet:"#BA33D6",BrilliantAmethyst:"#625CDB",BrilliantIndigo:"#302B94",BrilliantPurple:"#69047E",BrilliantPaleYellow:"#FFF7E6",BrilliantBeige:"#FBE6B8",BrilliantSandyBrown:"#FEDABE",BrilliantPeachy:"#FCC9A1",BrilliantTan:"#DBA97F",BrilliantLightBrown:"#B4825D",BrilliantMediumLightBrown:"#AA7956",BrilliantBronze:"#815331",BrilliantBrown:"#624F41",BrilliantWhite:"#FFFFFF",BrilliantLightGray:"#FBFBFB",BrilliantMediumLightGray:"#F0F0F0",BrilliantMediumGray:"#D8D8D8",BrilliantGray:"#BBBBBB",BrilliantMediumDarkGray:"#919191",BrilliantDarkGray:"#777777",BrilliantBlack:"#333333",BrilliantDarkBlack:"#161616"};var o=false;var s=false;var l=[];var c=[];var u=/\\\(.*?\\\)/;var d=/\\\[.*?\\\]/;var f=[/<script[\s\S]*?<\/script>/gm,/title=".*?"/g,/data-answers-list=".*?"/g,/data-registered-choice=".*?"/g,/<textarea[\s\S]*?<\/textarea>/gm,/<span>\\(\(|\)|\[|\])<\/span>/g];function p(e){var t=e;for(var n=0;n<f.length;n+=1){t=t.replace(f[n],"")}return u.test(t)||d.test(t)}function v(e){return p(e.innerHTML)}function h(){return window.location.pathname==="/latex-image-export/"}function m(){return document.body.classList.contains("use_katex")&&!h()}function g(e){if(m()){(0,a.default)(e);return}try{window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,e])}catch(e){}}function y(){l.forEach(g);l=[]}function _(){if(s||o){return}if(m()){s=true;return}o=true;var e=document.createElement("script");var t=h()?"TeX-AMS_SVG":"TeX-AMS_HTML";e.type="text/javascript";e.src="".concat(document.body.dataset.mediaHost,"/site_media/version-99mq9F5EZ8d8/js/mathjax/MathJax.js?config=").concat(t);e.addEventListener("load",(function(){if(!s){o=false;s=true;window.MathJax.Hub.Config({messageStyle:"none",jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEnvironments:false,ignoreClass:"mentions-input-box"},TeX:{extensions:["color.js","mhchem.js","siunitx.js"],Macros:{bra:["{\\mathinner{\\langle{#1}|}}",1],ket:["{\\mathinner{|{#1}\\rangle}}",1],braket:["{\\mathinner{\\langle{#1}\\rangle}}",1],Bra:["{\\left\\langle#1\\right|}",1],Ket:["{\\left|#1\\right\\rangle}",1],ketbra:["{\\ket{#1}\\bra{#2}}",2]},Augment:{Definitions:{macros:{overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"]}}}},"HTML-CSS":{imageFont:null},showMathMenu:false,positionToHash:false});window.MathJax.Hub.processSectionDelay=0;window.MathJax.Hub.Register.StartupHook("TeX color Ready",(function(){Object.assign(window.MathJax.Extension["TeX/color"].colors,r)}));c.forEach((function(e){return e()}));y()}}));setTimeout((function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}),0)}function b(e){if(m()){setTimeout((function(){return(0,a.default)(e)}))}else if(s){g(e)}else{l.push(e);if(!o){_()}}}function w(e){var t=e.find("input[type=text], textarea");var n="keydown.mjxpreload";t.on(n,(function(){t.off(n);_()}))}function k(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(typeof e.each==="function"){e.each((function(e,n){if(t||v(n)){b(n)}}))}else{var n=Array.isArray(e)?e:[e];n.forEach((function(e){if(t||v(e)){b(e)}}))}}function C(e){if(s){e()}else{c.push(e)}}function x(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise((function(n){if(m()){k(e,t);n()}else{C((function(){setTimeout((function(){k(e,t);window.MathJax.Hub.Queue((function(){return n()}))}))}))}}))}function E(e,t,n,a){if(m()){return n(e,t)}return new Promise((function(i){try{var r=window.MathJax.Hub.getAllJax(e)[0];if(!r){e.classList.add(a);n(e,t).then(i)}else{window.MathJax.Hub.Queue(["Text",r,t]);window.MathJax.Hub.Queue((function(){i()}))}}catch(e){i()}}))}function I(){var e=function e(){return b(document.body)};if(window.isLoaded){e()}else{window.addEventListener("load",e)}}},41:function(e,t,n){"use strict";var a=n(1);var i={};i.update=function(e,t,n){if(typeof t==="undefined"){t=true}n=n||function(){};var i=(t?"/profile/set_flag/":"/profile/unset_flag/")+e+"/";a.post(i).then((function(e){n(e)})).fail((function(e,t,a){n({success:false,error:a,status:e.status})}))};i.controller=function(e){var t=e.data("flag")||null;if(t!==null){e.on("click",(function(){i.update(t,true)}))}};e.exports=i},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=u;var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var r={className:"autosizejs",id:"autosizejs",append:"\n",callback:false,resizeDelay:10,placeholder:true};var o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"];var s;var l;function c(){if(l){return}l=(0,a.default)('<textarea tabindex="-1"/>').data("autosize",true)[0];l.style.cssText=""+"position: absolute;"+"top: -999px;"+"left: 0;"+"right: auto;"+"bottom: auto;"+"border: 0;"+"padding: 0;"+"box-sizing: content-box;"+"word-wrap: break-word;"+"height: 0 !important;"+"min-height: 0 !important;"+"overflow: hidden;"+"transition: none;"+"-webkit-transition: none;";l.style.lineHeight="99px";if((0,a.default)(l).css("lineHeight")==="99px"){o.push("lineHeight")}l.style.lineHeight=""}function u(e,t){if(!e.length){return}c();var n=a.default.extend({},r,t||{});if(l.parentNode!==document.body){(0,a.default)(document.body).append(l)}e.each((function(e,t){var i=(0,a.default)(t);var r={height:t.style.height,overflow:t.style.overflow,overflowY:t.style.overflowY,wordWrap:t.style.wordWrap,resize:t.style.resize};var c=i.css("resize");var u;var d=0;var f;var p=i.width();if(i.data("autosize")){return}i.data("autosize",true);if(i.css("box-sizing")==="border-box"){d=i.outerHeight()-i.height()}var v=Math.max(parseFloat(i.css("minHeight"))-d||0,i.height());i.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"});if(c==="vertical"){i.css("resize","none")}else if(c==="both"){i.css("resize","horizontal")}function h(){var e;var n=window.getComputedStyle?window.getComputedStyle(t,null):null;if(n){e=parseFloat(n.width);if(n.boxSizing==="border-box"||n.webkitBoxSizing==="border-box"||n.mozBoxSizing==="border-box"){["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"].forEach((function(t){e-=parseFloat(n[t])}))}}else{e=i.width()}l.style.width="".concat(Math.max(e,0),"px")}function m(){var e={};s=t;l.className=n.className;l.id=n.id;u=parseFloat(i.css("maxHeight"));o.forEach((function(t){e[t]=i.css(t)}));(0,a.default)(l).css(e).attr("wrap",i.attr("wrap"));h();if(window.chrome){var r=t.style.width;t.style.width="0px";var c=t.offsetWidth;t.style.width=r}}function g(){var e;if(s!==t){m()}else{h()}if(!t.value&&n.placeholder){l.value=i.attr("placeholder")||""}else{l.value=t.value}l.value+=n.append||"";l.style.overflowY=t.style.overflowY;var a=parseFloat(t.style.height)||0;l.scrollTop=0;l.scrollTop=9e4;e=l.scrollTop;if(u&&e>u){t.style.overflowY="scroll";e=u}else{t.style.overflowY="hidden";if(e<v){e=v}}e+=d;if(Math.abs(a-e)>1/100){t.style.height="".concat(e,"px");l.className=l.className;if(typeof n.callback==="function"){n.callback.call(t,t)}i.trigger("autosize.resized")}}var y=function e(){clearTimeout(f);f=setTimeout((function(){var e=i.width();if(e!==p){p=e;g()}}),parseInt(n.resizeDelay,10))};if("onpropertychange"in t){if("oninput"in t){i.on("input.autosize keyup.autosize",g)}else{i.on("propertychange.autosize",(function(e){if(e.propertyName==="value"){g()}}))}}else{i.on("input.autosize",g)}if(n.resizeDelay!==false){(0,a.default)(window).on("resize.autosize",y)}i.on("autosize.resize",g);i.on("autosize.resizeIncludeStyle",(function(){s=null;g()}));i.on("autosize.destroy",(function(){s=null;clearTimeout(f);(0,a.default)(window).off("resize",y);i.off("autosize").off(".autosize").css(r).removeData("autosize")}));g()}))}},421:function(e,t,n){"use strict";var a=c(n(1));var i=c(n(9));var r=c(n(422));var o=c(n(112));var s=c(n(11));var l=n(3);function c(e){return e&&e.__esModule?e:{default:e}}var u=false;var d={};var f=null;var p=true;var v=null;var h=window.btoa||function(e){return e.split("").map((function(e){return e.charCodeAt(0)})).join("")};d.disable=function(){p=false};d.init=function(e){var t=e.data();f=h(s.default.superProperties.sessionid||"unknown");r.default.init(t.branchKey,(function(e,n){if(!e){try{r.default.setIdentity(s.default.identity)}catch(e){}var a=n&&n.has_app===true;s.default.setSuperProperties({branch_has_app:a});if(!a){var i={channel:"mobile-web",data:{$deeplink_path:window.location.pathname+window.location.search,$always_deeplink:true}};r.default.link(i,(function(e,n){if(e||!p){return}if(t.showBanner){b(n,a)}}))}}}))};function m(e){return s.default.identity+"_brilliant-branch-"+e}function g(e,t){o.default.set(m(e),f+":"+t)}function y(e){var t=o.default.get(m(e));if(t){t=t.split(":");if(f===t[0]){return t[1]}}return null}function _(){if(v){l.$body.removeClass("branch-banner-active");v.removeClass("in");v=null}}d.hideBranchBanner=function(){return _()};function b(e,t){var n=y("banner");if(n==="closed"&&!u){return}var r=i.default.template((0,l.jqGetElemById)("branch-banner-tmpl").text());var o=(0,a.default)(r({link:e,hasApp:t,isIosWeb:l.isIosWeb,isAndroidWeb:l.isAndroidWeb}));l.$body.addClass("branch-banner-active").append(o);s.default.setAnalyticsEvents(o);setTimeout((function(){o.addClass("in")}),1e3);o.find(".close").on("click",(function(){return _()}));o.find("button,a").on("click",(function(){g("banner","closed")}));v=o}e.exports=d},429:function(e,t,n){"use strict";var a=n(3);var i={};i.setBackButton=function(e,t,n){window.location.hash=e;(0,a.jqOffOn)(a.$window,"hashchange.backbutton",(function(n){if(window.location.hash.indexOf(e)<0){t(n);a.$window.off("hashchange.backbutton")}}));(0,a.jqOffOn)(n,"click.backbutton",(function(e){if(window.history){window.history.back()}else{t(e);i.removeBackButton()}}))};i.removeBackButton=function(){window.hash="";a.$window.off("hashchange.backbutton")};e.exports=i},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getToken=r;t.isSameOrigin=o;var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=false;document.cookie.split(";").forEach((function(t){if(t.indexOf("csrftoken")>=0){e=t.split("=")[1].trim()}}));return e||null}function o(e){var t=document.location,n=t.host,a=t.protocol;var i="//".concat(n);var r=a+i;return e===r||e.slice(0,r.length+1)==="".concat(r,"/")||e===i||e.slice(0,i.length+1)==="".concat(i,"/")||!/^(\/\/|http:|https:).*/.test(e)}function s(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}function l(e,t){return!s(e)&&o(t)}function c(e){e.setRequestHeader("X-CSRFToken",r())}(0,a.default)(document).ajaxSend((function(e,t,n){if(l(n.type,n.url)){c(t)}}))},430:function(e,t,n){"use strict";var a=s(n(1));var i=s(n(9));var r=n(3);var o=n(18);function s(e){return e&&e.__esModule?e:{default:e}}var l={};l.showHeaderOnScroll=function(e){r.$window.on("scroll",(function(){if(r.$window.scrollTop()>200&&!e.hasClass("show")){e.addClass("show")}else if(r.$window.scrollTop()<80&&e.hasClass("show")){e.removeClass("show")}}))};l.deactivatedAccountModal=function(e){e.modal({show:true})};l.autoOpenSignup=function(e){if(window.location.hash==="#sign-up"){e.click()}};l.autoOpenLogin=function(e){if(window.location.hash==="#login"){e.click()}};l.inlineSignupForm=function(e){var t=e.find(".initial-content");var n=t.find(".signup-btn");var s=e.find(".signup-btns");var l=(0,r.jqGetElemById)("inline-signup-email");var c=e.find(".inline-signup-form-container");var u=l.data();var d=c.data();var f=parseFloat(e.css("transition-duration"))*1e3;var p=false;var v=function e(t){t.css({display:"block",position:"absolute",left:"-99999px",top:"-99999px"});var n=t.outerHeight();t.css({display:"",position:"",left:"",top:""});return n};var h=t.outerHeight();var m=v(s);n.one("click",(function(n){n.preventDefault();if(!p){var r=i.default.extend({page_key:d["pageKey"]},u);a.default.get(d.url,r).then((function(e){p=true;c.html(e["actions"]["homepage_signup_form"]["new_html"]);(0,o.initGenericControllers)(c)}))}var l=e.height();e.height(l);e.addClass("out");e.height(l+(m-h));setTimeout((function(){e.removeClass("out");t.hide();s.show();e.height("")}),f)}));l.on("click",(function(t){if(p){t.preventDefault();var n=e.height();var a=v(c);e.height(n);e.addClass("out");e.height(n+(a-m));setTimeout((function(){e.removeClass("out");s.hide();c.show();e.height("")}),f)}}))};l.v4Signup=function(e){(0,r.jqGetElemById)("btn-email-signup").on("click",(function(t){t.preventDefault();var n=e.find(".v4-form");e.animate({opacity:0},200,(function(){e.animate({height:n.outerHeight()+parseInt(n.css("margin-top"),10)+30},200,(function(){e.addClass("open").animate({opacity:1,height:"auto"},200)}))}))}));(0,r.jqGetElemById)("fb_canvas_signup").on("click",(function(e){e.preventDefault();window.top.location.replace("https://brilliant.org/account/facebook/login/")}))};e.exports=l},436:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.modal=p;t.webview=v;var a=l(n(1));var i=l(n(9));var r=l(n(21));var o=n(12);var s=n(3);function l(e){return e&&e.__esModule?e:{default:e}}var c="keydown.shownote";function u(e){e.find("#solvable-resend-verification-form").trigger("submit")}function d(e){var t=e.find("input[type=radio]");var n=e.find(".choose-choice");var a=e.find(".cancel");var i=e.find(".note");var r=250;t.on("change",(function(){n.toggleClass(o.CLASS_NAME_DISABLED,t.filter(":checked").length===0)}));n.on("click",(function(i){i.preventDefault();var o=t.filter(":checked");if(!o.length){return}n.hide();var s=e.find(".".concat(o.val()));e.addClass("out");setTimeout((function(){e.find(".options").hide();s.add(a).show();s.find("textarea").triggerHandler(c);e.removeClass("out")}),r)}));a.on("click",(function(t){t.preventDefault();e.addClass("out");setTimeout((function(){e.find(".options").add(n).show();e.find(".choice").filter(":visible").add(a).hide();i.addClass(o.CLASS_NAME_HIDE);e.removeClass("out")}),r)}))}function f(e){var t=e.find("textarea");var n=e.find(".note");t.on(c,i.default.throttle((function(e){i.default.defer((function(){n.toggleClass(o.CLASS_NAME_HIDE,e.currentTarget.value.length===0)}))}),250))}function p(e){var t=e.data();var n=(0,a.default)(t.trigger);var l;var c;var p=function e(){s.$body.data(o.CMP_RELOADING_FLAGS.DISPUTES,true);(0,r.default)("assessment").get(t.solvableUrl,{page_key:t.pageKey})};var v=i.default.once((function(){f(l);if(!c.showAtStart){u(l)}d(l);l.find("form").on("submit",(function(){s.$body.data(o.CMP_RELOADING_FLAGS.DISPUTES,true)}));l.on("hide",(function(){if(t.endstate){p()}}))}));var h=function e(){v();l.modal("show")};s.$body.children(".modal-bg").has(".dispute-form-modal").remove();n.on("click",(function(e){e.preventDefault();h()}));i.default.defer((function(){l=e.clone(true,true);c=l.data();if(c.showAtStart){h()}}))}function v(e){u(e);d(e)}},437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.launcher=w;t.showLauncherIfConversation=k;t.loadAndShowOnClick=C;t.loadAndShowOnClickForVue=x;t.loadAndShowFrontChat=E;var a=s(n(1));var i=s(n(9));var r=n(3);var o=n(20);function s(e){return e&&e.__esModule?e:{default:e}}var l="https://chat-assets.frontapp.com/v1/chat.bundle.js";var c="front-chat-container";var u="custom-front-chat-launcher";var d={READY:"FrontChat.ready",SHOW:"FrontChat.show",HIDE:"FrontChat.hide"};var f={ACTIVE:"active",LOADING:"loading"};var p=false;var v=function e(t){return"brilliant_front_chat__".concat(t.userHash,":").concat(t.conversationFlag)};var h=function e(t,n){["email","name","userHash"].forEach((function(e){if(t[e]){n[e]=t[e]}}))};var m=function e(t){var n=(0,r.jqGetElemById)(u).find(".unread-message-counter");n.text(t||"");n.toggle(t>0)};var g=function e(){m(0);window.FrontChat("show");if(p){r.$body.trigger(d.SHOW)}else{var t=setInterval((function(){var e=document.getElementById(c);if(e&&e.children.length&&e.children[0].children.length&&e.children[0].children[0].style.opacity==="1"){clearInterval(t);p=true;r.$body.trigger(d.SHOW)}}),50)}};var y=function e(){window.FrontChat("hide");r.$body.trigger(d.HIDE)};var _=i.default.once((function(){var e=(0,r.jqGetElemById)(u);r.$body.on(d.READY,(function(){window.FrontChat("onUnreadChange",(function(t){var n=t.unread_count;if(!e.is(":visible")&&n>0){g()}else if(!e.hasClass("active")){m(n)}}));e.on("click",(function(t){t.preventDefault();if(e.hasClass(f.ACTIVE)){y()}else{g()}}))})).on(d.SHOW,(function(){e.removeClass(f.LOADING);e.addClass(f.ACTIVE)})).on(d.HIDE,(function(){e.removeClass(f.ACTIVE)}))}));var b=function e(t,n){var s=function e(){var o=(0,r.jqGetElemById)(u);if(o.is(":visible")&&!o.hasClass(f.ACTIVE)){o.addClass(f.LOADING)}_();var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=l;s.onload=function(){if(window.localStorage&&t.conversationFlag){r.$body.on(d.SHOW,(function(){window.localStorage[v(t)]="1"}))}r.$body.on("click","#".concat(c," .fc-2a549"),(function(){r.$body.trigger(d.HIDE)}));var e={useDefaultLauncher:false};h(t,e);window.FrontChat("init",e);var o=(0,r.jqGetElemById)("footer-notifs");if(o.length>0&&!r.isMobile){var s=0;if(o.html().trim()!==""){s=o.outerHeight()}if(s>0){(0,a.default)("style:last")[0].textContent+="#".concat(c," .fc-3laqu {")+"height: ".concat(580-s,"px !important;")+"margin-bottom: ".concat(s,"px !important;")+"}"+"@media (max-height: 600px) and (min-width: 760px) {"+"#".concat(c," .fc-3laqu {")+"height: calc(100vh - 44px - ".concat(s,"px) !important;")+"}"+"}"}}if(typeof n==="function"){i.default.delay(n,1e3)}};var p=document.getElementsByTagName("script")[0];p.parentNode.insertBefore(s,p);var m=setInterval((function(){var e=document.getElementById(c);if(e&&e.children.length){clearInterval(m);r.$body.trigger(d.READY)}}),250)};if(!window.FrontChat){window.FCSP=t.token;if(window.isLoaded){s()}else{(0,o.onLoad)(s)}}else if(typeof n==="function"){n()}r.$body.addClass("front-chat-active")};function w(e){var t=e.data();var n=parseInt(t.delay,10);var a=function t(){return e.removeClass("hide")};e.one("click",(function(){return b(t,(function(){if(!e.hasClass(f.ACTIVE)){g()}}))}));if(n){setTimeout(a,n*1e3)}else{a()}}function k(e){var t=e.data();if(window.localStorage&&parseInt(window.localStorage[v(t)],10)===1){w(e)}}function C(e){var t=e.data();var n=e.find(".front-chat-trigger");if(!n.length){n=e}n.on("click",(function(e){e.preventDefault();r.$body.click();b(t,g)}))}function x(e){b(e,g)}function E(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};b(e,(function(){setTimeout(g,1e3)}))}},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.preventDefaultSubmitHandler=l;t.initAutosubmit=c;var a=o(n(1));var i=o(n(21));var r=n(3);function o(e){return e&&e.__esModule?e:{default:e}}var s=['[action*="account/"]','[action*="avatar/"]'];function l(e){e.each((function(e,t){var n=(0,a.default)(t);var i=[];var o=[];var s=a.default._data(t),l=s.events;if(l){o=l.submit||[];o=o.slice(0)}if(t.onsubmit){i.push(t.onsubmit)}o.forEach((function(e){i.push(e.handler)}));var c=function e(t){var a=t.target;var o=!!(t.isDefaultPrevented&&t.isDefaultPrevented());var s=false;i.forEach((function(e){try{a.next_handler=e;if(a.next_handler(t)===false){s=true}}catch(e){}}));if(!s&&!o){(0,r.jqOffOn)(n,"submit",(function(e){e.preventDefault()}));(0,r.jqOffOn)(r.$window,"pageshow.auto_disable",(function(t){if(t.originalEvent.persisted){(0,r.jqOffOn)(n,"submit",e)}}))}return!s};t.onsubmit=function(){};(0,r.jqOffOn)(n,"submit",c)}))}function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:r.$body;if(window.django){return}e.find("form").each((function(e,t){var n=(0,a.default)(t);if(n.is(":not(.disable-auto-submit, ".concat(s.join(","),")"))){(0,r.jqOffOn)(n,"submit.auto_submit",(function(e){e.preventDefault();(0,i.default)("assessment").form(e.currentTarget)}));if(n.not(".disable-submit-auto-disabling")){l(n)}}}))}},446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.streakModal=d;t.topicsNav=f;t.continuePracticing=p;t.reenablePremium=v;var a=u(n(1));var i=u(n(9));var r=n(11);var o=n(3);var s=n(13);var l=n(12);var c=n(18);function u(e){return e&&e.__esModule?e:{default:e}}function d(e){i.default.defer((function(){if((0,o.jqGetElemById)("sales-card").length===0){if(o.isMobile){e.show();i.default.defer((function(){e.addClass("animated")}));o.$body.one(l.EVT_QUIZ_POSITION_DID_CHANGE,(function(){e.one("transitionend",(function(){e.hide()}));e.removeClass("animated")}));return}var t=(0,o.jqGetElemById)("solv-main");var n=e.html();var a=t.data("full-url")||"";a+=a.indexOf("?")===-1?"?":"&";n=n.replace(/__share_url__((\?)|(%3F))/g,a).replace(/&streak=|&amp;streak=/g,"&streak=");e.html(n);(0,c.initGenericControllers)(e);(0,s.modalController)(e);i.default.defer((function(){e.find(".streak-icon").addClass("animated")}));if((0,o.jqGetElemById)("wiki-main").length===0){e.find(".continue-btn").on("click",(function(){var n=t.find(".esr-problem");if(n){n.click()}else{e.hide()}}))}}}))}function f(e){var t=e.find(".toggle");var n=e.children("div");var i="expanded";var r=false;t.on("click",(function(t){t.preventDefault();r=!r;e.toggleClass(i,r)}));o.$body.on("click",(function(o){if(r&&o.target!==t[0]&&o.target!==n[0]&&(0,a.default)(o.target).parents().filter(n).length===0){e.removeClass(i);r=false}}))}function p(e){var t=e.data();var n={action:"click",element_type:"button",continue_practicing_quiz_id:t.targetQuizId,continue_practicing_problems_left:t.problemsLeft,path:window.location.pathname,full_path:window.location.pathname+window.location.search};var a=(0,o.jqGetElemById)("footer-notifs");var s=a.outerHeight();var l=e.outerHeight();a.css("height",s+l+20);e.find(".continue-practicing-button").on("click",(function(){(0,r.track)("ui",i.default.extend({element_id:"continue_practicing_button"},n))}));var c=e.find("form");var u=c.find(".close");u.on("click",(function(){e.hide();a.css("height",s);(0,r.track)("ui",i.default.extend({element_id:"continue_practicing_dismissed"},n))}))}function v(e){setTimeout((function(){e.addClass("in");(0,r.track)("ui",{element_id:"autorenewcancel_show_tooltip"})}),1e3);var t=function t(){e.one("transitionend",e.remove);e.removeClass("in")};e.on("click",(function(e){return e.stopPropagation()}));e.find(".btn-close").one("click",t);o.$body.on("click",t)}},447:function(e,t,n){"use strict";var a=n(906);var i=p(n(1));var r=p(n(9));var o=n(44);var s=n(3);var l=f(n(33));var c=n(18);var u=p(n(93));var d=n(81);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function p(e){return e&&e.__esModule?e:{default:e}}var v={};var h={};var m=null;var g=null;var y=null;var _=function e(t){if(t.interactive){t.validationError=false;t.alreadyTriedThisAnswer=false;return t}if(t.answer.indexOf("+")===0){t.answer=t.answer.substring(1)}if(t.answer.length){t.answer=t.answer.replace(/^0+/,"");if(t.answer===""){t.answer="0"}}var n=parseFloat(t.answer),a=t.answer.replace(/[\d-Ee\.]/g,"");if(isNaN(n)||a.length>0){t.validationError=true}else{if(t.answer.match(/[\.Ee]/)!==null&&!t.isFloat){t.validationError=true}else{t.validationError=false}}t.alreadyTriedThisAnswer=t.answersList.indexOf(t.answer.toString())>=0;return t};var b=function e(t){if(t.interactive){t.answerIsCorrect=(0,i.default)("[name=mark_correct]").prop("checked")}else{var n=g.update(t.answer+t.salt).digest("hex");t.answerIsCorrect=n==t.hash;if(!t.answerIsCorrect){t.answersList.unshift(t.answer);t.preventUpdate=t.isFloat}t.triesLeft--;t.attemptNumber++}return t};var w=function e(t){t=t||{};t.answer=t.answer.trim();t.preventUpdate=false;if(!t.hasMultipleOptions){t=_(t)}if(!t.validationError&&!t.alreadyTriedThisAnswer){t=b(t)}t.canStillAnswer=t.triesLeft>0&&!t.answerIsCorrect;t.isMobile=s.isMobile;t.b2=s.isBrilliantPremium;t.answersListWithAnd=function(){var e=t.answersList,n=t.answersList.length;if(n===1){e=e[0]}else if(n===2){e=e.join(" and ")}else{e[n-1]="and "+e[n-1];e=e.join(",")}return e};return t};v.processAttemptData=w;var k=function e(t,n){if(!n.canStillAnswer){var a="endstate "+(n.answerIsCorrect?"correct":"incorrect");if(n.isPracticeSection){if(s.isIos&&s.appVersion.isGreaterThanOrEqualTo("0.9.1")){if(n.answerIsCorrect){window.location="answercorrect://"}else{window.location="answerincorrect://"}}else if(s.isAndroid){try{Android.onPracticeSolvableAnswered(n.answerIsCorrect)}catch(e){}}}t.addClass(a)}var r=t.parents(".solv-main");if(n.hasMultipleOptions&&n.$choices){t.find(".btn-mcq").each((function(e){var t=(0,i.default)(n.$choices[e]);var a=(0,i.default)(this);var r=a.find(".choice-text");var o=r.length?r:a;t.find("input").remove();o.html(t.html())}))}(0,i.default)(".btn-solution").not(".solution-btn-b2").addClass("disabled dim").attr("disabled","disabled");(0,s.jqOffOn)(t.find(".btn.disabled"),"click",(function(e){e.preventDefault()}));(0,d.practiceAnon)(r);(0,c.initGenericControllers)(t);l.updateMathjax(t);if(n.problemType=="single_select"){t.find(".btn-mcq").each((function(){var e=(0,i.default)(this),t=e.data("choice");if(n.answer===t){e.addClass(n.answerIsCorrect?"correct":"incorrect")}}))}if(n.isPracticeSection||n.isProblemOfTheDay){var o=r.parents(".prac-preload-wrapper");if(o.length){u.default.practice(o,{reloaded:true,instantResponse:true})}}};v.init=function(e){var t=e.data();var n=h[t.solvable]||{};var o=e.parents(".solv-details,.solv-details-loggedout");var l=["#mcq-form","#text_answer_entry_form","#solv-interactive-form",".solv-form-logged-out"];var c=o.find(l.join(","));g=(0,a.createHash)("sha1");t.answersList=t.answersList?t.answersList.toString():"";try{t.answersList=t.answersList.length?t.answersList.split(/,/g):[]}catch(e){t.answersList=[]}t.answersList=t.answersList.filter((function(e){return e.length>0}));t.answerIsCorrect=false;t.$choices=t.hasMultipleOptions&&c.find("svg").length?c.find(".btn-mcq"):null;t.b2=s.isBrilliantPremium;if(y===null||y>=t.numFreeSolutionsRemaining){y=t.numFreeSolutionsRemaining}else{t.numFreeSolutionsRemaining=y}if(t.exportOnly){v.data=t;n.data=t;h[t.solvable]=n;return}n.template=n.template||null;if(n.template===null){n.template=r.default.template(e.text())}n.data=t;h[t.solvable]=n;c.on("submit",(function(e){e.preventDefault();r.default.defer((function(){if(c.data("no_instant_response")){return}m=t.solvable;t.viewedSolution=c.data("viewed-solution");if(t.viewedSolution){t.answer=null}else if(t.problemType==="single_select"){t.answer=c.find("input[type=radio]:checked").val()}else if(t.problemType==="multi_select"){var e=[];c.find("input[type=checkbox]").each((function(t){var n=(0,i.default)(this);if(n.is(":checked")){e.push(t+1)}}));t.answer=e.join("|")}else{t.answer=c.find("#id_answer,.logged-out-answer").val()}if(t.answer||t.interactive){t.answer=t.answer||"";t.answer=t.answer.replace(/__replace_plus__/g,"+");t=w(t)}else{t.canStillAnswer=false}var a=o.parents(".solv-main");a.data("ir-verification",{canStillAnswer:t.canStillAnswer,answerIsCorrect:t.answerIsCorrect,attemptNumber:t.attemptNumber,triesLeft:t.triesLeft,answer:t.answer,preventUpdate:t.preventUpdate});if(!t.preventUpdate){n.$originalSidebar=o.clone();n.$solvable=a;r.default.defer((function(){var e=t;if(t.isMobile&&t.hasMultipleOptions&&!t.answer){r.default.extend(e,{canStillAnswer:true})}o.html(n.template(e));k(o,t);a.trigger(i.default.Event("instantresponse.updated",t));s.$window.trigger(i.default.Event("instantresponse.updated",t))}))}n.data=t;h[t.solvable]=n}))}))};v.timeout=function(){var e=h[m],t=e.$originalSidebar||null;if(t!==null){var n=e.$solvable.find(".solv-details");n.replaceWith(t);t.find(".spinner").removeClass("active");t.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled");r.default.defer((function(){(0,c.initGenericControllers)(t);(0,o.initAutosubmit)(t)}))}};e.exports=v},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mentions=f;t.wikiLinks=p;t.mentionsAndWikiLinks=v;var a=s(n(1));var i=s(n(9));var r=n(904);var o=n(3);function s(e){return e&&e.__esModule?e:{default:e}}var l=null;var c={stopTriggerRegex:/\n/,elastic:false,templates:{mentionItemSyntax:i.default.template("mention[<%= id %>:<%= value %>]"),autocompleteListItem:i.default.template('<li data-ref-id="<%= id %>" '+'data-ref-type="" data-display="<%= display %>">'+"<strong><%= content %></strong> <%= age %><%= country %></li>")},mentionRegex:/mention\[[\d]+:(.*?)]/g,onDataRequest:function e(t,n,i){var r=this;l.prefix=n;a.default.getJSON(l.url,l,(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];e.map((function(e){e.id=e.user_id;e.name="".concat(e.first_name," ").concat(e.last_name);e.age=e.age!==null?e.age.toString():"";e.country=e.country||"";e.age=e.age.length&&e.country.length?"".concat(e.age,", "):e.age;e.isUser=true;return e}));i.call(r,e)}))}};var u={triggerChar:"[[wiki-",stopTriggerRegex:/[|\]]/,allowRepeat:true,showAvatars:true,elastic:false,onCaret:true,templates:{mentionItemSyntax:i.default.template("<%= value %>"),mentionItemHighlight:i.default.template("<%= value %>")},onDataRequest:function e(t,n,i){var r=this;var o="/wiki/wiki_suggestions/";var s={prefix:n};a.default.getJSON(o,s,(function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];e.map((function(e){e.icon="wiki-icon";e.isWiki=true;return e}));i.call(r,e)}))}};function d(e){var t=/\[\[(start|end)(.*?)(]]|<br \/>)/g;var n=function e(t){var n='<span class="wiki-syntax-highlight start-end">'.concat(t);if(n.indexOf("<br />")===-1){n+="</span>"}else{n=n.replace("<br />","</span><br />")}return n};return e.replace(t,n)}function f(e){l=(0,o.jqGetElemById)("mentions-data").data()||null;if(l!==null){l["".concat(l.type,"_id")]=l.id}var t=c;t.existingMentions=t.existingMentions||[];t.mentionsStorage={get:function e(){return t.existingMentions},set:function e(n){t.existingMentions=n}};e.each((function(e,n){(0,r.mentionsInput)((0,a.default)(n),t)}))}function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=u;if(t){n.highlightFunction=d}e.each((function(e,t){(0,r.mentionsInput)((0,a.default)(t),n)}))}function v(e){l=(0,o.jqGetElemById)("mentions-data").data()||null;if(l!==null){l["".concat(l.type,"_id")]=l.id}var t=c;t.existingMentions=t.existingMentions||[];t.mentionsStorage={get:function e(){return t.existingMentions},set:function e(n){t.existingMentions=n}};var n={elastic:false,onCaret:true,mentions:t,wikiLinks:u};e.each((function(e,t){(0,r.mentionsInput)((0,a.default)(t),n)}))}},463:function(e,t,n){"use strict";var a=s(n(1));var i=s(n(9));var r=n(3);var o=n(11);n(675);function s(e){return e&&e.__esModule?e:{default:e}}var l={};l.onload=function(){var e=(0,r.jqGetElemById)("signin");var t=(0,r.jqGetElemById)("signup");var n=(0,a.default)("#signup-form, #signup_form");if(e.length===0||t.length===0||n.length===0){return}var i=window.location.hash||false;if(i){var s=(0,a.default)("input[name=next]");s.each((function(){var e=(0,a.default)(this);e.val(e.val()+i)}))}var l=function e(t){if(!r.isMobile){t.find("input").filter("[type=email], [type=password], [type=text]").first().focus()}};(0,a.default)(".goto-signup").on("click",(function(n){n.preventDefault();e.fadeOut(100,(function(){t.fadeIn(100);l(t)}))}));(0,a.default)(".goto-signin").on("click",(function(n){n.preventDefault();t.fadeOut(100,(function(){e.fadeIn(100);l(e)}))}));(0,a.default)(".goto-signup-form").on("click",(function(e){e.preventDefault();t.fadeOut(100,(function(){n.fadeIn(100);l(n)}))}));(0,a.default)(".goto-signup-main").on("click",(function(e){e.preventDefault();n.fadeOut(100,(function(){t.fadeIn(100);l(t)}))}));if(e.is(":visible")){l(e)}if((0,a.default)(".validation-error").length>0){(0,o.track)("ui",{action:"click",element_type:"form",element_id:"v4_signup_validation_error"})}if(n.length>0&&!n.hasClass(".fb")){var c=(0,a.default)(this).find("input[type=text], select"),u=(0,a.default)(this).find("#id_birthday_month, #id_birthday_day, #id_birthday_year");c.on("blur.validation",(function(e){var t=a.default.trim((0,a.default)(this).val()),n=(0,a.default)(this).parents(".control-group"),i=(0,a.default)(this).parents(".outer-field").find(".validation-error-msg");if(t===""){if(!n.hasClass("error")){n.addClass("error validation-error");i.show()}}else{if(n.hasClass("validation-error")){n.removeClass("error validation-error");i.hide()}}}));u.off("blur.validation");u.on("blur.bday_validation",(function(e){var t=(0,a.default)(this).parents(".control-group"),n=(0,a.default)(this).parents(".outer-field").find(".validation-error-msg");if(parseInt((0,a.default)(this).val(),10)===0){if(!t.hasClass("validation-error")){t.addClass("error validation-error");n.show()}}else{if(t.hasClass("validation-error")){u.each((function(e,i){if(parseInt((0,a.default)(this).val(),10)===0){return false}else{if(e===u.length-1&&t.hasClass("validation-error")){t.removeClass("error validation-error");n.hide()}}}))}}}))}};l.googleAuth=function(){var e="googleapis.ready",t;var n=function e(){window.location.href="/account/google/login/callback/"};var o=function e(a){if(!a.success){n()}else if(a.data&&a.data.redirect){if(a.data.redirect=="social-signup"){window.location=t.signupUrl}else if(a.data.redirect=="nux"){window.location=t.nuxUrl}else{window.location="/"}}else{n()}};var s=function(){var e=false;return function(r){if(e){return}e=true;if(r["access_token"]){a.default.post(t.loginUrl,{access_token:r["access_token"]}).then(o).always((function(){e=false}))}else{if(r["error"]&&["immediate_failed","access_denied"].indexOf(r["error"])===-1){n()}i.default.defer((function(){e=false}))}}}();var l=function e(){gapi.auth.signIn({callback:s,clientid:t.clientId,cookiepolicy:"single_host_origin",scope:"profile email",apppackagename:"org.brilliant.android"})};i.default.defer((function(){if(window.googleApisLoaded){r.$body.trigger(a.default.Event(e))}else{window.onGoogleApisLoaded=function(){window.googleApisLoaded=true;r.$body.trigger(a.default.Event(e))}}}));return function(n){t=n.data();n.on("click",(function(){if(window.googleApisLoaded){l()}else{r.$body.on(e,l)}}))}}();l.loginBtnFallback=function(e){if(e[0].form===null){e.one("click",(function(){(0,r.jqGetElemById)(e.attr("form")).submit()}))}};e.exports=l},464:function(e,t,n){"use strict";var a=f(n(1));var i=f(n(9));var r=n(3);var o=d(n(33));var s=f(n(465));var l=n(13);var c=d(n(15));var u=f(n(65));n(677);n(466);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}var p=r.isMobile?5:15;var v={};var h=window.vkey||{};var m=function e(){(0,a.default)(".nf-feed-subscription").each((function(){var e=(0,a.default)(this);if(e.children().length===0){e.remove()}}))};v.instantBtn=function(e){e.on("click",(function(t){if(e.hasClass("loading")||e.hasClass("disabled")||e.data("action")==="ignore"||e.parents(".dropdown-menu").length>0){return}t.preventDefault();var n=e.parents("form");var a=n.data()||{};var r=e.hasClass("active");var o=a.count||0;o=r?o-1:o+1;n.data("count",o);e.html(a.tmpl.replace(/\[count]/g,o));e.toggleClass("zero",o===0);e.toggleClass("active");e.addClass("loading");i.default.defer((function(){n.submit()}))}))};v.followBtn=function(e){e.on("click",(function(t){t.preventDefault();var n=e.parents("form");var a=n.find("[type=submit]");var r=n.find("[name=subscribed]");var o=a.data();var s=r.val();var l=a.html().trim();var c=o.toggleClass||"btn-accent";var u=a.hasClass("btn-toggle");i.default.defer((function(){a.html(o.altText);a.data("alt-text",l);a.trigger("blur").toggleClass(c).toggleClass("btn-subscribed",s==="yes")}));i.default.delay((function(){n.submit()}),u?200:10)}))};var g={topic:"sub_topic",sub_topic:"chapter",chapter:"recommended_concept_quiz"};var y={};var _=function e(t,n,r,o){o=o||i.default.noop;var s=n+"-"+r;if(t!==undefined&&y["load_action_"+t]!==s){y["load_action_"+t]=s;var l={next_category_type:t,current_selected_category_id:n,previous_selected_category_id:r};var c={url:"/assessment/get_categorization_options/",type:"POST",data:JSON.stringify(l),headers:{"Content-type":"application/json"}};a.default.ajax(c).done((function(e){y[t]=e;o()}))}else{o()}};var b=function e(t,n){var r=i.default.template((0,a.default)("#custom_select_options_tmpl").text()),o=r({options:n}),s=t.find("ul.dropdown-menu"),c=i.default.template((0,a.default)("#html_select_options_tmpl").text()),u=c({options:n}),d=t.find("select"),f=d.val(),p=t.find(".dropdown-menu a").find("span").first();p.html("...");s.html(o);d.html(u);(0,l.CustomSelectbox)(t);if(f){setTimeout((function(){s.find('[data-opt-value="'+f+'"]').click()}),50)}};var w=function e(t,n,a,o){o=o||i.default.noop;if(y[n]===undefined||y[n][a]===undefined){o(false);return}_(g[n],"",a,(function(){var e=y[n][a],i=t.find("select"),s=t.find("div.dropdown");b(t,e);(0,r.jqOffOn)(i,"change",(function(){k(s,n,i.val())}));o(true)}))};var k=function e(t,n,i){var r=t.parent("div.field"),o=g[n],s=r.parent().find("div.field-"+o);if(i&&s.length>0){w(s,o,i,(function(e){if(e){if(s.data("is-reloading")===true){s.data("is-reloading",false)}else{r.slideUp();s.find("a.back_link").show();s.slideDown(400,(function(){(0,a.default)(this).css("overflow","visible")}))}}}))}};v.CategorizationNavBack=function(){var e,t;function n(e){var t=e.parents("div.field");var n=t.prev();e.on("click",(function(){t.slideUp();n.slideDown(400,(function(){(0,a.default)(this).css("overflow","visible")}))}))}return n}();v.TopicSelector=function(){var e,t;function n(n){e=n.find("select");t=n.data();v.selectedTopic=null;var a=function a(){v.selectedTopic=parseInt(e.val(),10);if(t.filter_categories!==undefined){k(n,"topic",e.val())}};(0,r.jqOffOn)(e,"change",a);if(t.filter_categories!==undefined){_("sub_topic","","",a)}}return n}();v.LevelSelector=function(){var e,t;function n(t){e=t.data("level-data");t.on("open",(function(){var n=e[v.selectedTopic]||0;t.find(".dropdown-menu a").each((function(){var e=(0,a.default)(this),t=e.data("opt-value")||0;if(t>n){e.addClass("disabled")}else{e.removeClass("disabled")}}))}))}return n}();v.filterMenu=function(e){e.find(".trigger").on("click",(function(){e.toggleClass("filtering")}))};var C=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:r.$body;var n=t.is(".nf-feed-item")?t:t.find(".nf-feed-item");n.each((function(){var e=(0,a.default)(this);e.find(".staff-tools-toggle").on("click",(function(t){t.preventDefault();t.stopPropagation();e.find(".staff-tools").toggle()}));e.find(".mini-profile").on("click",(function(e){e.preventDefault();e.stopPropagation();var t=(0,a.default)(this).data("url");if(t)window.location.href=t}))}))};v.datepicker=function(e){var t=false;var n=0;var a={maxViewMode:n,minViewMode:"days",startView:n,clearBtn:window.location.search.search(/[\?|&]before_date=/)>=0,templates:{leftArrow:'<span class="arrow left"></span>',rightArrow:'<span class="arrow right"></span>'}};var r=function t(n){var a=c.getParamsObject();if(n!==null){a.before_date=n.getTime()/1e3}else if(a.before_date){delete a.before_date}e.siblings(".dropdown-toggle").dropdown("toggle");window.location=c.appendGetParams(window.location.pathname,a)};e.datepicker(i.default.extend({},a,e.data()));e.on("changeDate",(function(e){if(!t){r(e.date)}}));e.find(".clear").on("click",(function(e){t=true;r(null)}))};v.portalFeed=function(e){var t=e.find("select");t.on("change",(function(){e.addClass("loading");if(window.location.pathname==="/community/home/"){(0,a.default)(this.form).submit()}else{var t={};e.find("select").each((function(){t[this.name]=this.value}));var n=i.default.template(e.data("url-format"))(t);if(window.history){(0,a.default)(this.form).submit();window.history.replaceState({},"",n)}else{window.location.href=n}}}));e.find(".feed-section-choice").on("click",(function(){var e=(0,a.default)(this).data();(0,a.default)(e.field).val(e.choice).trigger(a.default.Event("change"))}));var n=".portal-feed-filters";e.find(n+" > button").on("click",(function(){(0,a.default)(this).parents(n).toggleClass("open")}))};v.problemsFeedPreviews=function(){var e=false;var t=false;var n;var i;var s;var l;var c;var u;var d={};var f=300;var p=".problem-preview-tooltip";return function(v){n=r.$body.children(p);if(!n.length){var h=(0,a.default)(p);if(!h.length){return}n=h.first();n.appendTo(r.$body);h.not(n).remove()}i=n.find(".content");s=n.find(".dropdown-menu");l=s.outerHeight(true)-i.outerHeight()+parseInt(i.css("max-height"));var m=function a(){u=setTimeout((function(){if(!t){n.css("left",-99999);e=false}}),f)};v.find(".modal-feed-item").each((function(){var t=(0,a.default)(this);var p=t.data("solvable-id");var v=t.data("preview-url");var h=function t(a){if(e&&n.data("solvable-id")===p){i.html(a);o.updateMathjax(i);o.checkOverflow(i);y()}};var g=function e(){a.default.get(v).always((function(){n.removeClass("loading")})).then((function(e){d[p]=e;h(e)})).fail((function(){h("Sorry! Something went wrong.")}))};var y=function e(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var o=t.offset().top+t.outerHeight()/2;var c=a.useActualHeight?s.outerHeight(true):l;var u=r.$window.scrollTop();var d=u+r.$window.height();var f=o-c;var p=o+c;var v="bottom";if(p>d){if(f>u||f<u&&p-d>u-f){v="top"}}n.toggleClass("dropdown",v==="bottom");n.toggleClass("dropup",v==="top");n.css({left:t.offset().left,top:o});n.toggleClass("overflowing",i[0].scrollHeight>i[0].clientHeight)};t.on("mouseenter",(function(){clearTimeout(u);c=setTimeout((function(){var t=p in d;n.toggleClass("loading",!t);i.html(t?d[p]:"");o.updateMathjax(i);o.checkOverflow(i);y({useActualHeight:t});e=true;n.data("solvable-id",p);if(!t){g()}}),f-20)})).on("mouseleave",(function(){clearTimeout(c);m()}))}));(0,r.jqOffOn)(n,"mouseenter.problemPreview",(function(){t=true}));(0,r.jqOffOn)(n,"mouseleave.problemPreview",(function(){t=false;m()}))}}();v.portalFeedSwitcher=function(e){var t=e.find("#switcher-btns .btn");var n="active";var o=(0,a.default)(".modal-feed-item.feed-section-row");var s=o.outerHeight()-parseInt(o.css("padding-top"),10)*2;var l=function e(t){t.find(".latexprocessor-inline,.latexprocessor-block,.MathJax").each((function(){var e=(0,a.default)(this).parents(".td");var t=e.height();if(t>s){e.css({transform:"scale("+s/t+")",transformOrigin:"0 0"})}}))};t.on("click",(function(i){i.preventDefault();var o=(0,a.default)(this);if(!o.hasClass(n)){t.removeClass(n);o.addClass(n);e.find(".feed-section").removeClass(n);var s=e.find(o.data("target"));s.addClass(n);if(!r.isMobile){l(s)}}}));if(!r.isMobile){i.default.defer((function(){l((0,a.default)(".feed-section:visible"))}))}};v.feed=function(e){s.default.init();if(e.attr("id")!=="wiki-main"){s.default.autopagination()}u.default.feeditem_modal();m();o.scaleSVG((0,a.default)(".latexprocessor-block"));C()};var x=function e(t,n){var i=h.handle(t,n);(0,a.default)(".nf-next-container.loading").removeClass("loading").addClass("loaded");o.updateMathjax(i);u.default.feeditem_modal(i);s.default.reset_autopagination_point();s.default.needs_additional_pagination(i);o.scaleSVG((0,a.default)(".latexprocessor-block"));o.checkOverflow(i);r.$window.trigger("scroll");if(u.default.open_modal_is_set){u.default.preloadFirstItem($newsfeed_modal_set_content)}C(i)};h.newsfeed_newsfeed_container=x;h.newsfeed_firehose_container=x;h.newsfeed_explore_container=x;h.newsfeed_feed_container=x;h.profile_newsfeed_favorites_container=x;h.problems_started_problems_container=x;h.newsfeed_generic_tag_container=x;h.profile_newsfeed_favorites=x;h.newsfeed_generic_tag=x;h.wiki_community_posts_container=x;h.topic_feed_container=x;h.topic_feed_page=x;h.problems_feed_container=x;h.discussions_feed_container=x;h.home_activity_container=x;h.community_problems_container=x;h.community_discussions_container=x;h.community_wikis_featured_container=x;h.groups_newsfeed_container=x;h.daily_problems_container=x;h.daily_problems_archives_container=x;h.community_portal_lttr_listing_container=x;h.community_portal_featured_users_listing_container=x;h.profile_forlater_container=x;h.daily_problems_archives=function(e,t){x(e,t);s.default.autopagination(true);r.$window.trigger("scroll")};h.community_portal_problems=h.community_portal_need_solution=h.community_portal_discussions=h.community_portal_problems_container=h.community_portal_need_solution_container=h.community_portal_discussions_container=function(e,t){x(e,t);if(r.$body.hasClass("portal-page")){var n=(0,a.default)(".cmp_"+t+"_id").parents(".feed-section");var i=n.find(".nf-feed-item-wrapper");if(i.length>p){i.slice(p).remove();return}}s.default.autopagination(true);r.$window.trigger("scroll")};var E=function e(t,n){var i=h.handle(t,n);o.updateMathjax(i);u.default.feeditem_modal(i);o.scaleSVG((0,a.default)(".latexprocessor-block"));C(i.parent())};h.newsfeed_feeditem_challengerecommendation=E;h.problems_started_solvable_component=E;h.groups_feeditem_discussionpost=E;h.groups_feeditem_newsfeedproblemset=E;h.newsfeed_mark_reshare=function(e,t){var n=h.handle(e,t),i=n.parents(".cmp_reshare").first(),r=i.data("reshare-key");if(r){(0,a.default)('.cmp_reshare[data-reshare-key="'+r+'"]').not(i).find("> div").each((function(){(0,a.default)(this).html(e["new_html"])}))}};e.exports=v},465:function(e,t,n){"use strict";var a=s(n(1));var i=s(n(9));var r=s(n(21));var o=n(3);function s(e){return e&&e.__esModule?e:{default:e}}var l={};var c;l.paginate_triggered_ts=c;var u=function e(t){o.$body.on("click",".newsfeed_".concat(t,"_paginate"),(function(e){e.preventDefault();e.stopPropagation();var n=(0,a.default)(this),i=n.parents(".nf-next-container"),o=i.siblings(".next_container_stub"),s=o.children().first(),l=o.data("page-key"),u,f;if(typeof s==="undefined"||s.length==0||o.hasClass("loaded")){return}u=s.attr("class").slice(4,-3);f=n.data().next_url;i.addClass("loading");var p=l+"_container";if(t==="skill"){p="wiki_community_posts_container";l="wiki_canonical_page"}o.addClass("loaded");var v=new r.default(p);v.error=function(e){if(e.statusText==="timeout"){i.removeClass("loading");o.removeClass("loaded")}else{i.hide();s.hide()}};c=(new Date).getTime();if(!d){w(true)}var h={page_key:l,param_key:u};var m=n.parents(".nf-feed-wrapper"),g=m.data("feed-type")||null,y=m.data("filter_content_type")||"",_=m.data("popular")||"",b=m.data("reviewed_state")||"",k=m.data("user_to_display_id")||null;if(m.length){if(g==="normal"){h.show_all_content=true}h.filter_content_type=y;if(_!==""){h.popular=_}h.reviewed_state=b;if(k){h.user_to_display_id=k}}v.get(f,h)}))};l.paginate=u;l.init=function(){(0,a.default)(".feed").not(".inited").each((function(){var e=(0,a.default)(this);var t=e.attr("id");var n=t.replace(/^newsfeed_/,"").replace(/_wrapper$/,"");u(n);e.addClass("inited")}))};l.is_autopaginating=false;var d=false,f,p=10,v,h,m;var g=function e(){h=(0,a.default)(".nf-next-container:not(.loaded):visible:last");l.is_autopaginating=false;if(h.length>0&&f<p){v=h.offset().top-500}else{d=false;o.$window.off("scroll.nfpage")}};l.reset_autopagination_point=g;var y;var _=function e(t){var n=t.find(".nf-feed-item:visible:not(.nf-next-empty)").length,a=4,i=5;if(d){if(n>0&&n<a){if(y<i){y++;b(false)}}else{y=0}}};l.needs_additional_pagination=_;var b=function e(t){t=t===false?false:true;if(!l.is_autopaginating){l.is_autopaginating=true;h.find("a").click();if(t){f++}}};var w=function e(t){t=t||false;m=o.$window.height();f=0;y=0;g();if(h.length>0){d=true;(0,o.jqOffOn)(o.$window,"scroll.nfpage",i.default.debounce((function(){if(o.$window.scrollTop()+m>=v){b()}}),100));if(!t){b()}}};l.autopagination=w;e.exports=l},466:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.handler=o;var a=n(3);var i=r(n(65));function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=(0,a.getRelativeUrl)();a.$window.on("popstate",(function(t){if(i.default.popstateHandlerHook()){e=(0,a.getRelativeUrl)();return}var n=(0,a.getRelativeUrl)();if(n!==e){if(t.state&&t.state.modalContent){var r=(0,a.jqGetElemById)("nf-feeditem-modal");var o=r.length>0&&r.is(":visible")?r:a.$body;var s=o.find('.modal-link[href="'.concat(n,'"]'));if(s.length>0){i.default.urlStack.push(e);e=n;s.trigger("click");return}}e=n;window.location.href=window.location.href}}))}},467:function(e,t,n){"use strict";var a=c(n(1));var i=c(n(21));var r=l(n(55));var o=n(3);var s=l(n(33));function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function c(e){return e&&e.__esModule?e:{default:e}}var u={};var d=null;var f=0;var p=document.title;var v=function e(t){document.title=(t?"("+t+") ":"")+p};function h(e){if(d!==null&&e!==f){d.text((0,o.commaFormat)(e));if(f===0){d.removeClass("hide")}else if(e===0){d.addClass("hide")}if(f<e){d.parents("#header").removeClass("short");d.addClass("wiggle-more")}v(e);f=e}}u.dropdownHandler=function(e){var t=e.find(".cmp-deferred"),n=t.parent(),a=t.clone(),i=false;e.on("open",(function(){if(i){n.html(t);r.load(a)}else{r.load(t);i=true}if(d.length){d.removeClass("wiggle-more")}}));e.find(".dropdown-menu").on("click",(function(e){e.stopPropagation()}))};u.toggleDismissed=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data();e.addClass("dim");(0,i.default)(n.pageKey).get(e.attr("href"),{component_key:n.componentKey})}))};u.unreadCount=function(e){d=e;f=parseInt(d.text().replace(/,/g,""),10);v(f);var t=d.data(),n=0,i=function e(t){return 100*Math.pow(t,2)+500*t+5e3};var r=function e(){var r;a.default.get(t.url).then((function(e){if("num_notifications"in e){h(e.num_notifications)}else if("logged_out"in e){clearTimeout(r)}}));r=setTimeout(e,i(n));n++};r()};u.updateCount=function(e){h(e.data("notif-count"));(0,a.default)(".dropdown.hdr-settings").trigger("update")};window.vkey=window.vkey||{};window.vkey.notifications_page=function(e,t){e.new_html=e.new_html.replace(/&amp;(.*?);/g,"&$1;");var n=window.vkey.handle(e,t);s.updateMathjax(n)};e.exports=u},468:function(e,t,n){"use strict";var a=f(n(1));var i=f(n(9));var r=d(n(1284));var o=n(3);var s=f(n(41));var l=n(11);var c=n(12);var u=n(18);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return m(e)||h(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function m(e){if(Array.isArray(e))return e}var g={};var y=null;var _=0;var b;var w;var k;var C="nx-slide-";var x="nx-target-active";function E(e,t,n){var a=["top","bottom"];var r=e.data("reposition");if(r){i.default.defer((function(){var i=r.split("-");var s=i[0];var l=i[1];if(a.indexOf(s)<0||a.indexOf(l)<0){return}var c=t.offset().top+(s==="bottom"?t.outerHeight():0)-(l==="bottom"?e.outerHeight():0);var u=e.offset().top-e.position().top;e.css({top:c-u+parseInt(e.css("margin-top"),10)});if(n){e.show()}if((0,o.jqGetElemById)("prac-topic-header").length){var d=t.offset().top-(0,o.jqGetElemById)("header").outerHeight()-28;(0,o.setScrollPosition)(d,{animate:true})}}))}}function I(e){var t=e.data("target")||null;if(t){var n=(0,a.default)(t);i.default.defer((function(){n.addClass(x);E(e,n)}))}}function T(e){i.default.defer((function(){(0,a.default)(".".concat(x)).off("click.lock").removeClass(x);if(e.length>0){e.find(".nx-modal").each((function(t,n){var i=(0,a.default)(n);var r=e.data("reposition-handler");if(r){(0,u.executeFunctionByName)(r,i)}else{I(i)}}));i.default.defer((function(){e.addClass("in")}))}else{o.$body.trigger("nuxClose");y.hide()}}))}var O=function e(t,n){var r=_;_=t;i.default.defer((function(){y.removeClass(C+r).addClass(C+_);var e=y.find(".slide-".concat(_));var t=e.data("on-visible")||null;T(e);if(t){(0,u.executeFunctionByName)(t,e)}y.trigger(a.default.Event("nux.slidechange"));if(e.length>0){var i={action:"viewed_".concat(k,"_popup"),step_position:_,is_first_step:_===b,is_last_step:_===w};if(n){i.triggered_by=n}(0,l.track)("ui",i)}}))};g.tour=function(e){y=e;var t=y.find(".slide");b=parseInt(t.first().prop("class").match(/slide-(\d+)/)[1],10);w=b+t.length-1;k=e.data("axContext");var n=y.prop("class").match(/nx-slide-(\d+)/)[1];_=parseInt(n,10);O(_);y.on("click",".nx-next",(function(){O(_+1,c.INTERACTION_TYPES.CONTINUE_BUTTON)}));i.default.defer((function(){if(window.history.replaceState){window.history.replaceState({},"",window.location.href.replace(/tour=true&?/,"").replace(/[&?]$/,""))}}))};g.overlay=function(e){e.on("click",(function(){s.default.update(e.data("flag"),true);i.default.defer((function(){e.hide()}))}))};g.banner=function(e){s.default.update(e.data("flag"),true)};g.problemsOfTheDay=function(e){s.default.update(e.data("flag"),true)};g.potdHighlight=function(e){var t=e.find(".nx-modal");setTimeout((function(){var e=t.offset();var n=o.$window.height();if(e.top>n){var a=o.$html.add(o.$body);var i=8;(0,o.setScrollPosition)(e.top-n+t.height()+i,{$container:a,animate:true});y.on("nux.slidechange",(function(){(0,o.setScrollPosition)(0,{$container:a,animate:true})}))}}),500)};g.welcomePage=function(e){var t=e.data(),n=t.enableNuxSegmentation,r=t.surveyStep,s=t.isLastSurveyStep;var u=e.find(".nux-welcome-slide");var d=e.find(".category-link");var f=e.find(".category-item");var v=e.find(".nux-welcome-slide").length;var h=e.find(".continue:first").attr("href");var m=function e(){if(window.location.search.indexOf("step=")>=0){return parseInt(window.location.search.match(/[?&]step=(\d)/)[1],10)}return 1};var g=m();var y=i.default.noop;var _=function e(t){var a=g===v;var i=a&&r>=0;var o={action:"viewed_nux_slide",is_first_step:g===1};if(n){o.step_position=i?g+r-1:g;o.is_last_step=i?s:a}else{o.step_position=g;o.is_last_step=a}if(t){o.triggered_by=t}(0,l.track)("ui",o)};var b=function e(t,n,a){u.removeClass(c.CLASS_NAME_ACTIVE);u.filter(".nux-welcome-slide-".concat(t)).addClass(c.CLASS_NAME_ACTIVE);if(a!==c.INTERACTION_TYPES.PREV_NEXT_BUTTON){try{window.history.pushState({},null,n)}catch(e){}}_(a);y(t)};e.find(".btn-back").on("click",(function(t){var n=e.find(".prev-category");if(o.isMobile){var i=(0,a.default)(t.currentTarget).data(),r=i.categoryId;n.val(r)}n.prop("checked",true)}));e.find(".continue").on("click",(function(e){e.preventDefault();g++;var t=e.currentTarget.href.replace("step=".concat(g-1),"step=".concat(g));b(g,t,c.INTERACTION_TYPES.CONTINUE_BUTTON)}));u.each((function(e,t){(0,a.default)(t).find(".markers span").each((function(t,n){if(t<e){(0,a.default)(n).addClass("clickable").on("click",(function(){g=t+1;var e=h.replace(/step=\d/,"step=".concat(g));b(g,e,c.INTERACTION_TYPES.STATUS_DOT)}))}}))}));var w=e.find('.btn[type="submit"]');d.on("click.selectCategory",(function(){w.prop("disabled","");if(!o.isMobile){e.find(".content").removeClass("unselected-category")}d.off("click.selectCategory")}));d.on("click",(function(e){var t=(0,a.default)(e.currentTarget);if(!t.hasClass(c.CLASS_NAME_ACTIVE)){var i=t.data();d.removeClass(c.CLASS_NAME_ACTIVE);t.addClass(c.CLASS_NAME_ACTIVE);t.find("input").prop("checked",true);f.removeClass(c.CLASS_NAME_ACTIVE);f.filter(i.target).addClass(c.CLASS_NAME_ACTIVE);var r={action:"click",element_id:"clicked_nux_category_option",element_type:"button"};if(n){r.user_category=i.axUserCategory;r.nux_school_level_category=i.axLevelCategory;r.nux_use_case_category=i.axUseCaseCategory}else{r.user_category=i.category}(0,l.track)("ui",r)}}));f.find(".img").each((function(e,t){var n=window.getComputedStyle(t).backgroundImage;if(n){var a=new Image;var i=n.match(/url\(['"]?(.*?)['"]?\)/);var r=p(i,2);a.src=r[1]}}));i.default.defer(_);window.onpopstate=function(){g=m();b(g,document.location,c.INTERACTION_TYPES.PREV_NEXT_BUTTON)};if(o.isMobile){var k=".nux-segmentation-form-footer";var C=(0,a.default)(".nux-welcome-form form");var x=C.find(k);o.$body.children(k).remove();x.appendTo(o.$body);w.on("click",(function(e){e.preventDefault();C.trigger("submit")}));C.on("submit",(function(){w.prop("disabled",true)}));y=function e(t){x.toggleClass(c.CLASS_NAME_HIDE,t!==5)};y(g)}};g.earthAnimation=function(e){Promise.all([Promise.all([n.e(7),n.e(72)]).then(n.bind(null,1298)),Promise.all([n.e(7),n.e(72)]).then(n.bind(null,718)),Promise.all([n.e(7),n.e(72)]).then(n.bind(null,720))]).then((function(t){var n=p(t,3),a=n[0],i=a.geoPath,o=a.geoOrthographic,s=n[1].scaleLinear,l=n[2].select;var c=e.width();var u=e.height();var d=200;var f=100*(c/d);var v=o().scale(f).translate([c/2,u/2]).clipAngle(90);var h=i().projection(v);var m=s().domain([0,c]).range([-180,180]);var g=l(e[0]).append("svg").attr("width",c).attr("height",u);var y={type:"Topology",transform:{scale:[.036003600360036005,.017366249624962502],translate:[-180,-90]},objects:{land:{type:"GeometryCollection",geometries:[{type:"Polygon",arcs:[[0]]},{type:"Polygon",arcs:[[1]]},{type:"Polygon",arcs:[[2]]},{type:"Polygon",arcs:[[3]]},{type:"Polygon",arcs:[[4]]},{type:"Polygon",arcs:[[5]]},{type:"Polygon",arcs:[[6]]},{type:"Polygon",arcs:[[7]]},{type:"Polygon",arcs:[[8,9]]},{type:"Polygon",arcs:[[10,-10]]},{type:"Polygon",arcs:[[11]]},{type:"Polygon",arcs:[[12]]},{type:"Polygon",arcs:[[13]]},{type:"Polygon",arcs:[[14]]},{type:"Polygon",arcs:[[15]]},{type:"Polygon",arcs:[[16]]},{type:"Polygon",arcs:[[17]]},{type:"Polygon",arcs:[[18]]},{type:"Polygon",arcs:[[19]]},{type:"Polygon",arcs:[[20]]},{type:"Polygon",arcs:[[21]]},{type:"Polygon",arcs:[[22]]},{type:"Polygon",arcs:[[23]]},{type:"Polygon",arcs:[[24]]},{type:"Polygon",arcs:[[25]]},{type:"Polygon",arcs:[[26]]},{type:"Polygon",arcs:[[27]]},{type:"Polygon",arcs:[[28]]},{type:"Polygon",arcs:[[29]]},{type:"Polygon",arcs:[[30]]},{type:"Polygon",arcs:[[31]]},{type:"Polygon",arcs:[[32]]},{type:"Polygon",arcs:[[33]]},{type:"Polygon",arcs:[[34]]},{type:"Polygon",arcs:[[35]]},{type:"Polygon",arcs:[[36]]},{type:"Polygon",arcs:[[37]]},{type:"Polygon",arcs:[[38]]},{type:"Polygon",arcs:[[39]]},{type:"Polygon",arcs:[[40]]},{type:"Polygon",arcs:[[41]]},{type:"Polygon",arcs:[[42]]},{type:"Polygon",arcs:[[43]]},{type:"Polygon",arcs:[[44]]},{type:"Polygon",arcs:[[45],[46]]},{type:"Polygon",arcs:[[47]]},{type:"Polygon",arcs:[[48]]},{type:"Polygon",arcs:[[49]]},{type:"Polygon",arcs:[[50]]},{type:"Polygon",arcs:[[51]]},{type:"Polygon",arcs:[[52]]},{type:"Polygon",arcs:[[53]]}],bbox:[-180,-90.00000000000003,180.00000000000014,83.64513000000002]}},arcs:[[[3345,574],[-16,-56],[-171,43],[187,13]],[[3745,688],[51,-114],[-264,-54],[116,168],[97,0]],[[3098,1097],[-9,-70],[-150,-12],[109,201],[50,-119]],[[0,304],[279,48],[330,-86],[265,-13],[157,60],[-297,50],[20,95],[-111,54],[172,-13],[108,81],[-238,50],[-45,101],[112,-11],[189,59],[50,54],[253,71],[431,-10],[160,44],[177,-85],[192,-7],[-84,155],[204,-58],[220,35],[338,-55],[203,55],[47,79],[-35,88],[21,161],[132,154],[24,-89],[-94,-80],[111,-202],[-13,-193],[-239,-126],[-185,-5],[82,-48],[-101,-48],[71,-108],[436,-122],[40,-48],[235,85],[194,-20],[396,100],[-32,62],[-165,-11],[-4,64],[191,96],[213,44],[162,104],[-2,55],[144,109],[279,-22],[271,94],[270,7],[92,-46],[262,59],[52,67],[133,-73],[365,203],[127,15],[167,-117],[181,5],[18,-101],[-44,-125],[85,-14],[79,128],[105,24],[143,129],[144,58],[74,-59],[252,-1],[87,97],[93,-79],[206,61],[202,-76],[40,37],[180,-12],[165,32],[75,-43],[224,2],[32,-56],[212,-38],[233,-126],[237,-55],[-54,-113],[-140,-104],[-21,-92],[98,-97],[-145,-24],[-55,-103],[75,-64],[298,-135],[140,-4],[-9951,-14]],[[3118,2082],[75,-49],[-86,-53],[-80,32],[66,140],[25,-70]],[[9038,2834],[80,-5],[-10,-135],[-52,-19],[-18,159]],[[9805,2826],[34,-49],[-136,-280],[-64,88],[166,241]],[[9849,3100],[109,-88],[-70,-207],[-61,102],[22,193]],[[0,4229],[9981,-14],[2,24],[-9983,18]],[[0,4257],[0,-28]],[[0,4257],[0,-28]],[[6390,4402],[11,-96],[-93,-560],[-85,-2],[-20,127],[31,378],[91,93],[41,147],[24,-87]],[[8987,4390],[28,-24],[50,-275],[180,-364],[7,-325],[-102,-395],[-87,-72],[-157,58],[-30,109],[-99,71],[-48,131],[-82,65],[-144,-42],[-69,-96],[-156,-68],[-84,50],[22,115],[-67,450],[21,152],[186,119],[60,189],[113,149],[36,-61],[111,216],[127,-71],[-42,-136],[106,-153],[45,0],[46,386],[29,-178]],[[8017,4792],[59,18],[106,-131],[-256,109],[91,4]],[[8725,5116],[37,-127],[80,95],[173,-124],[116,-302],[-23,-59],[-88,144],[-59,-98],[-110,116],[-21,111],[-118,107],[-87,149],[100,-12]],[[8478,5264],[-22,-57],[-118,-11],[83,-283],[-80,101],[3,-150],[-46,157],[59,237],[121,6]],[[7939,4845],[-90,94],[-111,348],[-89,182],[58,16],[177,-297],[63,-182],[-8,-161]],[[8274,5288],[-48,-337],[-165,63],[-31,142],[15,142],[93,63],[104,220],[68,-87],[-36,-206]],[[8510,5667],[-28,-163],[-49,130],[77,33]],[[8369,6248],[33,-81],[-21,-159],[-47,37],[35,203]],[[2984,6327],[118,-73],[-94,-32],[-24,105]],[[2786,6493],[153,-142],[-99,-25],[-54,167]],[[5431,7384],[-12,-93],[-74,57],[86,36]],[[8915,7321],[-20,-115],[-257,-72],[9,-141],[-53,107],[89,123],[85,5],[104,155],[24,172],[44,-116],[-25,-118]],[[8997,7726],[45,-52],[-66,-73],[-50,80],[17,124],[54,-79]],[[3440,8101],[74,-83],[-21,-86],[-140,-8],[87,177]],[[8989,8105],[-3,-226],[-40,-50],[14,449],[29,-173]],[[4811,8192],[-89,-26],[8,119],[112,39],[-31,-132]],[[4916,8559],[26,-157],[71,-172],[2,-124],[-176,-35],[41,60],[19,196],[-70,125],[87,107]],[[2634,8963],[57,-89],[-67,-61],[10,150]],[[4597,9009],[24,-76],[-140,-94],[-157,122],[273,48]],[[0,9154],[281,-172],[-111,-98],[-167,92],[-3,178]],[[0,9301],[9999,-40],[-35,16],[-9964,24]],[[2485,9184],[88,-132],[51,154],[118,-41],[-3,-118],[-122,-32],[-43,-103],[-162,-158],[-42,-177],[66,-107],[278,-112],[66,-227],[36,78],[-34,121],[92,108],[-55,131],[11,202],[119,7],[118,-79],[54,-165],[85,123],[77,-230],[124,-99],[46,-143],[-121,-109],[-177,-1],[-130,-196],[126,133],[58,-167],[129,-18],[-154,-137],[-44,73],[-88,-65],[4,-118],[-81,-24],[-79,-189],[0,-137],[-156,-237],[36,-263],[-31,-96],[-81,281],[-153,5],[5,-58],[-147,18],[-74,-121],[-14,-284],[96,-248],[101,66],[14,99],[90,31],[-53,-326],[161,-51],[-20,-209],[68,-149],[51,48],[76,-56],[38,114],[104,105],[9,-85],[265,-14],[-14,-45],[145,-229],[119,-32],[81,-251],[-21,-48],[298,-178],[132,-149],[3,-204],[-106,-276],[-23,-334],[-62,-194],[-74,-22],[-106,-146],[-11,-161],[-168,-361],[-99,30],[47,-142],[-68,-105],[-86,-6],[5,-107],[-82,-22],[46,-86],[-115,-216],[54,-54],[-97,-201],[28,-93],[-80,-85],[-109,90],[-20,323],[36,147],[33,402],[48,271],[38,635],[-8,175],[-157,213],[-150,571],[37,317],[82,177],[-55,296],[-25,-83],[-161,149],[-51,160],[-99,58],[-97,131],[-51,-31],[-193,152],[-62,123],[-8,135],[-173,356],[-25,127],[-43,-58],[147,-391],[-77,79],[-80,172],[-62,306],[-93,90],[-105,329],[14,300],[-18,164],[48,36],[-128,105],[-185,420],[-362,159],[-171,-116],[-175,-190],[-149,-57],[201,173],[-170,128],[-64,98],[149,189],[-116,-19],[-88,70],[101,52],[78,-26],[-126,159],[267,142],[120,-43],[241,-26],[197,-72],[232,91],[67,-58],[85,22],[244,-84],[11,-41],[204,64],[51,-45],[268,3],[-50,116],[35,106],[130,-140]],[[1829,9393],[86,-39],[157,13],[26,-97],[97,-55],[-40,-74],[-99,25],[-204,-37],[-169,174],[146,90]],[[2595,9395],[118,34],[44,-97],[81,40],[251,-128],[-1,-104],[194,-107],[-58,-108],[-78,80],[48,-214],[-105,62],[-3,-81],[-165,135],[61,150],[-176,166],[-65,-25],[-205,39],[-42,105],[101,53]],[[2212,9435],[83,-5],[-27,-143],[-115,71],[59,77]],[[2411,9373],[-36,78],[111,-16],[-75,-62]],[[1654,9294],[-152,27],[28,139],[204,-6],[57,-41],[-137,-119]],[[9029,9534],[-170,-55],[-40,77],[210,-22]],[[2264,9600],[9,-99],[-122,77],[113,22]],[[1994,9570],[53,-69],[-164,-33],[11,43],[-164,3],[64,72],[176,-58],[24,42]],[[6598,9255],[-165,43],[112,208],[154,67],[194,40],[0,-41],[-183,-56],[-171,-166],[59,-95]],[[2370,9622],[152,-86],[224,6],[-23,-73],[-291,23],[-62,130]],[[1772,9654],[-4,-45],[-181,-44],[185,89]],[[0,9154],[0,-230],[9963,-25],[19,-90],[-159,-76],[-93,-102],[-39,39],[-149,-40],[-40,-289],[-148,-221],[-37,251],[81,154],[147,178],[23,81],[-121,-115],[-23,71],[-141,-116],[-334,-42],[-196,-248],[172,-94],[-35,-268],[-144,-291],[-72,-6],[-132,-203],[53,-171],[-10,-98],[-72,-40],[-9,193],[-53,126],[-89,-60],[16,118],[-114,-127],[99,-120],[-54,-100],[77,-186],[5,-107],[-96,-304],[-77,-102],[-141,-79],[-63,18],[-80,-153],[90,-218],[9,-208],[-113,-176],[-2,76],[-138,200],[-27,-198],[118,-294],[4,-209],[-59,88],[-52,264],[-38,58],[17,178],[-45,316],[-82,-51],[3,125],[-80,262],[-124,-73],[-184,-322],[-13,-319],[-65,-138],[-111,462],[-25,309],[-60,-27],[-114,262],[-135,-20],[-189,80],[-89,80],[-39,131],[-59,-9],[106,-343],[62,5],[57,112],[104,-216],[-56,-187],[-253,-291],[-145,-79],[-23,238],[-97,261],[-2,74],[-110,315],[-66,37],[132,-581],[49,-155],[113,-203],[22,-112],[194,91],[-15,-163],[-111,-365],[-175,-313],[-41,-224],[47,-247],[8,-227],[-37,-116],[-129,-177],[7,-270],[-57,-51],[-22,-195],[-111,-232],[-67,-67],[-172,-51],[-122,445],[-26,287],[-73,313],[55,267],[-48,403],[-86,226],[28,241],[-36,98],[-73,-29],[-43,116],[-175,-90],[-154,-22],[-137,169],[-144,430],[32,81],[-14,331],[70,251],[136,212],[25,191],[76,145],[104,-34],[101,82],[224,43],[44,-233],[115,-60],[107,-115],[49,141],[224,-106],[148,20],[53,265],[-237,48],[-41,162],[86,101],[164,47],[89,-63],[86,98],[-133,150],[68,116],[-154,-81],[-78,42],[-86,-231],[32,-87],[-167,-34],[34,-130],[-66,-79],[-59,281],[-129,193],[-64,-57],[119,-210],[-40,-22],[-182,248],[-65,-71],[-95,-3],[-146,-369],[-90,-42],[-98,53],[-13,355],[39,42],[169,-19],[19,149],[-94,154],[83,-2],[151,171],[24,85],[114,53],[-7,178],[66,-179],[89,-14],[198,83],[58,230],[129,16],[2,59],[-144,-37],[-51,159],[121,144],[-89,35],[-121,-171],[26,-154],[-80,-229],[-82,-43],[-72,237],[-130,-51],[-19,195],[154,145],[117,191],[123,116],[250,79],[51,-58],[286,-130],[-53,-111],[-124,44],[28,-135],[266,134],[-30,105],[78,-18],[3,-92],[205,126],[141,2],[48,56],[240,-71],[-69,139],[90,115],[104,-266],[-67,-121],[105,83],[-54,213],[182,50],[24,76],[175,17],[10,68],[168,53],[209,23],[34,49],[253,-33],[78,-80],[-125,-66],[383,-70],[2,44],[148,-40],[75,-129],[27,60],[211,-20],[17,78],[251,-37],[96,-78],[168,1],[54,-82],[264,38],[226,-40],[-9960,-25]],[[6364,7560],[2,-213],[129,-36],[-26,225],[51,5],[-123,210],[76,38],[-52,103],[-125,-141],[68,-191]],[[7918,9692],[-157,-23],[51,76],[106,-53]],[[5506,9772],[-31,-167],[-164,119],[54,66],[141,-18]],[[5706,9813],[14,-52],[-163,3],[-75,43],[224,6]],[[7775,9725],[-184,31],[-59,53],[132,52],[118,-85],[-7,-51]],[[2583,9770],[-56,-80],[-107,4],[-107,104],[120,64],[150,-92]],[[3097,9968],[183,-43],[-258,-147],[-159,-28],[42,-46],[-143,-135],[-248,17],[122,165],[-180,147],[341,71],[300,-1]],[[4247,9992],[174,-46],[-308,-30],[243,-61],[206,44],[98,-36],[-153,-66],[-55,-80],[34,-101],[-25,-155],[-116,-57],[34,-183],[-150,-96],[-112,-20],[-67,-83],[-156,-70],[-84,-160],[-15,-149],[-136,44],[-94,159],[-64,205],[86,158],[-72,-37],[-66,137],[31,53],[-108,169],[-74,34],[-201,-3],[-129,137],[206,55],[-64,42],[215,110],[376,34],[324,59],[222,-7]]]};g.append("path").datum(r.feature(y,y.objects.land)).attr("class","land").attr("d",h);var _=20;var b=0;setInterval((function(){b+=.5;v.rotate([m(b),0]);g.selectAll("path").attr("d",h)}),_)}))};e.exports=g},469:function(e,t,n){"use strict";var a=s(n(1));var i=s(n(9));var r=n(44);var o=n(3);function s(e){return e&&e.__esModule?e:{default:e}}var l={};var c=window.vkey||{};var u;var d;var f;var p={};var v=null;var h=false;var m=null;var g=false;var y=function e(t){if(g){h=true;return}if(t){h=t}else{h=!h}var n=(0,o.jqGetElemById)("nf-feeditem-modal");if(h){o.$body.on("click.savetogroup saveitem.open",(function(){e(false)}));(0,o.jqOffOn)(n,"scroll.saveitem",i.default.throttle(_,100))}else{o.$body.off("click.savetogroup saveitem.open");n.off("scroll.saveitem")}u.toggle(h);if(h){if(v&&v.length>0){if(v.outerHeight()<v[0].scrollHeight){v.addClass("scrollable");(0,o.jqGetElemById)("groupitem-gradient").addClass("active")}}_();f.addClass("selected");o.$body.trigger(a.default.Event("savetogroup.open"))}else{u.removeClass("success");f.removeClass("selected")}};var _=function e(){if(g||o.isMobile){return}var t=0,n=0,a=d.offset(),i="",r="",s=o.isMobile?0:28;if(d.data("position")==="left"){n=a.top;t=a.left-u.width()-s;i="adjusted";r="bottom"}else if(d.data("position")==="bottom"){n=a.top+d.outerHeight();t=a.left+d.width()/2;i="bottom"}else{n=a.top-u.height();t=a.left+d.width()/2;r="bottom"}u.addClass(i).removeClass(r).css({top:~~n,left:~~t})};var b=function e(){f=(0,o.jqGetElemById)("groups-tooltip-trigger");f.on("click",(function(e){e.preventDefault();e.stopPropagation();y()}))};var w=function e(){var t=v.find("input");var n=t.filter(".auto-checked");if(n.length>0){t.on("click.autocheck",(function(){t.off("click.autocheck");n.prop("checked",false).removeClass(".auto-checked")}))}};var k=function e(){u.on("click",(function(e){e.stopPropagation()}));var t=(0,o.jqGetElemById)("groupitem-form-groups");v=t.find(".sets");w();u.removeClass("nux new success");if(u.find(".success").length>0){u.addClass("success");y(true)}_();t.on("submit",(function(){y(false)}))};var C=function e(){d=(0,o.jqGetElemById)("groups-tooltip-target");var t=d.data("object-id");var n=(0,a.default)();["assessment_add_solvable_to_group","quizzes_add_solvable_to_group","potw_add_solvable_to_group","discussions_add_to_group"].forEach((function(e){n=n.add((0,a.default)(".saveitem-tooltip#cmp_"+e+"_id"))}));n.each((function(){var e=(0,a.default)(this);var n=e.data("object-id");if(n!==t){p[n]=e;e.detach()}}));u=n.filter("[data-object-id="+t+"]");if(u.length===0){u=p[t];if(u){u.appendTo(o.$body)}}else if(u.length>1){u.slice(1).remove();u=u.first()}if(!u||!u.length){return}if(d.length){if(u.data("inited")!==true){u.appendTo(o.$body);u.data("inited",true);u.find("form").off("submit");(0,r.initAutosubmit)(u)}b();if(h){y(true)}}else if(u.data("is-webview")===true){h=true;g=true;u.addClass("in")}};var x=function e(t){if(t===true||u&&u.length&&d.length){_();k()}};l.controller=function(e){C();x()};var E=function e(){c.handle.apply(this,arguments);x()};c.assessment_add_solvable_to_group=c.quizzes_add_solvable_to_group=c.potw_add_solvable_to_group=c.discussions_add_to_group=E;e.exports=l},470:function(e,t,n){"use strict";var a=m(n(682));var i=m(n(1));var r=m(n(9));var o=m(n(112));var s=m(n(31));var l=h(n(54));var c=n(11);var u=n(3);var d=h(n(33));var f=h(n(37));var p=n(13);var v=m(n(65));function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var g={};var y=null,_=null,b={};var w=null,k=null,C=null,x=null,E=null,I=null,T={},O,S=1e3,j=10,q=100,P,A=false,D=["wikis","problems","quizzes"],N={version:1,search_type:"wikis",wiki_quality_threshold:200,page:0,pages:0,use_page:false,topics:"",levels:"easy",allow_empty_queries:false},M={};var z=function e(t,n){return n?t.substr(0,t.length-1):t};var L=function e(t){var n="/search/_analytics/";var a=window.ga||function(){};n+="user-"+P+"/";n+=N.search_type+"/";n+="query-"+$(t.query,true)+"/";if(N._filters.length===0){N._filters.push("none")}n+="filters-"+$(N._filters.join(","))+"/";n+="total-"+t.nbHits+"/";n+="page-"+(t.page+1)+"-"+t.nbPages+"/";a("send","event","search","search_result",n);var i=t.userData&&t.userData.length?t.userData[0].card_type_name:"NONE";if(c.useAvo){l.searchResult({searchType:N.search_type,query:$(t.query,true),filters:$(N._filters.join(",")),hits:t.nbHits,page:t.page+1,pages:t.nbPages,path:window.location.pathname,isAndroid:u.isAndroid,customSearchCardType:i})}else{(0,c.track)("search_result",{search_type:N.search_type,query:$(t.query,true),filters:$(N._filters.join(",")),hits:t.nbHits,page:t.page+1,pages:t.nbPages,path:window.location.pathname,is_android:u.isAndroid,custom_search_card_type:i})}};var $=function e(t,n){t=t.replace(/\s/g,"+");if(n===true){t=escape(t)}return t};var B=function e(){var t=null;w.on("keydown input",(function(e){clearTimeout(t);if(e.which===13||e.forceSearch){A=true;se(w.val())}else{t=setTimeout((function(){A=true;se(w.val())}),S)}}));C.add((0,u.jqGetElemById)("search-hide")).on("click",(function(e){if(!(0,i.default)(e.target).closest(".search-results-wrapper").length){e.preventDefault();re()}}));(0,u.jqGetElemById)("search-input-btn").on("click",(function(){w.focus()}))};var U=function e(){E.removeClass(D.join(" "));E.addClass(N.search_type);(0,c.setAnalyticsEvents)(C);if(!E.hasClass("inited")){var t=(0,i.default)("#search-type a"),n=(0,i.default)("#search-level-list button"),a=(0,i.default)("#search-topics-list a");(0,c.track)("ui",{action:"click",element_type:"link",element_id:"user_searched"});var r=function e(t,n){t.removeClass("active");n.addClass("active")};var o=function e(){var n=t.filter("[data-opt-value="+N.search_type+"]");r(t,n)};var s=function e(){if(["problems","quizzes"].indexOf(N.search_type)>=0){if(N.oldLevels){N.levels=N.oldLevels;N.oldLevels=null}if(N.oldTopics&&N.topics.length===0){N.topics=N.oldTopics;N.oldTopics=null}}else{if(N.levels){N.oldLevels=N.levels;N.levels=""}if(N.topics){N.oldTopics=N.topics;N.topics=""}}};var l=function e(t,n,a,i){i=i===false?false:true;if(!a.hasClass("active")){var o=a.data();r(n,a);N[t]=o["optValue"];s();se()}else if(i===true){n.removeClass("active");n.find("a").removeClass("active");N[t]="";se()}};E.addClass("inited");o();t.on("click",(function(e){e.preventDefault();l("search_type",t,(0,i.default)(this),false)}));if(N.levels.length&&typeof N.levels==="string"){n.removeClass("active");n.filter("[data-opt-value="+N.levels+"]").addClass("active")}n.on("click",(function(e){e.preventDefault();var t=(0,i.default)(this),a=t.data("opt-value");if(!t.hasClass("active")){n.removeClass("active");t.addClass("active");N.levels=a;se()}}));a.on("click",(function(e){e.preventDefault();var t=(0,i.default)(this);if(!t.hasClass("active")){(0,i.default)("#search-topic-active").html(t.html());l("topics",a,t)}}));x.on("click",".change-search-type",(function(e){e.preventDefault();N.search_type=(0,i.default)(this).data("opt-value");s();o();se()}))}};var F=function e(){var t=x.find(".load-page").last();var n=function(){if(u.isMobile){return u.$window}return C.find(".search-results-wrapper")}();var a=function e(){if(u.isMobile){return t.offset().top}return t.position().top+(0,u.jqGetElemById)("header").outerHeight()};var o=function e(){if(n.scrollTop()+n.outerHeight()+q>a()){G(t)}};if(N.page===N.pages-1){t.remove()}else{(0,u.jqOffOn)(n,"scroll",r.default.throttle((function(){if(!t.hasClass("loaded")){o()}}),j));o()}(0,u.jqOffOn)(x.find(".internal-link"),"click",(function(e){e.preventDefault();e.stopPropagation();var t=(0,i.default)(e.currentTarget).attr("href");if(e.metaKey){window.open(t)}else{window.location.href=t}}))};var G=function e(t){if(t.hasClass("loaded")){return}t.addClass("loaded");if(N.page<N.pages-1){N.page++;N.use_page=true;A=true;se()}else{u.$window.off("scroll.searchpage")}};var R=function e(t,n){k.removeClass("loading").addClass("loaded");x=(0,u.jqGetElemById)("site-search-result-list");E=(0,u.jqGetElemById)("site-search-header");if(t===null){H(n)}else{V(t)}};var H=function e(t){K();J(t);U();F();ie();L(t)};var V=function e(t){var n="";if(t.message.indexOf("Cannot connect to the AlgoliaSearch API")>=0){n="You seem to be offline. Check your connection to continue searching."}else{n="".concat(t.message," Try again later.")}(0,p.showGenericModal)("Search error",n);s.default.captureMessage("Search error: ".concat(t.message))};var W=function e(t){return r.default.template((0,u.jqGetElemById)(t).text())};function K(){M={page:W("search-page-tmpl"),problems:W("search-problems-tmpl"),quizzes:W("search-quizzes-tmpl"),wikis:W("search-wiki-tmpl"),sets:W("search-sets-tmpl"),empty:W("search-empty-tmpl"),card:{course:W("search-card-course-tmpl"),topic:W("search-card-topic-tmpl"),chapter:W("search-card-chapter-tmpl"),special:W("search-card-special-tmpl")}}}var J=function e(t){var n="";if(N.page===0){var a=I.data(),r=a.enabledCardTypes;if(t.userData&&t.userData.length&&r.indexOf(t.userData[0].card_type_name)>=0){var o=t.userData[0];if(T[o.card_id]||T[o.card_id]===null){I.html(T[o.card_id])}else{I.html(M.card[o.card_type_name.toLowerCase()](o));i.default.get("/api/v1/search/grab_custom_search_card/"+o.card_id+"/").fail((function(){T[o.card_id]=null;I.empty()})).then((function(e){T[o.card_id]=e.rendered_html;I.html(e.rendered_html)}))}}else{I.empty()}}if(t.hits.length>0){E.removeClass("empty");t.hits.forEach((function(e,t){var a=M[e.document_type],i=Y(e);n+=a(i)}))}else if(N.page===0){E.addClass("empty");n=M.empty(te(t))}N.page=t.page;N.pages=t.nbPages;if(n.length>0){n=M.page({page:N.page,html:X(n)});if(N.page>0){x.append(n)}else{x.html(n)}}v.default.feeditem_modal();x.find(".load-modal").not(".inited").each((function(){var e=(0,i.default)(this),t=e.data(),n=t.fullUrl,a=t.modalUrl;if(e.data("clean-urls")===true){n="/"+n.split(/:\/\/.*?\//)[1];if(a){a="/"+a.split(/:\/\/.*?\//)[1]}}if(e.hasClass("search-problem")){e.data("modal-url",n.replace(/\-problem\/(.)/,"-problem/modal/$1").replace("/problems/","/problems/modal/"))}else{e.data("modal-url",a)}e.addClass("inited");v.default.modal_events.apply(this)}));d.checkOverflow(x)};var X=function e(t){return t.replace(/data-src=/g,"src=")};var Y=function e(t){switch(t.document_type){case"wikis":return Q(t);break;case"problems":return Z(t);break;case"quizzes":return ee(t);break;default:return t}};var Q=function e(t){t.processed_title=ne(t);t.processed_blurb=ae(t);t.is_low_quality=(t.quality_score||0)<N.wiki_quality_threshold;return t};var Z=function e(t){t.level=t.level>0&&t.level!=="None"?t.level:0;t.concept_quiz_slug=t.concept_quiz_slug||false;t.num_likes=t.num_likes||0;t.num_shares=t.num_shares||0;t.percent_solved=t.percent_solved||0;t.processed_title=ne(t);t.processed_blurb=ae(t);t.topic_name=t.topic_name==="Unknown"?null:t.topic_name;return t};var ee=function e(t){t.topic_name=t.topic_name||null;t.quiz_type=t.quiz_type||null;t.paid_quiz=t.paid_quiz&&t.paid_quiz===true;return t};var te=function e(t){var n=1,a={query:t.query};D.forEach((function(e){if(e!==N.search_type){var t="alt_search_"+n;a[t]=e;a[t+"_text"]=z(e);n++}}));return a};var ne=function e(t){if(t.rendered_title){return t.rendered_title}else if(t.title){return r.default.escape(t.title)}return null};var ae=function e(t,n){n=n!==false;var a;if(t.rendered_blurb){a=t.rendered_blurb}else if(t.blurb){if(n){a=r.default.escape(t.blurb)}else{a=t.blurb}}else{return null}return a.replace(/<a\ /g,"<span ").replace(/<\/a>/g,"</span>")};var ie=function e(){if(!u.isMobile){(0,p.crop)();u.$body.addClass("search-active")}if(!C.hasClass("active")){C.hide().addClass("active").fadeIn(150)}f.loadForElement(x)};var re=function e(){if(!u.isMobile){(0,p.crop)(false);u.$body.removeClass("search-active")}C.removeClass("active");w.val("");k.removeClass("loaded");u.$window.off("scroll.searchpage")};var oe=function e(t,n,i){n=typeof n==="string"?n:"<none>";i=i||{};if((y[t]||D.indexOf(t)>=0)&&(n.trim().length>0||N.allow_empty_queries)){if(A){A=false}else{w.val(n)}N.search_type=t;if(_===null){_=(0,a.default)(y.application_id,y.readonly_api_key)}if(!b[t]){b[t]=_.initIndex(y["problems"].index_name)}k.addClass("loading").removeClass("loaded");if(D.indexOf(t)>=0){i.facetFilters.push("document_type:"+t)}b[t].search(n,i,R)}else{re()}};var se=function e(t){t=t||w.val();var n=[],a={facets:"*",facetFilters:[],attributesToHighlight:[]};if(N.page&&N.page>0&&N.use_page===true){N.use_page=false;a.page=N.page}else{N.page=0}if(N.search_type==="problems"){var i;if(N.levels==="hard"){i="rating>1800"}else if(N.levels==="medium"){i="(rating:1400 to 1800, rating<0)"}else{i="rating:0 to 1400"}a.numericFilters=i;n.push("levels-"+N.levels)}else if(N.search_type==="wikis"&&!O.isPrivilegedUser){a.numericFilters="quality_score>="+N.wiki_quality_threshold}if(N.topics.length>0&&["problems","quizzes"].indexOf(N.search_type)>=0){a.facetFilters.push("topic_name:"+N.topics);n.push("topic-"+$(N.topics,true))}N._filters=n;o.default.set("search_options",N);oe(N.search_type,t,a)};g.controller=function(){w=(0,u.jqGetElemById)("site-search-input");C=(0,u.jqGetElemById)("site-search-results");I=(0,u.jqGetElemById)("site-search-custom-result");if(w.length>0&&C.length>0){k=w.parent();O=(0,i.default)("#site-search-data").data();O.isPrivilegedUser=O.isPrivilegedUser===true;y=O.settings;P=O.user;B();if(w.val().length>0){var e=o.default.get("search_options")||null;if(e!==null&&e.version&&e.version===N.version){N=e}se(unescape(w.val()))}}};e.exports=g},486:function(e,t,n){"use strict";var a=c(n(1));var i=c(n(9));var r=n(3);var o=n(11);var s=n(12);var l=n(18);function c(e){return e&&e.__esModule?e:{default:e}}var u={};u.bdayExpl=function(e){var t;if(r.isMobile){t="left"}else if(e.parents(".public-signup-modal").length){t="bottom"}else{t="right"}var n={show:false,trigger:"manual",placement:t};if(r.isMobile&&e.hasClass("email-expl")){n.template='<div class="tooltip" id="email-expl-tooltip">'+'<div class="tooltip-arrow"></div>'+'<div class="tooltip-inner"></div>'+"</div>"}e.tooltip(n);var a=i.default.throttle((function(){e.tooltip("toggle");e.toggleClass("active")}),200);e.on("click",(function(e){e.preventDefault();e.stopPropagation();a()}));r.$body.on("click",(function(){if(e.hasClass("active")){e.click()}}))};u.showPassword=function(e){var t=e.data("field"),n=e.parentsUntil("form").parent().find(t),a=false;e.on("click",(function(){a=!a;e.toggleClass("active",a);n.attr("type",a?"text":"password")}))};u.signUpModal=function(e){var t=[n.e(117).then(n.t.bind(null,1294,7))];if(r.isMobile){t.push(n.e(115).then(n.t.bind(null,1295,7)))}else{t.push(n.e(112).then(n.t.bind(null,1296,7)))}Promise.all(t).then((function(){return d(e)}))};function d(e){e.parent(".modal-bg").on("click",(function(){e.parents(".solv-public-form").removeClass("open");(0,a.default)(".btn-mcq.dim").removeClass("dim")}));e.on("click",(function(e){e.stopPropagation()}));var t=e.find("#position-dots").find(".position-dot");var n=e.find("#prev-position-dot");var r=e.find("#next-position-dot");var c=e.find("#slides").find(".slide");var u=1;var d=c.length;var f=u;var p="active";var v="disabled";var h=function e(a){c.removeClass(p);c.filter('[data-position="'.concat(f,'"]')).addClass(p);t.removeClass(p);if(a){a.addClass(p)}else{t.filter('[data-position="'.concat(f,'"]')).addClass(p)}n.removeClass(v);r.removeClass(v);if(f===d){r.addClass(v)}else if(f===u){n.addClass(v)}(0,o.track)("ui",{action:"viewed_prenux_slide",step_position:f,is_first_step:f===u,is_last_step:f===d,triggered_by:s.INTERACTION_TYPES[a?"STATUS_DOT":"PREV_NEXT_BUTTON"]})};t.on("click",(function(e){var t=(0,a.default)(this);var n=t.data("position");e.preventDefault();if(n!=f){f=n;h(t)}}));n.on("click",(function(e){e.preventDefault();if(!(0,a.default)(this).hasClass(v)){f--;h()}}));r.on("click",(function(e){e.preventDefault();if(!(0,a.default)(this).hasClass(v)){f++;h()}}));var m=e.find(".public-signup-right");if(e.data("show-form")){var g=e.find("#signup-email");var y=e.find("#signup-form-container");var _=e.find("#problem-login-link");var b=e.find("#login-form-container");var w="show-form";var k=g.data();var C=y.data();var x=false;var E=_.data();var I=b.data();var T=false;g.on("click",(function(t){t.preventDefault();var n="input#id_email";if(x){m.addClass(w);e.addClass(w);m.find(n).focus()}else{var r=i.default.extend({page_key:C.pageKey},k);a.default.get(C.url,r).then((function(t){x=true;y.html(t["actions"]["homepage_signup_form"]["new_html"]);(0,l.initGenericControllers)(y);m.addClass(w);e.addClass(w);m.find(n).focus();var i=m.find("#id_birthday_month");var r=m.find("#id_birthday_day");var o=m.find("#id_birthday_year");i.prepend((0,a.default)('<option value="">Birth month</option>'));r.prepend((0,a.default)('<option value="">Day</option>'));o.prepend((0,a.default)('<option value="">Year</option>'));i[0].selectedIndex=0;r[0].selectedIndex=0;o[0].selectedIndex=0})).fail((function(e){window.location.href=g.attr("href")}))}}));_.on("click",(function(t){t.preventDefault();var n="input#id_login";if(T){m.addClass(w);e.addClass(w);m.find(n).focus()}else{var r=i.default.extend({page_key:I.pageKey},E);a.default.get(I.url,r).then((function(t){T=true;b.html(t["actions"]["homepage_login_form"]["new_html"]);(0,l.initGenericControllers)(b);m.addClass(w);e.addClass(w);m.find(n).focus()})).fail((function(e){window.location.href=_.attr("href")}))}}))}var O=e.find("#problem-signup-link-alternative");var S=e.find("#problem-login-link-alternative");var j="show-signup";var q="show-login";O.on("click",(function(t){t.preventDefault();m.removeClass(w+" "+q).addClass(j);e.removeClass(w)}));S.on("click",(function(t){t.preventDefault();m.removeClass(w+" "+j).addClass(q);e.removeClass(w)}))}e.exports=u},487:function(e,t,n){"use strict";var a=function e(t){t=t||false;var n=[1e3,1045,1080,1143,1166,1227,1288,1283,1299,1338,1342,1319,1343,1350,1382,1480,1510,1480,1460,1556,1548,1605,1592,1650,1684,1736,1807,1863,1848,1941,1935,1995,1965,1957,1998,2052,2098,2164];var a=[];var i=(new Date).getTime();var r=new Date(i);var o=1e3;var s=2200;var l=s;var c=1e3*60*60*24;var u=c*365;var d=function e(t,n){return~~(Math.random()*(n-t+1))+t};function f(e){r=new Date(r.getTime()-d(1,e)*c)}function p(e){r=new Date(r.getTime()-e*c)}function v(e){l-=d(1,100)-d(1,100-e)}if(t){while(true){if(i-r.getTime()>u||l===o){break}f(20);v(50);l=Math.max(l,o);l=Math.min(l,s);a.unshift({date:r,rating:l})}}else{while(n.length){p(10);a.unshift({date:r,rating:n.pop()})}}return a};e.exports={ratings_correct_incorrect_over_time:a()}},488:function(e,t,n){"use strict";var a=o(n(1));var i=o(n(9));var r=n(3);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return u(e)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function u(e){if(Array.isArray(e))return e}var d={};var f=[1e3,1250,1500,1750,2e3,2250];var p="1-year";function v(e){if(e<1250){return 1}else if(e<1500){return 2}else if(e<1750){return 3}else if(e<2e3){return 4}else{return 5}}var h=function(){if(!r.isBrilliantPremium){return i.default.noop}var e="tooltipped",t=function t(){(0,a.default)(this).addClass(e)},n=function t(){(0,a.default)(this).removeClass(e)};if(r.isMobile){return function(e){var a;e.on("click",(function(){var e=this;if(e===a){return}t.call(e);a=e;i.default.defer((function(){r.$body.one("click",(function(){n.call(e);a=null}))}))}))}}else{return function(e){e.on("mouseenter",t).on("mouseleave",n)}}}();var m=function(){var e=1e3*60*60*24;return function(t){return t*e}}();var g=function e(t){if(p==="1-year"){return t}var n=new Date(t[t.length-1].date);if(p==="1-week"){var a=n.getTime()-m(7)}else if(p==="3-months"){var a=n.getTime()-m(90)}return t.filter((function(e){return new Date(e.date).getTime()>=a}))};var y=function e(t,n,a){var r=n.find("#canvas-graph");var o=a.ratings_correct_incorrect_over_time;var s=0;o=g(o);if(o.length===1){var l=(new Date).getTime();var c;switch(p){case"1-year":c=l-m(365);break;case"3-months":c=l-m(90);break;case"1-week":c=l-m(7)}o.push({date:l,rating:o[0].rating,artificial:true});o[0].date=c}var u=""+'<div class="stat-tooltip dropup tipsy" style="top:<%= top %>;left:<%= left %>">'+'<div class="dropdown-menu">'+'<span class="arrow"></span>'+"<p><strong><%= dateFormatted %></strong></p>"+"<p>Level <%= level %></p>"+"</div>"+"</div>";var d={width:r.width(),height:r.height(),gutter:parseInt(r.css("left")),dateFormatFull:t.timeFormat("%b. %e, %Y"),nodeTemplate:i.default.template(u)};d.scaleX=t.scaleTime().domain([new Date(o[0].date),new Date(o[o.length-1].date)]).range([0,d.width-s]);d.scaleY=function(){var e=i.default.pluck(o,"rating");var n=f.slice();var a=i.default.min(e);var r=i.default.max(e);var s=n[0];var l=n[n.length-1];if(a<s){s=a;n[0]=s}if(r>l){l=r;n[n.length-1]=l}d.ratingMilestones=n;return t.scaleLinear().domain([s,l]).range([d.height,0])}();d.ratings_over_time=o;return d};var _=function e(t,n){var a={};var o=n.ratings_over_time.length;var s={};function l(e){if(!s[e]){s[e]=~~n.scaleX(new Date(e))}return s[e]}t.select("#canvas-graph").selectAll("div.node").data(n.ratings_over_time).enter().append("div").classed("node",true).classed("left",(function(e){return n.width/2-n.scaleX(new Date(e.date))>0})).style("left",(function(e,t){if(t===0){a[t]=0}else{var i=l(n.ratings_over_time[t-1].date);var r=l(e.date);a[t]=~~((r+i)/2)}return a[t]+"px"})).style("width",(function(e,t){if(t===o-1){return n.width-a[t]+"px"}var i=l(n.ratings_over_time[t+1].date);var r=l(e.date);return~~((r+i)/2)-a[t]+"px"})).html((function(e,t){var r;for(var o=0;o<n.ratingMilestones.length;o++){if(e.rating<=n.ratingMilestones[o]){r=o;break}}return n.nodeTemplate(i.default.extend(e,{top:~~n.scaleY(e.rating)+"px",left:l(e.date)-a[t]+"px",dateFormatted:n.dateFormatFull(new Date(e.date)),level:r}))}));h((0,r.jqGetElemById)("canvas-graph").find("div.node"))};var b=function e(t,n){var a=t.line().x((function(e){return n.scaleX(new Date(e.date))})).y((function(e){return n.scaleY(e.rating)})).curve(t.curveBasis);t.select("#canvas-lines").append("path").attr("d",a(n.ratings_over_time)).classed("artificial",(function(){return n.ratings_over_time[1].artificial===true}))};var w=function e(t,n){var a=n.ratings_over_time.slice();var r=i.default.extend({},a[0]);r.rating=0;var o=i.default.extend({},a[a.length-1]);o.rating=0;a.unshift(r);a.push(o);var s=t.line().x((function(e){return n.scaleX(new Date(e.date))})).y((function(e){return n.scaleY(e.rating)})).curve(t.curveLinear);var l=t.select("#canvas-area");var c=l.append("svg:defs").append("svg:linearGradient").attr("id","area-gradient").attr("x1","100%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("spreadMethod","pad");c.append("svg:stop").attr("offset","0%").attr("stop-color","#F7F7F7").attr("stop-opacity",0);c.append("svg:stop").attr("offset","100%").attr("stop-color","#F7F7F7").attr("stop-opacity",1);l.append("path").attr("d",s(a)).attr("fill","url(#area-gradient)")};var k=function e(t,n){var a=n.ratingMilestones.slice(1,n.ratingMilestones.length-1);var i=t.select("#canvas-legend");i.selectAll("div.y-item").data(a).enter().append("div").classed("y-item",true).style("top",(function(e){return n.scaleY(e)+"px"})).text((function(e){return"Level "+v(e)}));var o;var s;var l;switch(p){case"1-year":s=t.timeFormat("%b");l=n.scaleX.ticks(t.timeMonth,1);break;case"3-months":s=t.timeFormat("%b");l=n.scaleX.ticks(t.timeMonth,1);break;case"1-week":s=t.timeFormat("%b %e");l=n.scaleX.ticks(t.timeDay,1);break}i.selectAll("div.x-item").data(l).enter().append("div").classed("x-item",true).style("left",(function(e){return"".concat(n.scaleX(e),"px")})).text((function(e,t){var n=s(e);if(r.isMobile&&p==="1-year"){return t%2===0?"":n}return n}))};function C(e,t){var n=(0,r.jqGetElemById)("stat-btn-filters").find(".btn");n.on("click",(function(e){var t=(0,a.default)(e.currentTarget);if(!t.hasClass("active")){n.removeClass("active");t.addClass("active");p=t.data("value");d.clean();d.render()}}))}d.render=function(){var e=null,t=null;d.clean=function(){if(e){e.find(".cleanable").each((function(){(0,a.default)(this).empty()}))}};return function(a,o){var l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var c=l===true;e=e||a;if(c){t=o}else{t=t||o}Promise.all([Promise.all([n.e(7),n.e(11)]).then(n.bind(null,720)),Promise.all([n.e(7),n.e(11)]).then(n.bind(null,718)),Promise.all([n.e(7),n.e(11)]).then(n.bind(null,1287)),Promise.all([n.e(7),n.e(11)]).then(n.bind(null,1288)),Promise.all([n.e(7),n.e(11)]).then(n.bind(null,1286))]).then((function(n){var a=s(n,5),o=a[0].select,l=a[1],c=l.scaleLinear,u=l.scaleTime,d=a[2],f=d.timeMonth,p=d.timeDay,v=a[3].timeFormat,h=a[4],m=h.line,g=h.curveBasis,x=h.curveLinear;var E={select:o,scaleLinear:c,scaleTime:u,timeMonth:f,timeDay:p,timeFormat:v,line:m,curveBasis:g,curveLinear:x};var I=y(E,e,i.default.extend({},t));if(t.ignore!==true){_(E,I);b(E,I);w(E,I);k(E,I);C(E,I);e.find(".spinner").hide();(0,r.jqGetElemById)("percentile-text").text(t.percentile)}}))}}();e.exports=d},489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.surveyModalController=s;var a=o(n(989));var i=r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function s(e){var t=document.querySelector(".survey-modal");if(t){var n=t.querySelector(".survey-target");var r=t.querySelector(".survey-url");if(n&&r){a.makeWidget(n,r.innerText,{buttonText:"Take the survey!"})}}var o=e.data();e.modal({show:false});var s=true;if(o.trigger){(0,i.default)(o.trigger).on("click",(function(t){t.preventDefault();e.modal("show")}));s=o.autoshow===true}if(s){e.modal("show")}}},490:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=i;var a=n(137);function i(e){return(0,a.uploadController)(e)}},53:function(e,t,n){"use strict";function a(e){if(e){if(e.substring){var t=e.split(".");try{this.major=parseInt(t[0],10)}catch(e){this.major=0}try{this.minor=parseInt(t[1],10)}catch(e){this.minor=0}try{this.patch=parseInt(t[2],10)}catch(e){this.patch=0}}else if(e.toFixed){this.major=e}}}a.prototype.major=0;a.prototype.minor=0;a.prototype.patch=0;a.prototype.toString=function(){return this.major+"."+this.minor+"."+this.patch};a.prototype.compare=function(e){if(this.major==e.major){if(this.minor==e.minor){if(this.patch==e.patch){return 0}else{return this.patch>e.patch?1:-1}}else{return this.minor>e.minor?1:-1}}else{return this.major>e.major?1:-1}};a.prototype.isGreaterThanOrEqualTo=function(e){var t=new a(e);return this.compare(t)>=0};e.exports=a},54:function(e,t,n){"use strict";function a(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){a=function e(t){return typeof t}}else{a=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return a(e)}(function(){if(typeof window==="undefined"){return}var e={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function t(e){return e&&DataView.prototype.isPrototypeOf(e)}if(e.arrayBuffer){var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var a=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1}}function i(e){if(typeof e!=="string"){e=String(e)}if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e)){throw new TypeError("Invalid character in header field name")}return e.toLowerCase()}function r(e){if(typeof e!=="string"){e=String(e)}return e}function o(t){var n={next:function e(){var n=t.shift();return{done:n===undefined,value:n}}};if(e.iterable){n[Symbol.iterator]=function(){return n}}return n}function s(e){this.map={};if(e instanceof s){e.forEach((function(e,t){this.append(t,e)}),this)}else if(Array.isArray(e)){e.forEach((function(e){this.append(e[0],e[1])}),this)}else if(e){Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}}s.prototype.append=function(e,t){e=i(e);t=r(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};s.prototype["delete"]=function(e){delete this.map[i(e)]};s.prototype.get=function(e){e=i(e);return this.has(e)?this.map[e]:null};s.prototype.has=function(e){return this.map.hasOwnProperty(i(e))};s.prototype.set=function(e,t){this.map[i(e)]=r(t)};s.prototype.forEach=function(e,t){for(var n in this.map){if(this.map.hasOwnProperty(n)){e.call(t,this.map[n],n,this)}}};s.prototype.keys=function(){var e=[];this.forEach((function(t,n){e.push(n)}));return o(e)};s.prototype.values=function(){var e=[];this.forEach((function(t){e.push(t)}));return o(e)};s.prototype.entries=function(){var e=[];this.forEach((function(t,n){e.push([n,t])}));return o(e)};if(e.iterable){s.prototype[Symbol.iterator]=s.prototype.entries}function l(e){if(e.bodyUsed){return Promise.reject(new TypeError("Already read"))}e.bodyUsed=true}function c(e){return new Promise((function(t,n){e.onload=function(){t(e.result)};e.onerror=function(){n(e.error)}}))}function u(e){var t=new FileReader;var n=c(t);t.readAsArrayBuffer(e);return n}function d(e){var t=new FileReader;var n=c(t);t.readAsText(e);return n}function f(e){var t=new Uint8Array(e);var n=new Array(t.length);for(var a=0;a<t.length;a++){n[a]=String.fromCharCode(t[a])}return n.join("")}function p(e){if(e.slice){return e.slice(0)}else{var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}}function v(){this.bodyUsed=false;this._initBody=function(n){this._bodyInit=n;if(!n){this._bodyText=""}else if(typeof n==="string"){this._bodyText=n}else if(e.blob&&Blob.prototype.isPrototypeOf(n)){this._bodyBlob=n}else if(e.formData&&FormData.prototype.isPrototypeOf(n)){this._bodyFormData=n}else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)){this._bodyText=n.toString()}else if(e.arrayBuffer&&e.blob&&t(n)){this._bodyArrayBuffer=p(n.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(e.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||a(n))){this._bodyArrayBuffer=p(n)}else{this._bodyText=n=Object.prototype.toString.call(n)}if(!this.headers.get("content-type")){if(typeof n==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(e.blob){this.blob=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return l(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(u)}}}this.text=function(){var e=l(this);if(e){return e}if(this._bodyBlob){return d(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(f(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(e.formData){this.formData=function(){return this.text().then(y)}}this.json=function(){return this.text().then(JSON.parse)};return this}var h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return h.indexOf(t)>-1?t:e}function g(e,t){t=t||{};var n=t.body;if(e instanceof g){if(e.bodyUsed){throw new TypeError("Already read")}this.url=e.url;this.credentials=e.credentials;if(!t.headers){this.headers=new s(e.headers)}this.method=e.method;this.mode=e.mode;this.signal=e.signal;if(!n&&e._bodyInit!=null){n=e._bodyInit;e.bodyUsed=true}}else{this.url=String(e)}this.credentials=t.credentials||this.credentials||"same-origin";if(t.headers||!this.headers){this.headers=new s(t.headers)}this.method=m(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.signal=t.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&n){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(n)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})};function y(e){var t=new FormData;e.trim().split("&").forEach((function(e){if(e){var n=e.split("=");var a=n.shift().replace(/\+/g," ");var i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}}));return t}function _(e){var t=new s;var n=e.replace(/\r?\n[\t ]+/g," ");n.split(/\r?\n/).forEach((function(e){var n=e.split(":");var a=n.shift().trim();if(a){var i=n.join(":").trim();t.append(a,i)}}));return t}v.call(g.prototype);function b(e,t){if(!t){t={}}this.type="default";this.status=t.status===undefined?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new s(t.headers);this.url=t.url||"";this._initBody(e)}v.call(b.prototype);b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})};b.error=function(){var e=new b(null,{status:0,statusText:""});e.type="error";return e};var w=[301,302,303,307,308];b.redirect=function(e,t){if(w.indexOf(t)===-1){throw new RangeError("Invalid status code")}return new b(null,{status:t,headers:{location:e}})};self.DOMException=self.DOMException;try{new self.DOMException}catch(e){self.DOMException=function(e,t){this.message=e;this.name=t;var n=Error(e);this.stack=n.stack};self.DOMException.prototype=Object.create(Error.prototype);self.DOMException.prototype.constructor=self.DOMException}function k(t,n){return new Promise((function(a,i){var r=new g(t,n);if(r.signal&&r.signal.aborted){return i(new self.DOMException("Aborted","AbortError"))}var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:_(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;a(new b(t,e))};o.onerror=function(){i(new TypeError("Network request failed"))};o.ontimeout=function(){i(new TypeError("Network request failed"))};o.onabort=function(){i(new self.DOMException("Aborted","AbortError"))};o.open(r.method,r.url,true);if(r.credentials==="include"){o.withCredentials=true}else if(r.credentials==="omit"){o.withCredentials=false}if("responseType"in o&&e.blob){o.responseType="blob"}r.headers.forEach((function(e,t){o.setRequestHeader(t,e)}));if(r.signal){r.signal.addEventListener("abort",s);o.onreadystatechange=function(){if(o.readyState===4){r.signal.removeEventListener("abort",s)}}}o.send(typeof r._bodyInit==="undefined"?null:r._bodyInit)}))}k.polyfill=true;if(!self.fetch){self.fetch=k;self.Headers=s;self.Request=g;self.Response=b}})();(function(e){var t=false;var n=null;var i=null;var r=null;var o=true;if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function e(t,n){if(t==null){throw new TypeError("Cannot convert undefined or null to object")}var a=Object(t);for(var i=1;i<arguments.length;i++){var r=arguments[i];if(r!=null){for(var o in r){if(Object.prototype.hasOwnProperty.call(r,o)){a[o]=r[o]}}}}return a},writable:true,configurable:true})}if(!Object.keys){Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if(typeof r!=="function"&&(a(r)!=="object"||r===null)){throw new TypeError("Object.keys called on non-object")}var o=[],s,l;for(s in r){if(e.call(r,s)){o.push(s)}}if(t){for(l=0;l<i;l++){if(e.call(r,n[l])){o.push(n[l])}}}return o}}()}if(!Array.prototype.indexOf)Array.prototype.indexOf=function(e,t,n){"use strict";return function a(i,r){if(this===null||this===undefined)throw TypeError("Array.prototype.indexOf called on null or undefined");var o=e(this),s=o.length>>>0,l=n(r|0,s);if(l<0)l=t(0,s+l);else if(l>=s)return-1;if(i===void 0){for(;l!==s;++l){if(o[l]===void 0&&l in o)return l}}else if(i!==i){for(;l!==s;++l){if(o[l]!==o[l])return l}}else for(;l!==s;++l){if(o[l]===i)return l}return-1}}(Object,Math.max,Math.min);var s,l,c;s=function e(t,n){var a=[];for(var i=0;i<t.length;i++){if(n.indexOf(t[i])===-1){a.push(t[i])}}return a};l={assertObject:function e(t,n,i){if(a(i)!=="object"){var r=n+" should be of type object but you provided type "+a(i)+" with value "+JSON.stringify(i);return[{tag:"expectedObjectType",propertyId:t,message:r,actualType:a(i)}]}else{return[]}},assertString:function e(t,n,i){if(typeof i!=="string"){var r=n+" should be of type string but you provided type "+a(i)+" with value "+JSON.stringify(i);return[{tag:"expectedStringType",propertyId:t,message:r,actualType:a(i)}]}else{return[]}},assertInt:function e(t,n,i){if(typeof i==="number"&&i!==Math.round(i)){var r=n+" should be of type int but you provided type float with value "+JSON.stringify(i);return[{tag:"expectedIntType",propertyId:t,actualType:"float"}]}else if(typeof i!=="number"){var r=n+" should be of type int but you provided type "+a(i)+" with value "+JSON.stringify(i);return[{tag:"expectedIntType",propertyId:t,message:r,actualType:a(i)}]}else{return[]}},assertLong:function e(t,n,i){if(typeof i==="number"&&i!==Math.round(i)){var r=n+" should be of type long but you provided type float with value "+JSON.stringify(i);return[{tag:"expectedLongType",propertyId:t,actualType:"float"}]}else if(typeof i!=="number"){var r=n+" should be of type long but you provided type "+a(i)+" with value "+JSON.stringify(i);return[{tag:"expectedLongType",propertyId:t,message:r,actualType:a(i)}]}else{return[]}},assertFloat:function e(t,n,i){if(typeof i!=="number"){var r=n+" should be of type float but you provided type "+a(i)+" with value "+JSON.stringify(i);return[{tag:"expectedFloatType",propertyId:t,message:r,actualType:a(i)}]}else{return[]}},assertBool:function e(t,n,i){if(typeof i!=="boolean"){var r=n+" should be of type boolean but you provided type "+a(i)+" with value "+JSON.stringify(i);return[{tag:"expectedBoolType",propertyId:t,message:r,actualType:a(i)}]}else{return[]}},assertMax:function e(t,n,a,i){if(i>a){var r=n+" has a maximum value of "+a+" but you provided the value "+JSON.stringify(i);return[{tag:"expectedMax",propertyId:t,message:r}]}else{return[]}},assertMin:function e(t,n,a,i){if(i<a){var r=n+" has a minimum value of "+a+" but you provided the value "+JSON.stringify(i);return[{tag:"expectedMin",propertyId:t,message:r}]}else{return[]}},assertList:function e(t,n,i){if(!Array.isArray(i)){var r=n+" should be of type list but you provided type "+a(i);return[{tag:"expectedList",propertyId:t,message:r,actualType:a(i)}]}else{return[]}},assertNoAdditionalProperties:function e(t,n,a){var i=s(n,a);if(i.length){var r="Additional properties when sending event "+t+": "+JSON.stringify(i);return[{tag:"expectedNoAdditionalProperties",additionalProperties:i,message:r}]}else{return[]}},assertNoAdditionalUserProperties:function e(t,n,a){var i=s(n,a);if(i.length){var r="Additional user properties when sending event "+t+": "+JSON.stringify(i);return[{tag:"expectedNoAdditionalUserProperties",additionalProperties:i,message:r}]}else{return[]}}};c={logEventSent:function e(t,n,a){console.log("[avo] Event Sent:",t,"Event Props:",n,"User Props:",a)}};var u,d;var f=1;function p(e){}u=function e(t,n,a,i,r){p({ac:"TFpUfzruDULHB5seSGy1",br:"master",en:t,ev:n,ha:a,sc:"vwFXzvEVl7YL9ZHhbVJY",se:(new Date).toISOString(),so:"5_qZ4zTyK",va:i.length===0,me:i,or:r})};d=function e(t,n,a,i){p({ac:"TFpUfzruDULHB5seSGy1",br:"master",en:t,ty:n,sc:"vwFXzvEVl7YL9ZHhbVJY",se:(new Date).toISOString(),so:"5_qZ4zTyK",va:a.length===0,me:a,or:i})};var v;var h=[];var m=false;v=function e(t,n,a,i,r){};function g(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertInt("1QCQCkw4Ph",t?"quiz_position_clicked"+": "+t:"quiz_position_clicked",e))}return n}function y(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertInt("5vn6k8qMwf",t?"course_clicked"+": "+t:"course_clicked",e))}return n}function _(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertInt("6e-cDrq3PM",t?"query_id"+": "+t:"query_id",e))}return n}function b(e,t){var n=[];n=n.concat(l.assertInt("7_QxEWZea-",t?"hits"+": "+t:"hits",e));return n}function w(e,t){var n=[];n=n.concat(l.assertString("BndLouvVWt",t?"filters"+": "+t:"filters",e));return n}function k(e,t){var n=[];n=n.concat(l.assertString("CYWqMDO7TU",t?"query"+": "+t:"query",e));return n}function C(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("H3iRyDVVUt",t?"search_result_type"+": "+t:"search_result_type",e))}return n}function x(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertInt("H9MrZZ7TKo",t?"quiz_clicked"+": "+t:"quiz_clicked",e))}return n}function E(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("Ig_YDgwAeo",t?"click_action"+": "+t:"click_action",e))}return n}function I(e,t){var n=[];n=n.concat(l.assertString("Ougio4Hgqc",t?"path"+": "+t:"path",e));return n}function T(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertBool("RKjFsLS2I9",t?"is_course_search"+": "+t:"is_course_search",e))}return n}function O(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertString("T0lyCWVfDN",t?"custom_search_card_type"+": "+t:"custom_search_card_type",e))}return n}function S(e,t){var n=[];n=n.concat(l.assertString("ZZHdQbQnrh",t?"search_type"+": "+t:"search_type",e));return n}function j(e,t){var n=[];n=n.concat(l.assertInt("_EoHIjL2Uw",t?"page"+": "+t:"page",e));return n}function q(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertBool("haZfTd8G3u",t?"from_suggested_search"+": "+t:"from_suggested_search",e))}return n}function P(e,t){var n=[];n=n.concat(l.assertBool("oWTfBx2nOY",t?"is_android"+": "+t:"is_android",e));return n}function A(e,t){var n=[];n=n.concat(l.assertInt("tCe7MdWHMi",t?"pages"+": "+t:"pages",e));return n}function D(e,t){var n=[];if(e!==undefined&&e!==null){n=n.concat(l.assertInt("zRASu4V1KP",t?"course_position_clicked"+": "+t:"course_position_clicked",e))}return n}var N;function M(e,a,i,r){o=false;if(e.validateProperties===true){t=true}r=r||{};if(e.useProductionKey){}else{}N=i;N.make(e.useProductionKey);if(t){d(n,"setup",[],"setup")}}function z(e,a,s,l){if(n!==null){return}n=e.env.toLowerCase();if(e.strict!==undefined){r=e.strict!==false}if(e.reportFailureAs!==undefined){i=e.reportFailureAs}o=typeof window!=="undefined"&&window.location.search.indexOf("avo_debug=1")>-1||e.webDebugger!==false&&n!=="prod";if(n!=="prod"){t=true}s=s||{};if(o){(function(){if(typeof window==="undefined"){return}var e=function e(){};if(document.body){e()}else{document.addEventListener("DOMContentLoaded",e)}})()}if(n==="prod"){}if(n==="dev"){}N=l;N.make(n);if(t){d(n,"init",[],"init")}}function L(e){e=e||{};if(t||o){var a=[];a=a.concat(S(e.searchType));a=a.concat(k(e.query));a=a.concat(w(e.filters));a=a.concat(j(e.page));a=a.concat(A(e.pages));a=a.concat(I(e.path));a=a.concat(P(e.isAndroid));a=a.concat(O(e.customSearchCardType));a=a.concat(C(e.searchResultType));a=a.concat(T(e.isCourseSearch));a=a.concat(q(e.fromSuggestedSearch));a=a.concat(E(e.clickAction));a=a.concat(y(e.courseClicked));a=a.concat(x(e.quizClicked));a=a.concat(_(e.queryId));a=a.concat(D(e.coursePositionClicked));a=a.concat(g(e.quizPositionClicked));a=a.concat(b(e.hits));a=a.concat(l.assertNoAdditionalProperties("search_result",Object.keys(e),["searchType","query","filters","page","pages","path","isAndroid","customSearchCardType","searchResultType","isCourseSearch","fromSuggestedSearch","clickAction","courseClicked","quizClicked","queryId","coursePositionClicked","quizPositionClicked","hits"]));u(n,"ScWrQ9ytR","6100dc642388bdeb538b282c873b3ae813649dfc10d30db49aa360ea91e5bfec",a.map((function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})})),"event");c.logEventSent("search_result",{search_type:e.searchType,query:e.query,filters:e.filters,page:e.page,pages:e.pages,path:e.path,is_android:e.isAndroid,custom_search_card_type:e.customSearchCardType,search_result_type:e.searchResultType,is_course_search:e.isCourseSearch,from_suggested_search:e.fromSuggestedSearch,click_action:e.clickAction,course_clicked:e.courseClicked,quiz_clicked:e.quizClicked,query_id:e.queryId,course_position_clicked:e.coursePositionClicked,quiz_position_clicked:e.quizPositionClicked,hits:e.hits},{});if(o){v("ScWrQ9ytR","search_result",a,[{id:"1QCQCkw4Ph",name:"quiz_position_clicked",value:e.quizPositionClicked},{id:"5vn6k8qMwf",name:"course_clicked",value:e.courseClicked},{id:"6e-cDrq3PM",name:"query_id",value:e.queryId},{id:"7_QxEWZea-",name:"hits",value:e.hits},{id:"BndLouvVWt",name:"filters",value:e.filters},{id:"CYWqMDO7TU",name:"query",value:e.query},{id:"H3iRyDVVUt",name:"search_result_type",value:e.searchResultType},{id:"H9MrZZ7TKo",name:"quiz_clicked",value:e.quizClicked},{id:"Ig_YDgwAeo",name:"click_action",value:e.clickAction},{id:"Ougio4Hgqc",name:"path",value:e.path},{id:"RKjFsLS2I9",name:"is_course_search",value:e.isCourseSearch},{id:"T0lyCWVfDN",name:"custom_search_card_type",value:e.customSearchCardType},{id:"ZZHdQbQnrh",name:"search_type",value:e.searchType},{id:"_EoHIjL2Uw",name:"page",value:e.page},{id:"haZfTd8G3u",name:"from_suggested_search",value:e.fromSuggestedSearch},{id:"oWTfBx2nOY",name:"is_android",value:e.isAndroid},{id:"tCe7MdWHMi",name:"pages",value:e.pages},{id:"zRASu4V1KP",name:"course_position_clicked",value:e.coursePositionClicked}],[])}if(t&&(r===null||r)){if(a.length!==0){throw new Error("Error sending event 'search_result': "+a[0].message)}}else{a.forEach((function(e){console[i||"error"]("[avo] "+e.message)}))}}N.logEvent("search_result",{search_type:e.searchType,query:e.query,filters:e.filters,page:e.page,pages:e.pages,path:e.path,is_android:e.isAndroid,custom_search_card_type:e.customSearchCardType,search_result_type:e.searchResultType,is_course_search:e.isCourseSearch,from_suggested_search:e.fromSuggestedSearch,click_action:e.clickAction,course_clicked:e.courseClicked,quiz_clicked:e.quizClicked,query_id:e.queryId,course_position_clicked:e.coursePositionClicked,quiz_position_clicked:e.quizPositionClicked,hits:e.hits})}function $(e){var t=null;var i=null;var r=null;var o=typeof n!=="undefined"&&n!==null?n:e.env;i=typeof window!=="undefined"&&window.location.search.indexOf("avo_debug=1")>-1||e.webDebugger!==false&&o!=="prod";if(i){(function(){if(typeof window==="undefined"){return}var e=function e(){};if(document.body){e()}else{document.addEventListener("DOMContentLoaded",e)}})()}if(e.strict!==undefined){t=e.strict!==false}if(e.reportFailureAs!==undefined){r=e.reportFailureAs}var s=e.eventName;var c=e.eventProperties||e.properties||{};var f=e.userProperties||{};var p=[];switch(s){case"search_result":p=p.concat(S(c["search_type"]));p=p.concat(k(c["query"]));p=p.concat(w(c["filters"]));p=p.concat(j(c["page"]));p=p.concat(A(c["pages"]));p=p.concat(I(c["path"]));p=p.concat(P(c["is_android"]));p=p.concat(O(c["custom_search_card_type"]));p=p.concat(C(c["search_result_type"]));p=p.concat(T(c["is_course_search"]));p=p.concat(q(c["from_suggested_search"]));p=p.concat(E(c["click_action"]));p=p.concat(y(c["course_clicked"]));p=p.concat(x(c["quiz_clicked"]));p=p.concat(_(c["query_id"]));p=p.concat(D(c["course_position_clicked"]));p=p.concat(g(c["quiz_position_clicked"]));p=p.concat(b(c["hits"]));p=p.concat(l.assertNoAdditionalProperties("search_result",Object.keys(c),["search_type","query","filters","page","pages","path","is_android","custom_search_card_type","search_result_type","is_course_search","from_suggested_search","click_action","course_clicked","quiz_clicked","query_id","course_position_clicked","quiz_position_clicked","hits"]));u(o,"ScWrQ9ytR","6100dc642388bdeb538b282c873b3ae813649dfc10d30db49aa360ea91e5bfec",p.map((function(e){return Object.assign({},{tag:e.tag,propertyId:e.propertyId,additionalProperties:e.additionalProperties,actualType:e.actualType})})),"validate");if(i){v("ScWrQ9ytR","search_result",p,[{id:"search_type",name:"search_type",value:c["search_type"]},{id:"query",name:"query",value:c["query"]},{id:"filters",name:"filters",value:c["filters"]},{id:"page",name:"page",value:c["page"]},{id:"pages",name:"pages",value:c["pages"]},{id:"path",name:"path",value:c["path"]},{id:"is_android",name:"is_android",value:c["is_android"]},{id:"custom_search_card_type",name:"custom_search_card_type",value:c["custom_search_card_type"]},{id:"search_result_type",name:"search_result_type",value:c["search_result_type"]},{id:"is_course_search",name:"is_course_search",value:c["is_course_search"]},{id:"from_suggested_search",name:"from_suggested_search",value:c["from_suggested_search"]},{id:"click_action",name:"click_action",value:c["click_action"]},{id:"course_clicked",name:"course_clicked",value:c["course_clicked"]},{id:"quiz_clicked",name:"quiz_clicked",value:c["quiz_clicked"]},{id:"query_id",name:"query_id",value:c["query_id"]},{id:"course_position_clicked",name:"course_position_clicked",value:c["course_position_clicked"]},{id:"quiz_position_clicked",name:"quiz_position_clicked",value:c["quiz_position_clicked"]},{id:"hits",name:"hits",value:c["hits"]}],[])}if(o!=="prod"&&(t===null||t)){if(p.length!==0){throw new Error("Error sending event 'search_result': "+p[0].message)}}else{p.forEach((function(e){console[r||"error"]("[avo] "+e.message)}))}break;default:p.push({tag:"unexpectedEvent",eventName:s,shape:Object.keys(c).map((function(e){return[e,a(c[e])]})).reduce((function(e,t){e[t[0]]=t[1];return e}),{}),shapeUserProps:Object.keys(f).map((function(e){return[e,a(f[e])]})).reduce((function(e,t){e[t[0]]=t[1];return e}),{})});d(o,"unexpectedEvent",p,"validate");if(i){v(s,s,p,Object.keys(c).map((function(e){return{id:e,name:e,value:c[e]}})),Object.keys(f).map((function(e){return{id:e,name:e,value:f[e]}})))}}}e.validateAvoEvent=$;e.searchResult=L;e.setup_=M;e.initAvo=z})(false?undefined:t)},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.load=p;t.add=m;t.addCmpsInContainer=g;var a=l(n(1));var i=l(n(9));var r=l(n(21));var o=n(3);var s=n(13);function l(e){return e&&e.__esModule?e:{default:e}}var c=/opera mini|series40/i;var u=[];var d=0;var f=false;function p(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=e.data();e.find(".js").addClass("spinner");(0,r.default)(n.cmp_page_key).get(n.cmp_url,Object.assign({param_key:n.cmp_param_key,deferred:true},t))}function v(){f=true;o.$window.on("scroll.deferred",i.default.throttle((function(){var e=u.length;var t=false;for(var n=0;n<e;n++){t=u[n];if(t!==false&&(0,s.isInViewport)(t)){p(t);u[n]=false;d--;if(d===0){f=false;o.$window.off("scroll.deferred")}}}}),16))}var h=i.default.once((function(){var e=a.default.fn.show;a.default.fn.show=function t(n,i){return(0,a.default)(this).each((function(t,r){var o=(0,a.default)(r);e.apply(o,[n,i]);o.find(".cmp-deferred").each((function(e,t){var n=(0,a.default)(t);if(n.is(":visible")){p(n)}}))}))}}));function m(e){if(c.test(navigator.userAgent)){p(e);return}if(e.is(":visible")){if((0,s.isInViewport)(e)){p(e)}else{u.push(e);d++;if(!f){v()}}}else{h()}}function g(e,t){var n=u.length;var a=n-d;var i=t;var r=false;for(a;a<n;a++){r=u[a];if(r!==false){if((0,s.isVisibleInContainer)(r,e)){p(r);u[a]=false;d--;i--;if(i===0){e.off("scroll.deferred")}}}}}},61:function(module,exports,__webpack_require__){"use strict";(function(process){var __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}(function e(t){if((false?undefined:_typeof(exports))==="object"){module.exports=t("1")}else if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return t("1")}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(function e(t,n,a){var i=function(){return this}();function r(e){if(n[e])return n[e].exports;if(t[e])return o(e,r);throw new Error('cannot find module "'+e+'"')}function o(i,r){var o=n[i]={exports:{}};var s=t[i];var l=s[2];var c=s[0];var u=true;try{c.call(o.exports,(function(e){var n=t[i][1][e];return r(n||e)}),o,o.exports,e,t,n,a);u=false}finally{if(u){delete n[i]}else if(l){n[l]=n[i]}}return n[i].exports}for(var s in a){if(a[s]){i[a[s]]=r(s)}else{r(s)}}r.duo=true;r.cache=n;r.modules=t;return r}({1:[function(e,t,n){var a=e("segmentio/analytics.js-core");var i=e("./integrations");var r=e("each");t.exports=n=a;a._require=e;n.VERSION=e("../bower.json").version;r(i,(function(e,t){a.use(t)}))},{"segmentio/analytics.js-core":2,"./integrations":3,each:4,"../bower.json":5}],2:[function(e,t,n){var a=e("./analytics");var i=t.exports=n=new a;i._require=e;n.VERSION=e("../bower.json").version},{"./analytics":6,"../bower.json":7}],6:[function(e,t,n){var a=window.analytics;var i=e("emitter");var r=e("facade");var o=e("after");var s=e("bind");var l=e("callback");var c=e("clone");var u=e("./cookie");var d=e("debug");var f=e("defaults");var p=e("each");var v=e("./group");var h=e("is");var m=e("is-meta");var g=e("object").keys;var y=e("./memory");var _=e("./normalize");var b=e("event").bind;var w=e("./pageDefaults");var k=e("pick");var C=e("prevent");var x=e("querystring");var E=e("object").length;var I=e("./store");var T=e("./user");var O=r.Alias;var S=r.Group;var j=r.Identify;var q=r.Page;var P=r.Track;n=t.exports=A;n.cookie=u;n.store=I;n.memory=y;function A(){this._options({});this.Integrations={};this._integrations={};this._readied=false;this._timeout=300;this._user=T;this.log=d("analytics.js");s.all(this);var e=this;this.on("initialize",(function(t,n){if(n.initialPageview)e.page();e._parseQuery()}))}i(A.prototype);A.prototype.use=function(e){e(this);return this};A.prototype.addIntegration=function(e){var t=e.prototype.name;if(!t)throw new TypeError("attempted to add an invalid integration");this.Integrations[t]=e;return this};A.prototype.init=A.prototype.initialize=function(e,t){e=e||{};t=t||{};this._options(t);this._readied=false;var n=this;p(e,(function(t){var a=n.Integrations[t];if(!a)delete e[t]}));p(e,(function(e,t){var a=n.Integrations[e];var i=new a(c(t));n.log("initialize %o - %o",e,t);n.add(i)}));var a=this._integrations;T.load();v.load();var i=o(E(a),(function(){n._readied=true;n.emit("ready")}));p(a,(function(e,a){if(t.initialPageview&&a.options.initialPageview===false){a.page=o(2,a.page)}a.analytics=n;a.once("ready",i);a.initialize()}));this.initialized=true;this.emit("initialize",e,t);return this};A.prototype.setAnonymousId=function(e){this.user().anonymousId(e);return this};A.prototype.add=function(e){this._integrations[e.name]=e;return this};A.prototype.identify=function(e,t,n,a){if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;if(h.object(e))n=t,t=e,e=T.id();T.identify(e,t);var i=this.normalize({options:n,traits:T.traits(),userId:T.id()});this._invoke("identify",new j(i));this.emit("identify",e,t,n);this._callback(a);return this};A.prototype.user=function(){return T};A.prototype.group=function(e,t,n,a){if(!arguments.length)return v;if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;if(h.object(e))n=t,t=e,e=v.id();v.identify(e,t);var i=this.normalize({options:n,traits:v.traits(),groupId:v.id()});this._invoke("group",new S(i));this.emit("group",e,t,n);this._callback(a);return this};A.prototype.track=function(e,t,n,a){if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;var i=this.options.plan||{};var r=i.track||{};var o=this.normalize({properties:t,options:n,event:e});i=r[e];if(i){this.log("plan %o - %o",e,i);if(i.enabled===false)return this._callback(a);f(o.integrations,i.integrations||{})}this._invoke("track",new P(o));this.emit("track",e,t,n);this._callback(a);return this};A.prototype.trackClick=A.prototype.trackLink=function(e,t,n){if(!e)return this;if(h.element(e))e=[e];var a=this;p(e,(function(e){if(!h.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");b(e,"click",(function(i){var r=h.fn(t)?t(e):t;var o=h.fn(n)?n(e):n;var s=e.getAttribute("href")||e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("xlink:href");a.track(r,o);if(s&&e.target!=="_blank"&&!m(i)){C(i);a._callback((function(){window.location.href=s}))}}))}));return this};A.prototype.trackSubmit=A.prototype.trackForm=function(e,t,n){if(!e)return this;if(h.element(e))e=[e];var a=this;p(e,(function(e){if(!h.element(e))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");function i(i){C(i);var r=h.fn(t)?t(e):t;var o=h.fn(n)?n(e):n;a.track(r,o);a._callback((function(){e.submit()}))}var r=window.jQuery||window.Zepto;if(r){r(e).submit(i)}else{b(e,"submit",i)}}));return this};A.prototype.page=function(e,t,n,a,i){if(h.fn(a))i=a,a=null;if(h.fn(n))i=n,a=n=null;if(h.fn(t))i=t,a=n=t=null;if(h.object(e))a=t,n=e,t=e=null;if(h.object(t))a=n,n=t,t=null;if(h.string(e)&&!h.string(t))t=e,e=null;n=c(n)||{};if(t)n.name=t;if(e)n.category=e;var r=w();f(n,r);var o=k(g(r),n);if(!h.empty(o)){a=a||{};a.context=a.context||{};a.context.page=o}var s=this.normalize({properties:n,category:e,options:a,name:t});this._invoke("page",new q(s));this.emit("page",e,t,n,a);this._callback(i);return this};A.prototype.pageview=function(e){var t={};if(e)t.path=e;this.page(t);return this};A.prototype.alias=function(e,t,n,a){if(h.fn(n))a=n,n=null;if(h.fn(t))a=t,n=null,t=null;if(h.object(t))n=t,t=null;var i=this.normalize({options:n,previousId:t,userId:e});this._invoke("alias",new O(i));this.emit("alias",e,t,n);this._callback(a);return this};A.prototype.ready=function(e){if(h.fn(e)){if(this._readied){l.async(e)}else{this.once("ready",e)}}return this};A.prototype.timeout=function(e){this._timeout=e};A.prototype.debug=function(e){if(!arguments.length||e){d.enable("analytics:"+(e||"*"))}else{d.disable()}};A.prototype._options=function(e){e=e||{};this.options=e;u.options(e.cookie);I.options(e.localStorage);T.options(e.user);v.options(e.group);return this};A.prototype._callback=function(e){l.async(e,this._timeout);return this};A.prototype._invoke=function(e,t){this.emit("invoke",t);p(this._integrations,(function(n,a){if(!t.enabled(n))return;a.invoke.call(a,e,t)}));return this};A.prototype.push=function(e){var t=e.shift();if(!this[t])return;this[t].apply(this,e)};A.prototype.reset=function(){this.user().logout();this.group().logout()};A.prototype._parseQuery=function(){var e=x.parse(window.location.search);if(e.ajs_uid)this.identify(e.ajs_uid);if(e.ajs_event)this.track(e.ajs_event);if(e.ajs_aid)T.anonymousId(e.ajs_aid);return this};A.prototype.normalize=function(e){e=_(e,g(this._integrations));if(e.anonymousId)T.anonymousId(e.anonymousId);e.anonymousId=T.anonymousId();e.context.page=f(e.context.page||{},w());return e};A.prototype.noConflict=function(){window.analytics=a;return this}},{emitter:8,facade:9,after:10,bind:11,callback:12,clone:13,"./cookie":14,debug:15,defaults:16,each:4,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],8:[function(e,t,n){var a=e("indexof");t.exports=i;function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.on=i.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};i.prototype.once=function(e,t){var n=this;this._callbacks=this._callbacks||{};function a(){n.off(e,a);t.apply(this,arguments)}t._off=a;this.on(e,a);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var n=this._callbacks[e];if(!n)return this;if(1==arguments.length){delete this._callbacks[e];return this}var i=a(n,t._off||t);if(~i)n.splice(i,1);return this};i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var a=0,i=n.length;a<i;++a){n[a].apply(this,t)}}return this};i.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{indexof:30}],30:[function(e,t,n){t.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n){if(e[n]===t)return n}return-1}},{}],9:[function(e,t,n){var a=e("./facade");t.exports=a;a.Alias=e("./alias");a.Group=e("./group");a.Identify=e("./identify");a.Track=e("./track");a.Page=e("./page");a.Screen=e("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],31:[function(e,t,n){var a=e("isodate-traverse");var i=e("./is-enabled");var r=e("./utils").clone;var o=e("./utils").type;var s=e("./address");var l=e("obj-case");var c=e("new-date");t.exports=u;function u(e){e=r(e);if(!e.hasOwnProperty("timestamp"))e.timestamp=new Date;else e.timestamp=c(e.timestamp);a(e);this.obj=e}s(u.prototype);u.prototype.proxy=function(e){var t=e.split(".");e=t.shift();var n=this[e]||this.field(e);if(!n)return n;if(typeof n==="function")n=n.call(this)||{};if(t.length===0)return d(n);n=l(n,t.join("."));return d(n)};u.prototype.field=function(e){var t=this.obj[e];return d(t)};u.proxy=function(e){return function(){return this.proxy(e)}};u.field=function(e){return function(){return this.field(e)}};u.multi=function(e){return function(){var t=this.proxy(e+"s");if("array"==o(t))return t;var n=this.proxy(e);if(n)n=[r(n)];return n||[]}};u.one=function(e){return function(){var t=this.proxy(e);if(t)return t;var n=this.proxy(e+"s");if("array"==o(n))return n[0]}};u.prototype.json=function(){var e=r(this.obj);if(this.type)e.type=this.type();return e};u.prototype.context=u.prototype.options=function(e){var t=r(this.obj.options||this.obj.context)||{};if(!e)return r(t);if(!this.enabled(e))return;var n=this.integrations();var a=n[e]||l(n,e);if("boolean"==typeof a)a={};return a||{}};u.prototype.enabled=function(e){var t=this.proxy("options.providers.all");if(typeof t!=="boolean")t=this.proxy("options.all");if(typeof t!=="boolean")t=this.proxy("integrations.all");if(typeof t!=="boolean")t=true;var n=t&&i(e);var a=this.integrations();if(a.providers&&a.providers.hasOwnProperty(e)){n=a.providers[e]}if(a.hasOwnProperty(e)){var r=a[e];if(typeof r==="boolean"){n=r}else{n=true}}return n?true:false};u.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()};u.prototype.active=function(){var e=this.proxy("options.active");if(e===null||e===undefined)e=true;return e};u.prototype.sessionId=u.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")};u.prototype.groupId=u.proxy("options.groupId");u.prototype.traits=function(e){var t=this.proxy("options.traits")||{};var n=this.userId();e=e||{};if(n)t.id=n;for(var a in e){var i=null==this[a]?this.proxy("options.traits."+a):this[a]();if(null==i)continue;t[e[a]]=i;delete t[a]}return t};u.prototype.library=function(){var e=this.proxy("options.library");if(!e)return{name:"unknown",version:null};if(typeof e==="string")return{name:e,version:null};return e};u.prototype.userId=u.field("userId");u.prototype.channel=u.field("channel");u.prototype.timestamp=u.field("timestamp");u.prototype.userAgent=u.proxy("options.userAgent");u.prototype.ip=u.proxy("options.ip");function d(e){var t=r(e);return t}},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(e,t,n){var a=e("is");var i=e("isodate");var r;try{r=e("each")}catch(t){r=e("each-component")}t.exports=o;function o(e,t){if(t===undefined)t=true;if(a.object(e))return s(e,t);if(a.array(e))return l(e,t);return e}function s(e,t){r(e,(function(n,r){if(i.is(r,t)){e[n]=i.parse(r)}else if(a.object(r)||a.array(r)){o(r,t)}}));return e}function l(e,t){r(e,(function(n,r){if(a.object(n)){o(n,t)}else if(i.is(n,t)){e[r]=i.parse(n)}}));return e}},{is:44,isodate:45,each:4}],44:[function(e,t,n){var a=e("is-empty");try{var i=e("type")}catch(t){var i=e("component-type")}var r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var o=0,s;s=r[o];o++){n[s]=l(s)}n.fn=n["function"];n.empty=a;n.nan=function(e){return n.number(e)&&e!=e};function l(e){return function(t){return e===i(t)}}},{"is-empty":46,type:47,"component-type":47}],46:[function(e,t,n){t.exports=i;var a=Object.prototype.hasOwnProperty;function i(e){if(null==e)return true;if("number"==typeof e)return 0===e;if(undefined!==e.length)return 0===e.length;for(var t in e){if(a.call(e,t))return false}return true}},{}],47:[function(e,t,n){var a=Object.prototype.toString;t.exports=function(e){switch(a.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(e===null)return"null";if(e===undefined)return"undefined";if(e!==e)return"nan";if(e&&e.nodeType===1)return"element";e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e);return _typeof(e)}},{}],45:[function(e,t,n){var a=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(e){var t=[1,5,6,7,11,12];var n=a.exec(e);var i=0;if(!n)return new Date(e);for(var r=0,o;o=t[r];r++){n[o]=parseInt(n[o],10)||0}n[2]=parseInt(n[2],10)||1;n[3]=parseInt(n[3],10)||1;n[2]--;n[8]=n[8]?(n[8]+"00").substring(0,3):0;if(n[4]==" "){i=(new Date).getTimezoneOffset()}else if(n[9]!=="Z"&&n[10]){i=n[11]*60+n[12];if("+"==n[10])i=0-i}var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+i,n[7],n[8]);return new Date(s)};n.is=function(e,t){if(t&&false===/^\d{4}-\d{2}-\d{2}/.test(e))return false;return a.test(e)}},{}],4:[function(e,t,n){var a=e("type");var i=Object.prototype.hasOwnProperty;t.exports=function(e,t){switch(a(e)){case"array":return s(e,t);case"object":if("number"==typeof e.length)return s(e,t);return o(e,t);case"string":return r(e,t)}};function r(e,t){for(var n=0;n<e.length;++n){t(e.charAt(n),n)}}function o(e,t){for(var n in e){if(i.call(e,n)){t(n,e[n])}}}function s(e,t){for(var n=0;n<e.length;++n){t(e[n],n)}}},{type:47}],39:[function(e,t,n){var a={Salesforce:true};t.exports=function(e){return!a[e]}},{}],40:[function(e,t,n){try{n.inherit=e("inherit");n.clone=e("clone");n.type=e("type")}catch(t){n.inherit=e("inherit-component");n.clone=e("clone-component");n.type=e("type-component")}},{inherit:48,clone:49,type:47}],48:[function(e,t,n){t.exports=function(e,t){var n=function e(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},{}],49:[function(e,t,n){var a;try{a=e("component-type")}catch(t){a=e("type")}t.exports=i;function i(e){switch(a(e)){case"object":var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=i(e[n])}}return t;case"array":var t=new Array(e.length);for(var r=0,o=e.length;r<o;r++){t[r]=i(e[r])}return t;case"regexp":var s="";s+=e.multiline?"m":"";s+=e.global?"g":"";s+=e.ignoreCase?"i":"";return new RegExp(e.source,s);case"date":return new Date(e.getTime());default:return e}}},{"component-type":47,type:47}],41:[function(e,t,n){var a=e("obj-case");t.exports=function(e){e.zip=t("postalCode","zip");e.country=t("country");e.street=t("street");e.state=t("state");e.city=t("city");function t(e,t){return function(){var n=this.traits();var i=this.properties?this.properties():{};return a(n,"address."+e)||a(n,e)||(t?a(n,"address."+t):null)||(t?a(n,t):null)||a(i,"address."+e)||a(i,e)||(t?a(i,"address."+t):null)||(t?a(i,t):null)}}}},{"obj-case":42}],42:[function(e,t,n){var a=function e(t){return t};t.exports=i(r);t.exports.find=t.exports;t.exports.replace=function(e,t,n,a){i(s).call(this,e,t,n,a);return e};t.exports.del=function(e,t,n){i(o).call(this,e,t,null,n);return e};function i(e){return function(t,n,a,i){var r=i&&c(i.normalizer)?i.normalizer:l;n=r(n);var o;var s=false;while(!s){u()}function u(){for(o in t){var e=r(o);if(0===n.indexOf(e)){var a=n.substr(e.length);if(a.charAt(0)==="."||a.length===0){n=a.substr(1);var i=t[o];if(null==i){s=true;return}if(!n.length){s=true;return}t=i;return}}}o=undefined;s=true}if(!o)return;if(null==t)return t;return e(t,o,a)}}function r(e,t){if(e.hasOwnProperty(t))return e[t]}function o(e,t){if(e.hasOwnProperty(t))delete e[t];return e}function s(e,t,n){if(e.hasOwnProperty(t))e[t]=n;return e}function l(e){return e.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function c(e){return typeof e==="function"}},{}],43:[function(e,t,n){var a=e("is");var i=e("isodate");var r=e("./milliseconds");var o=e("./seconds");t.exports=function e(t){if(a.date(t))return t;if(a.number(t))return new Date(s(t));if(i.is(t))return i.parse(t);if(r.is(t))return r.parse(t);if(o.is(t))return o.parse(t);return new Date(t)};function s(e){if(e<315576e5)return e*1e3;return e}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(e,t,n){var a=e("is-empty"),i=e("type");var r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var o=0,s;s=r[o];o++){n[s]=l(s)}n.fn=n["function"];n.empty=a;n.nan=function(e){return n.number(e)&&e!=e};function l(e){return function(t){return e===i(t)}}},{"is-empty":46,type:47}],51:[function(e,t,n){var a=/\d{13}/;n.is=function(e){return a.test(e)};n.parse=function(e){e=parseInt(e,10);return new Date(e)}},{}],52:[function(e,t,n){var a=/\d{10}/;n.is=function(e){return a.test(e)};n.parse=function(e){var t=parseInt(e,10)*1e3;return new Date(t)}},{}],32:[function(e,t,n){var a=e("./utils").inherit;var i=e("./facade");t.exports=r;function r(e){i.call(this,e)}a(r,i);r.prototype.type=r.prototype.action=function(){return"alias"};r.prototype.from=r.prototype.previousId=function(){return this.field("previousId")||this.field("from")};r.prototype.to=r.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(e,t,n){var a=e("./utils").inherit;var i=e("./address");var r=e("is-email");var o=e("new-date");var s=e("./facade");t.exports=l;function l(e){s.call(this,e)}a(l,s);l.prototype.type=l.prototype.action=function(){return"group"};l.prototype.groupId=s.field("groupId");l.prototype.created=function(){var e=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(e)return o(e)};l.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.groupId();if(r(t))return t};l.prototype.traits=function(e){var t=this.properties();var n=this.groupId();e=e||{};if(n)t.id=n;for(var a in e){var i=null==this[a]?this.proxy("traits."+a):this[a]();if(null==i)continue;t[e[a]]=i;delete t[a]}return t};l.prototype.name=s.proxy("traits.name");l.prototype.industry=s.proxy("traits.industry");l.prototype.employees=s.proxy("traits.employees");l.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(e,t,n){t.exports=i;var a=/.+\@.+\..+/;function i(e){return a.test(e)}},{}],34:[function(e,t,n){var a=e("./address");var i=e("./facade");var r=e("is-email");var o=e("new-date");var s=e("./utils");var l=e("obj-case");var c=e("trim");var u=s.inherit;var d=s.clone;var f=s.type;t.exports=p;function p(e){i.call(this,e)}u(p,i);p.prototype.type=p.prototype.action=function(){return"identify"};p.prototype.traits=function(e){var t=this.field("traits")||{};var n=this.userId();e=e||{};if(n)t.id=n;for(var a in e){var i=null==this[a]?this.proxy("traits."+a):this[a]();if(null==i)continue;t[e[a]]=i;if(a!==e[a])delete t[a]}return t};p.prototype.email=function(){var e=this.proxy("traits.email");if(e)return e;var t=this.userId();if(r(t))return t};p.prototype.created=function(){var e=this.proxy("traits.created")||this.proxy("traits.createdAt");if(e)return o(e)};p.prototype.companyCreated=function(){var e=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(e)return o(e)};p.prototype.name=function(){var e=this.proxy("traits.name");if(typeof e==="string")return c(e);var t=this.firstName();var n=this.lastName();if(t&&n)return c(t+" "+n)};p.prototype.firstName=function(){var e=this.proxy("traits.firstName");if(typeof e==="string")return c(e);var t=this.proxy("traits.name");if(typeof t==="string")return c(t).split(" ")[0]};p.prototype.lastName=function(){var e=this.proxy("traits.lastName");if(typeof e==="string")return c(e);var t=this.proxy("traits.name");if(typeof t!=="string")return;var n=c(t).indexOf(" ");if(n===-1)return;return c(t.substr(n+1))};p.prototype.uid=function(){return this.userId()||this.username()||this.email()};p.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")};p.prototype.age=function(){var e=this.birthday();var t=l(this.traits(),"age");if(null!=t)return t;if("date"!=f(e))return;var n=new Date;return n.getFullYear()-e.getFullYear()};p.prototype.avatar=function(){var e=this.traits();return l(e,"avatar")||l(e,"photoUrl")||l(e,"avatarUrl")};p.prototype.position=function(){var e=this.traits();return l(e,"position")||l(e,"jobTitle")};p.prototype.username=i.proxy("traits.username");p.prototype.website=i.one("traits.website");p.prototype.websites=i.multi("traits.website");p.prototype.phone=i.one("traits.phone");p.prototype.phones=i.multi("traits.phone");p.prototype.address=i.proxy("traits.address");p.prototype.gender=i.proxy("traits.gender");p.prototype.birthday=i.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(e,t,n){n=t.exports=a;function a(e){if(e.trim)return e.trim();return e.replace(/^\s*|\s*$/g,"")}n.left=function(e){if(e.trimLeft)return e.trimLeft();return e.replace(/^\s*/,"")};n.right=function(e){if(e.trimRight)return e.trimRight();return e.replace(/\s*$/,"")}},{}],35:[function(e,t,n){var a=e("./utils").inherit;var i=e("./utils").clone;var r=e("./utils").type;var o=e("./facade");var s=e("./identify");var l=e("is-email");var c=e("obj-case");t.exports=u;function u(e){o.call(this,e)}a(u,o);u.prototype.type=u.prototype.action=function(){return"track"};u.prototype.event=o.field("event");u.prototype.value=o.proxy("properties.value");u.prototype.category=o.proxy("properties.category");u.prototype.id=o.proxy("properties.id");u.prototype.sku=o.proxy("properties.sku");u.prototype.tax=o.proxy("properties.tax");u.prototype.name=o.proxy("properties.name");u.prototype.price=o.proxy("properties.price");u.prototype.total=o.proxy("properties.total");u.prototype.coupon=o.proxy("properties.coupon");u.prototype.shipping=o.proxy("properties.shipping");u.prototype.discount=o.proxy("properties.discount");u.prototype.description=o.proxy("properties.description");u.prototype.plan=o.proxy("properties.plan");u.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")};u.prototype.subtotal=function(){var e=c(this.properties(),"subtotal");var t=this.total();var n;if(e)return e;if(!t)return 0;if(n=this.tax())t-=n;if(n=this.shipping())t-=n;if(n=this.discount())t+=n;return t};u.prototype.products=function(){var e=this.properties();var t=c(e,"products");return"array"==r(t)?t:[]};u.prototype.quantity=function(){var e=this.obj.properties||{};return e.quantity||1};u.prototype.currency=function(){var e=this.obj.properties||{};return e.currency||"USD"};u.prototype.referrer=o.proxy("properties.referrer");u.prototype.query=o.proxy("options.query");u.prototype.properties=function(e){var t=this.field("properties")||{};e=e||{};for(var n in e){var a=null==this[n]?this.proxy("properties."+n):this[n]();if(null==a)continue;t[e[n]]=a;delete t[n]}return t};u.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()};u.prototype.email=function(){var e=this.proxy("traits.email");e=e||this.proxy("properties.email");if(e)return e;var t=this.userId();if(l(t))return t};u.prototype.revenue=function(){var e=this.proxy("properties.revenue");var t=this.event();if(!e&&t&&t.match(/completed ?order/i)){e=this.proxy("properties.total")}return d(e)};u.prototype.cents=function(){var e=this.revenue();return"number"!=typeof e?this.value()||0:e*100};u.prototype.identify=function(){var e=this.json();e.traits=this.traits();return new s(e)};function d(e){if(!e)return;if(typeof e==="number")return e;if(typeof e!=="string")return;e=e.replace(/\$/g,"");e=parseFloat(e);if(!isNaN(e))return e}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(e,t,n){var a=e("./utils").inherit;var i=e("./facade");var r=e("./track");t.exports=o;function o(e){i.call(this,e)}a(o,i);o.prototype.type=o.prototype.action=function(){return"page"};o.prototype.category=i.field("category");o.prototype.name=i.field("name");o.prototype.title=i.proxy("properties.title");o.prototype.path=i.proxy("properties.path");o.prototype.url=i.proxy("properties.url");o.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")};o.prototype.properties=function(){var e=this.field("properties")||{};var t=this.category();var n=this.name();if(t)e.category=t;if(n)e.name=n;return e};o.prototype.fullName=function(){var e=this.category();var t=this.name();return t&&e?e+" "+t:t};o.prototype.event=function(e){return e?"Viewed "+e+" Page":"Loaded a Page"};o.prototype.track=function(e){var t=this.properties();return new r({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./facade":31,"./track":35}],37:[function(e,t,n){var a=e("./utils").inherit;var i=e("./page");var r=e("./track");t.exports=o;function o(e){i.call(this,e)}a(o,i);o.prototype.type=o.prototype.action=function(){return"screen"};o.prototype.event=function(e){return e?"Viewed "+e+" Screen":"Loaded a Screen"};o.prototype.track=function(e){var t=this.properties();return new r({event:this.event(e),timestamp:this.timestamp(),context:this.context(),properties:t})}},{"./utils":40,"./page":36,"./track":35}],10:[function(e,t,n){t.exports=function e(t,n){if(t<=0)return n();return function(){if(--t<1){return n.apply(this,arguments)}}}},{}],11:[function(e,t,n){try{var a=e("bind")}catch(t){var a=e("bind-component")}var i=e("bind-all");t.exports=n=a;n.all=i;n.methods=r;function r(e,t){t=[].slice.call(arguments,1);for(var n=0,i;i=t[n];n++){e[i]=a(e,e[i])}return e}},{bind:55,"bind-all":56}],55:[function(e,t,n){var a=[].slice;t.exports=function(e,t){if("string"==typeof t)t=e[t];if("function"!=typeof t)throw new Error("bind() _requires a function");var n=a.call(arguments,2);return function(){return t.apply(e,n.concat(a.call(arguments)))}}},{}],56:[function(e,t,n){try{var a=e("bind");var i=e("type")}catch(t){var a=e("bind-component");var i=e("type-component")}t.exports=function(e){for(var t in e){var n=e[t];if(i(n)==="function")e[t]=a(e,e[t])}return e}},{bind:55,type:47}],12:[function(e,t,n){var a=e("next-tick");t.exports=i;function i(e){if("function"===typeof e)e()}i.async=function(e,t){if("function"!==typeof e)return;if(!t)return a(e);setTimeout(e,t)};i.sync=i},{"next-tick":57}],57:[function(e,t,n){"use strict";if(typeof setImmediate=="function"){t.exports=function(e){setImmediate(e)}}else if(typeof process!="undefined"&&typeof process.nextTick=="function"){t.exports=process.nextTick}else if(typeof window=="undefined"||window.ActiveXObject||!window.postMessage){t.exports=function(e){setTimeout(e)}}else{var a=[];window.addEventListener("message",(function(){var e=0;while(e<a.length){try{a[e++]()}catch(t){a=a.slice(e);window.postMessage("tic!","*");throw t}}a.length=0}),true);t.exports=function(e){if(!a.length)window.postMessage("tic!","*");a.push(e)}}},{}],13:[function(e,t,n){var a;try{a=e("type")}catch(t){a=e("type-component")}t.exports=i;function i(e){switch(a(e)){case"object":var t={};for(var n in e){if(e.hasOwnProperty(n)){t[n]=i(e[n])}}return t;case"array":var t=new Array(e.length);for(var r=0,o=e.length;r<o;r++){t[r]=i(e[r])}return t;case"regexp":var s="";s+=e.multiline?"m":"";s+=e.global?"g":"";s+=e.ignoreCase?"i":"";return new RegExp(e.source,s);case"date":return new Date(e.getTime());default:return e}}},{type:47}],14:[function(e,t,n){var a=e("bind");var i=e("clone");var r=e("cookie");var o=e("debug")("analytics.js:cookie");var s=e("defaults");var l=e("json");var c=e("top-domain");function u(e){this.options(e)}u.prototype.options=function(e){if(arguments.length===0)return this._options;e=e||{};var t="."+c(window.location.href);if(t===".")t=null;this._options=s(e,{maxage:31536e6,path:"/",domain:t});this.set("ajs:test",true);if(!this.get("ajs:test")){o("fallback to domain=null");this._options.domain=null}this.remove("ajs:test")};u.prototype.set=function(e,t){try{t=l.stringify(t);r(e,t,i(this._options));return true}catch(e){return false}};u.prototype.get=function(e){try{var t=r(e);t=t?l.parse(t):null;return t}catch(e){return null}};u.prototype.remove=function(e){try{r(e,null,i(this._options));return true}catch(e){return false}};t.exports=a.all(new u);t.exports.Cookie=u},{bind:11,clone:13,cookie:58,debug:15,defaults:16,json:59,"top-domain":60}],58:[function(e,t,n){var a=e("debug")("cookie");t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return i(e,t,n);case 1:return o(e);default:return r()}};function i(e,t,n){n=n||{};var a=l(e)+"="+l(t);if(null==t)n.maxage=-1;if(n.maxage){n.expires=new Date(+new Date+n.maxage)}if(n.path)a+="; path="+n.path;if(n.domain)a+="; domain="+n.domain;if(n.expires)a+="; expires="+n.expires.toUTCString();if(n.secure)a+="; secure";document.cookie=a}function r(){return s(document.cookie)}function o(e){return r()[e]}function s(e){var t={};var n=e.split(/ *; */);var a;if(""==n[0])return t;for(var i=0;i<n.length;++i){a=n[i].split("=");t[c(a[0])]=c(a[1])}return t}function l(e){try{return encodeURIComponent(e)}catch(t){a("error `encode(%o)` - %o",e,t)}}function c(e){try{return decodeURIComponent(e)}catch(t){a("error `decode(%o)` - %o",e,t)}}},{debug:15}],15:[function(e,t,n){if("undefined"==typeof window){t.exports=e("./lib/debug")}else{t.exports=e("./debug")}},{"./lib/debug":61,"./debug":62}],61:[function(e,t,n){var a=e("tty");t.exports=f;var i=[],r=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach((function(e){e=e.replace("*",".*?");if(e[0]==="-"){r.push(new RegExp("^"+e.substr(1)+"$"))}else{i.push(new RegExp("^"+e+"$"))}}));var o=[6,2,3,4,5,1];var s={};var l=0;var c=a.isatty(2);function u(){return o[l++%o.length]}function d(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"}function f(e){function t(){}t.enabled=false;var n=r.some((function(t){return t.test(e)}));if(n)return t;n=i.some((function(t){return t.test(e)}));if(!n)return t;var a=u();function o(t){t=p(t);var n=new Date;var i=n-(s[e]||n);s[e]=n;t="  [9"+a+"m"+e+" "+"[3"+a+"m[90m"+t+"[3"+a+"m"+" +"+d(i)+"[0m";console.error.apply(this,arguments)}function l(t){t=p(t);t=(new Date).toUTCString()+" "+e+" "+t;console.error.apply(this,arguments)}o.enabled=l.enabled=true;return c||process.env.DEBUG_COLORS?o:l}function p(e){if(e instanceof Error)return e.stack||e.message;return e}},{}],62:[function(e,t,n){t.exports=a;function a(e){if(!a.enabled(e))return function(){};return function(t){t=i(t);var n=new Date;var r=n-(a[e]||n);a[e]=n;t=e+" "+t+" +"+a.humanize(r);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}a.names=[];a.skips=[];a.enable=function(e){try{localStorage.debug=e}catch(e){}var t=(e||"").split(/[\s,]+/),n=t.length;for(var i=0;i<n;i++){e=t[i].replace("*",".*?");if(e[0]==="-"){a.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{a.names.push(new RegExp("^"+e+"$"))}}};a.disable=function(){a.enable("")};a.humanize=function(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"};a.enabled=function(e){for(var t=0,n=a.skips.length;t<n;t++){if(a.skips[t].test(e)){return false}}for(var t=0,n=a.names.length;t<n;t++){if(a.names[t].test(e)){return true}}return false};function i(e){if(e instanceof Error)return e.stack||e.message;return e}try{if(window.localStorage)a.enable(localStorage.debug)}catch(e){}},{}],16:[function(e,t,n){"use strict";var a=function e(t,n,a){for(var i in n){if(a&&t[i]instanceof Object&&n[i]instanceof Object){t[i]=e(t[i],n[i],true)}else if(!(i in t)){t[i]=n[i]}}return t};t.exports=a},{}],59:[function(e,t,n){var a=window.JSON||{};var i=a.stringify;var r=a.parse;t.exports=r&&i?JSON:e("json-fallback")},{"json-fallback":63}],63:[function(_require,module,exports){(function(){"use strict";var JSON=module.exports={};function f(e){return e<10?"0"+e:e}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx,escapable,gap,indent,meta,rep;function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,(function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,a,i,r,o=gap,s,l=t[e];if(l&&_typeof(l)==="object"&&typeof l.toJSON==="function"){l=l.toJSON(e)}if(typeof rep==="function"){l=rep.call(t,e,l)}switch(_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l){return"null"}gap+=indent;s=[];if(Object.prototype.toString.apply(l)==="[object Array]"){r=l.length;for(n=0;n<r;n+=1){s[n]=str(n,l)||"null"}i=s.length===0?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]";gap=o;return i}if(rep&&_typeof(rep)==="object"){r=rep.length;for(n=0;n<r;n+=1){if(typeof rep[n]==="string"){a=rep[n];i=str(a,l);if(i){s.push(quote(a)+(gap?": ":":")+i)}}}}else{for(a in l){if(Object.prototype.hasOwnProperty.call(l,a)){i=str(a,l);if(i){s.push(quote(a)+(gap?": ":":")+i)}}}}i=s.length===0?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}";gap=o;return i}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(e,t,n){var a;gap="";indent="";if(typeof n==="number"){for(a=0;a<n;a+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(_typeof(t)!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(e,t){var n,a,i=e[t];if(i&&_typeof(i)==="object"){for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){a=walk(i,n);if(a!==undefined){i[n]=a}else{delete i[n]}}}}return reviver.call(e,t,i)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()},{}],60:[function(e,t,n){var a=e("url").parse;var i=e("cookie");n=t.exports=r;n.cookie=i;function r(e){var t=n.cookie;var a=n.levels(e);for(var i=0;i<a.length;++i){var r="__tld__";var o=a[i];var s={domain:"."+o};t(r,1,s);if(t(r)){t(r,null,s);return o}}return""}r.levels=function(e){var t=a(e).hostname;var n=t.split(".");var i=n[n.length-1];var r=[];if(4==n.length&&parseInt(i,10)==i){return r}if(1>=n.length){return r}for(var o=n.length-2;0<=o;--o){r.push(n.slice(o).join("."))}return r}},{url:64,cookie:65}],64:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");t.href=e;return{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?a(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:t.pathname.charAt(0)!="/"?"/"+t.pathname:t.pathname,protocol:!t.protocol||":"==t.protocol?location.protocol:t.protocol,search:t.search,query:t.search.slice(1)}};n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")};n.isRelative=function(e){return!n.isAbsolute(e)};n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol};function a(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}},{}],65:[function(e,t,n){var a=e("debug")("cookie");t.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return i(e,t,n);case 1:return o(e);default:return r()}};function i(e,t,n){n=n||{};var a=l(e)+"="+l(t);if(null==t)n.maxage=-1;if(n.maxage){n.expires=new Date(+new Date+n.maxage)}if(n.path)a+="; path="+n.path;if(n.domain)a+="; domain="+n.domain;if(n.expires)a+="; expires="+n.expires.toUTCString();if(n.secure)a+="; secure";document.cookie=a}function r(){var e;try{e=document.cookie}catch(e){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e.stack||e)}return{}}return s(e)}function o(e){return r()[e]}function s(e){var t={};var n=e.split(/ *; */);var a;if(""==n[0])return t;for(var i=0;i<n.length;++i){a=n[i].split("=");t[c(a[0])]=c(a[1])}return t}function l(e){try{return encodeURIComponent(e)}catch(t){a("error `encode(%o)` - %o",e,t)}}function c(e){try{return decodeURIComponent(e)}catch(t){a("error `decode(%o)` - %o",e,t)}}},{debug:15}],17:[function(e,t,n){var a=e("./entity");var i=e("bind");var r=e("debug")("analytics:group");var o=e("inherit");s.defaults={persist:true,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}};function s(e){this.defaults=s.defaults;this.debug=r;a.call(this,e)}o(s,a);t.exports=i.all(new s);t.exports.Group=s},{"./entity":66,bind:11,debug:15,inherit:67}],66:[function(e,t,n){var a=e("clone");var i=e("./cookie");var r=e("debug")("analytics:entity");var o=e("defaults");var s=e("extend");var l=e("./memory");var c=e("./store");var u=e("isodate-traverse");t.exports=d;function d(e){this.options(e);this.initialize()}d.prototype.initialize=function(){i.set("ajs:cookies",true);if(i.get("ajs:cookies")){i.remove("ajs:cookies");this._storage=i;return}if(c.enabled){this._storage=c;return}r("warning using memory store both cookies and localStorage are disabled");this._storage=l};d.prototype.storage=function(){return this._storage};d.prototype.options=function(e){if(arguments.length===0)return this._options;this._options=o(e||{},this.defaults||{})};d.prototype.id=function(e){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(e);default:}};d.prototype._getId=function(){var e=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return e===undefined?null:e};d.prototype._setId=function(e){if(this._options.persist){this.storage().set(this._options.cookie.key,e)}else{this._id=e}};d.prototype.properties=d.prototype.traits=function(e){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(e);default:}};d.prototype._getTraits=function(){var e=this._options.persist?c.get(this._options.localStorage.key):this._traits;return e?u(a(e)):{}};d.prototype._setTraits=function(e){e=e||{};if(this._options.persist){c.set(this._options.localStorage.key,e)}else{this._traits=e}};d.prototype.identify=function(e,t){t=t||{};var n=this.id();if(n===null||n===e)t=s(this.traits(),t);if(e)this.id(e);this.debug("identify %o, %o",e,t);this.traits(t);this.save()};d.prototype.save=function(){if(!this._options.persist)return false;i.set(this._options.cookie.key,this.id());c.set(this._options.localStorage.key,this.traits());return true};d.prototype.logout=function(){this.id(null);this.traits({});i.remove(this._options.cookie.key);c.remove(this._options.localStorage.key)};d.prototype.reset=function(){this.logout();this.options({})};d.prototype.load=function(){this.id(i.get(this._options.cookie.key));this.traits(c.get(this._options.localStorage.key))}},{clone:13,"./cookie":14,debug:15,defaults:16,extend:68,"./memory":21,"./store":28,"isodate-traverse":38}],68:[function(e,t,n){t.exports=function e(t){var n=Array.prototype.slice.call(arguments,1);for(var a=0,i;i=n[a];a++){if(!i)continue;for(var r in i){t[r]=i[r]}}return t}},{}],21:[function(e,t,n){var a=e("bind");var i=e("clone");var r=Object.prototype.hasOwnProperty;t.exports=a.all(new o);function o(){this.store={}}o.prototype.set=function(e,t){this.store[e]=i(t);return true};o.prototype.get=function(e){if(!r.call(this.store,e))return;return i(this.store[e])};o.prototype.remove=function(e){delete this.store[e];return true}},{bind:11,clone:13}],28:[function(e,t,n){var a=e("bind");var i=e("defaults");var r=e("store.js");function o(e){this.options(e)}o.prototype.options=function(e){if(arguments.length===0)return this._options;e=e||{};i(e,{enabled:true});this.enabled=e.enabled&&r.enabled;this._options=e};o.prototype.set=function(e,t){if(!this.enabled)return false;return r.set(e,t)};o.prototype.get=function(e){if(!this.enabled)return null;return r.get(e)};o.prototype.remove=function(e){if(!this.enabled)return false;return r.remove(e)};t.exports=a.all(new o);t.exports.Store=o},{bind:11,defaults:16,"store.js":69}],69:[function(e,t,n){var a=e("json"),i={},r=window,o=r.document,s="localStorage",l="__storejs__",c;i.disabled=false;i.set=function(e,t){};i.get=function(e){};i.remove=function(e){};i.clear=function(){};i.transact=function(e,t,n){var a=i.get(e);if(n==null){n=t;t=null}if(typeof a=="undefined"){a=t||{}}n(a);i.set(e,a)};i.getAll=function(){};i.serialize=function(e){return a.stringify(e)};i.deserialize=function(e){if(typeof e!="string"){return undefined}try{return a.parse(e)}catch(t){return e||undefined}};function u(){try{return s in r&&r[s]}catch(e){return false}}if(u()){c=r[s];i.set=function(e,t){if(t===undefined){return i.remove(e)}c.setItem(e,i.serialize(t));return t};i.get=function(e){return i.deserialize(c.getItem(e))};i.remove=function(e){c.removeItem(e)};i.clear=function(){c.clear()};i.getAll=function(){var e={};for(var t=0;t<c.length;++t){var n=c.key(t);e[n]=i.get(n)}return e}}else if(o.documentElement.addBehavior){var d=function e(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(c);p.appendChild(c);c.addBehavior("#default#userData");c.load(s);var n=t.apply(i,e);p.removeChild(c);return n}};var f=function e(t){return t.replace(h,"___")};var p,v;try{v=new ActiveXObject("htmlfile");v.open();v.write("<s"+"cript>document.w=window</s"+'cript><iframe src="/favicon.ico"></iframe>');v.close();p=v.w.frames[0].document;c=p.createElement("div")}catch(e){c=o.createElement("div");p=o.body}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");i.set=d((function(e,t,n){t=f(t);if(n===undefined){return i.remove(t)}e.setAttribute(t,i.serialize(n));e.save(s);return n}));i.get=d((function(e,t){t=f(t);return i.deserialize(e.getAttribute(t))}));i.remove=d((function(e,t){t=f(t);e.removeAttribute(t);e.save(s)}));i.clear=d((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var n=0,a;a=t[n];n++){e.removeAttribute(a.name)}e.save(s)}));i.getAll=d((function(e){var t=e.XMLDocument.documentElement.attributes;var n={};for(var a=0,r;r=t[a];++a){var o=f(r.name);n[r.name]=i.deserialize(e.getAttribute(o))}return n}))}try{i.set(l,l);if(i.get(l)!=l){i.disabled=true}i.remove(l)}catch(e){i.disabled=true}i.enabled=!i.disabled;t.exports=i},{json:59}],67:[function(e,t,n){t.exports=function(e,t){var n=function e(){};n.prototype=t.prototype;e.prototype=new n;e.prototype.constructor=e}},{}],18:[function(e,t,n){var a=e("is-empty");try{var i=e("type")}catch(t){var i=e("component-type")}var r=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var o=0,s;s=r[o];o++){n[s]=l(s)}n.fn=n["function"];n.empty=a;n.nan=function(e){return n.number(e)&&e!=e};function l(e){return function(t){return e===i(t)}}},{"is-empty":46,type:47,"component-type":47}],19:[function(e,t,n){t.exports=function e(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return true;var n=t.which,a=t.button;if(!n&&a!==undefined){return!a&1&&!a&2&&a&4}else if(n===2){return true}return false}},{}],20:[function(e,t,n){var a=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(e){var t=[];for(var n in e){if(a.call(e,n)){t.push(n)}}return t};n.values=function(e){var t=[];for(var n in e){if(a.call(e,n)){t.push(e[n])}}return t};n.merge=function(e,t){for(var n in t){if(a.call(t,n)){e[n]=t[n]}}return e};n.length=function(e){return n.keys(e).length};n.isEmpty=function(e){return 0==n.length(e)}},{}],22:[function(e,t,n){var a=e("debug")("analytics.js:normalize");var i=e("defaults");var r=e("each");var o=e("includes");var s=e("is");var l=e("component/map");var c=Object.prototype.hasOwnProperty;t.exports=d;var u=["integrations","anonymousId","timestamp","context"];function d(e,t){var n=l(t,(function(e){return e.toLowerCase()}));var d=e.options||{};var f=d.integrations||{};var p=d.providers||{};var v=d.context||{};var h={};a("<-",e);r(d,(function(e,t){if(!m(e))return;if(!c.call(f,e))f[e]=t;delete d[e]}));delete d.providers;r(p,(function(e,t){if(!m(e))return;if(s.object(f[e]))return;if(c.call(f,e)&&typeof p[e]==="boolean")return;f[e]=t}));r(d,(function(e){if(o(e,u)){h[e]=d[e]}else{v[e]=d[e]}}));delete e.options;h.integrations=f;h.context=v;h=i(h,e);a("->",h);return h;function m(e){return!!(o(e,t)||e.toLowerCase()==="all"||o(e.toLowerCase(),n))}}},{debug:15,defaults:16,each:4,includes:70,is:18,"component/map":71}],70:[function(e,t,n){"use strict";var a;try{a=e("@ndhoule/each")}catch(t){a=e("each")}var i=String.prototype.indexOf;var r=function e(t,n){if(t===n){return t!==0||1/t===1/n}return t!==t&&n!==n};var o=function e(t,n){var o=false;if(typeof n==="string"){return i.call(n,t)!==-1}a((function(e){if(r(e,t)){o=true;return false}}),n);return o};t.exports=o},{each:72}],72:[function(e,t,n){"use strict";var a;try{a=e("@ndhoule/keys")}catch(t){a=e("keys")}var i=Object.prototype.toString;var r=function e(t){var n=_typeof(t);return n==="number"||n==="object"&&i.call(t)==="[object Number]"};var o=typeof Array.isArray==="function"?Array.isArray:function e(t){return i.call(t)==="[object Array]"};var s=function e(t){return t!=null&&(o(t)||t!=="function"&&r(t.length))};var l=function e(t,n){for(var a=0;a<n.length;a+=1){if(t(n[a],a,n)===false){break}}};var c=function e(t,n){var i=a(n);for(var r=0;r<i.length;r+=1){if(t(n[i[r]],i[r],n)===false){break}}};var u=function e(t,n){return(s(n)?l:c).call(this,t,n)};t.exports=u},{keys:73}],73:[function(e,t,n){"use strict";var a=String.prototype.charAt;var i=function e(t,n){return a.call(t,n)};var r=Object.prototype.hasOwnProperty;var o=Object.prototype.toString;var s=function e(t,n){return r.call(t,n)};var l=function e(t){return o.call(t)==="[object String]"};var c=function e(t){return t!=null&&typeof t!=="function"&&typeof t.length==="number"};var u=function e(t,n){n=n||s;var a=[];for(var i=0,r=t.length;i<r;i+=1){if(n(t,i)){a.push(String(i))}}return a};var d=function e(t,n){n=n||s;var a=[];for(var i in t){if(n(t,i)){a.push(String(i))}}return a};t.exports=function e(t){if(t==null){return[]}if(l(t)){return u(t,i)}if(c(t)){return u(t,s)}return d(t)}},{}],71:[function(e,t,n){var a=e("to-function");t.exports=function(e,t){var n=[];t=a(t);for(var i=0;i<e.length;++i){n.push(t(e[i],i))}return n}},{"to-function":74}],74:[function(e,t,n){var a;try{a=e("props")}catch(t){a=e("component-props")}t.exports=i;function i(e){switch({}.toString.call(e)){case"[object Object]":return l(e);case"[object Function]":return e;case"[object String]":return s(e);case"[object RegExp]":return o(e);default:return r(e)}}function r(e){return function(t){return e===t}}function o(e){return function(t){return e.test(t)}}function s(e){if(/^ *\W+/.test(e))return new Function("_","return _ "+e);return new Function("_","return "+c(e))}function l(e){var t={};for(var n in e){t[n]=typeof e[n]==="string"?r(e[n]):i(e[n])}return function(e){if(_typeof(e)!=="object")return false;for(var n in t){if(!(n in e))return false;if(!t[n](e[n]))return false}return true}}function c(e){var t=a(e);if(!t.length)return"_."+e;var n,i,r;for(i=0;i<t.length;i++){r=t[i];n="_."+r;n="('function' == typeof "+n+" ? "+n+"() : "+n+")";e=u(r,e,n)}return e}function u(e,t,n){return t.replace(new RegExp("(\\.)?"+e,"g"),(function(e,t){return t?e:n}))}},{props:75,"component-props":75}],75:[function(e,t,n){var a=/\b(this|Array|Date|Object|Math|JSON)\b/g;t.exports=function(e,t){var n=o(i(e));if(t&&"string"==typeof t)t=s(t);if(t)return r(e,n,t);return n};function i(e){return e.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(a,"").match(/[$a-zA-Z_]\w*/g)||[]}function r(e,t,n){var a=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return e.replace(a,(function(e){if("("==e[e.length-1])return n(e);if(!~t.indexOf(e))return e;return n(e)}))}function o(e){var t=[];for(var n=0;n<e.length;n++){if(~t.indexOf(e[n]))continue;t.push(e[n])}return t}function s(e){return function(t){return e+t}}},{}],23:[function(e,t,n){n.bind=function(e,t,n,a){if(e.addEventListener){e.addEventListener(t,n,a||false)}else{e.attachEvent("on"+t,n)}return n};n.unbind=function(e,t,n,a){if(e.removeEventListener){e.removeEventListener(t,n,a||false)}else{e.detachEvent("on"+t,n)}return n}},{}],24:[function(e,t,n){var a=e("canonical");var i=e("includes");var r=e("url");function o(){return{path:s(),referrer:document.referrer,search:location.search,title:document.title,url:l(location.search)}}function s(){var e=a();if(!e)return window.location.pathname;var t=r.parse(e);return t.pathname}function l(e){var t=a();if(t)return i("?",t)?t:t+e;var n=window.location.href;var r=n.indexOf("#");return r===-1?n:n.slice(0,r)}t.exports=o},{canonical:76,includes:70,url:77}],76:[function(e,t,n){t.exports=function e(){var t=document.getElementsByTagName("link");for(var n=0,a;a=t[n];n++){if("canonical"==a.getAttribute("rel"))return a.getAttribute("href")}}},{}],77:[function(e,t,n){n.parse=function(e){var t=document.createElement("a");t.href=e;return{href:t.href,host:t.host||location.host,port:"0"===t.port||""===t.port?a(t.protocol):t.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:t.pathname.charAt(0)!="/"?"/"+t.pathname:t.pathname,protocol:!t.protocol||":"==t.protocol?location.protocol:t.protocol,search:t.search,query:t.search.slice(1)}};n.isAbsolute=function(e){return 0==e.indexOf("//")||!!~e.indexOf("://")};n.isRelative=function(e){return!n.isAbsolute(e)};n.isCrossDomain=function(e){e=n.parse(e);var t=n.parse(window.location.href);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol};function a(e){switch(e){case"http:":return 80;case"https:":return 443;default:return location.port}}},{}],25:[function(e,t,n){"use strict";var a=Object.prototype.toString;var i=function e(t){return t!=null};var r=function e(t){return a.call(t)==="[object Array]"};var o=function e(t){return typeof t==="string"||a.call(t)==="[object String]"};var s=function e(t){return t!=null&&_typeof(t)==="object"};var l=function e(t,n){if(!i(n)||!s(n)){return{}}if(o(t)){t=[t]}if(!r(t)){t=[]}var a={};for(var l=0;l<t.length;l+=1){if(o(t[l])&&t[l]in n){a[t[l]]=n[t[l]]}}return a};t.exports=l},{}],26:[function(e,t,n){t.exports=function(e){e=e||window.event;return e.preventDefault?e.preventDefault():e.returnValue=false}},{}],27:[function(e,t,n){var a=e("trim");var i=e("type");var r=/(\w+)\[(\d+)\]/;var o=function e(t){try{return encodeURIComponent(t)}catch(e){return t}};var s=function e(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}};n.parse=function(e){if("string"!=typeof e)return{};e=a(e);if(""==e)return{};if("?"==e.charAt(0))e=e.slice(1);var t={};var n=e.split("&");for(var i=0;i<n.length;i++){var o=n[i].split("=");var l=s(o[0]);var c;if(c=r.exec(l)){t[c[1]]=t[c[1]]||[];t[c[1]][c[2]]=s(o[1]);continue}t[o[0]]=null==o[1]?"":s(o[1])}return t};n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var a=e[n];if("array"==i(a)){for(var r=0;r<a.length;++r){t.push(o(n+"["+r+"]")+"="+o(a[r]))}continue}t.push(o(n)+"="+o(e[n]))}return t.join("&")}},{trim:54,type:47}],29:[function(e,t,n){var a=e("./entity");var i=e("bind");var r=e("./cookie");var o=e("debug")("analytics:user");var s=e("inherit");var l=e("cookie");var c=e("uuid");u.defaults={persist:false,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}};function u(e){this.defaults=u.defaults;this.debug=o;a.call(this,e)}s(u,a);u.prototype.id=function(e){var t=this._getId();var n=a.prototype.id.apply(this,arguments);if(t==null)return n;if(t!=e&&e)this.anonymousId(null);return n};u.prototype.anonymousId=function(e){var t=this.storage();if(arguments.length){t.set("ajs_anonymous_id",e);return this}e=t.get("ajs_anonymous_id");if(e){return e}e=l("_sio");if(e){e=e.split("----")[0];t.set("ajs_anonymous_id",e);t.remove("_sio");return e}e=c();t.set("ajs_anonymous_id",e);return t.get("ajs_anonymous_id")};u.prototype.logout=function(){a.prototype.logout.call(this);this.anonymousId(null)};u.prototype.load=function(){if(this._loadOldCookie())return;a.prototype.load.call(this)};u.prototype._loadOldCookie=function(){var e=r.get(this._options.cookie.oldKey);if(!e)return false;this.id(e.id);this.traits(e.traits);r.remove(this._options.cookie.oldKey);return true};t.exports=i.all(new u);t.exports.User=u},{"./entity":66,bind:11,"./cookie":14,debug:15,inherit:67,cookie:58,uuid:78}],78:[function(e,t,n){t.exports=function e(t){return t?(t^Math.random()*16>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}},{}],7:[function(e,t,n){t.exports={name:"analytics-core",version:"2.10.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(e,t,n){"use strict";t.exports={amplitude:e("analytics.js-integration-amplitude"),segmentio:e("analytics.js-integration-segmentio")}},{"analytics.js-integration-amplitude":82,"analytics.js-integration-segmentio":149}],166:[function(e,t,n){var a=e("bind");var i=e("clone");var r=e("debug");var o=e("defaults");var s=e("extend");var l=e("slug");var c=e("./protos");var u=e("./statics");function d(e){function t(n){if(n&&n.addIntegration){return n.addIntegration(t)}this.debug=r("analytics:integration:"+l(e));this.options=o(i(n)||{},this.defaults);this._queue=[];this.once("ready",a(this,this.flush));t.emit("construct",this);this.ready=a(this,this.ready);this._wrapInitialize();this._wrapPage();this._wrapTrack()}t.prototype.defaults={};t.prototype.globals=[];t.prototype.templates={};t.prototype.name=e;s(t,u);s(t.prototype,c);return t}t.exports=d},{bind:169,clone:13,debug:170,defaults:16,extend:171,slug:172,"./protos":173,"./statics":174}],169:[function(e,t,n){var a=e("bind"),i=e("bind-all");t.exports=n=a;n.all=i;n.methods=r;function r(e,t){t=[].slice.call(arguments,1);for(var n=0,i;i=t[n];n++){e[i]=a(e,e[i])}return e}},{bind:55,"bind-all":56}],170:[function(e,t,n){if("undefined"==typeof window){t.exports=e("./lib/debug")}else{t.exports=e("./debug")}},{"./lib/debug":175,"./debug":176}],175:[function(e,t,n){var a=e("tty");t.exports=f;var i=[],r=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach((function(e){e=e.replace("*",".*?");if(e[0]==="-"){r.push(new RegExp("^"+e.substr(1)+"$"))}else{i.push(new RegExp("^"+e+"$"))}}));var o=[6,2,3,4,5,1];var s={};var l=0;var c=a.isatty(2);function u(){return o[l++%o.length]}function d(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"}function f(e){function t(){}t.enabled=false;var n=r.some((function(t){return t.test(e)}));if(n)return t;n=i.some((function(t){return t.test(e)}));if(!n)return t;var a=u();function o(t){t=p(t);var n=new Date;var i=n-(s[e]||n);s[e]=n;t="  [9"+a+"m"+e+" "+"[3"+a+"m[90m"+t+"[3"+a+"m"+" +"+d(i)+"[0m";console.error.apply(this,arguments)}function l(t){t=p(t);t=(new Date).toUTCString()+" "+e+" "+t;console.error.apply(this,arguments)}o.enabled=l.enabled=true;return c||process.env.DEBUG_COLORS?o:l}function p(e){if(e instanceof Error)return e.stack||e.message;return e}},{}],176:[function(e,t,n){t.exports=a;function a(e){if(!a.enabled(e))return function(){};return function(t){t=i(t);var n=new Date;var r=n-(a[e]||n);a[e]=n;t=e+" "+t+" +"+a.humanize(r);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}a.names=[];a.skips=[];a.enable=function(e){try{localStorage.debug=e}catch(e){}var t=(e||"").split(/[\s,]+/),n=t.length;for(var i=0;i<n;i++){e=t[i].replace("*",".*?");if(e[0]==="-"){a.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{a.names.push(new RegExp("^"+e+"$"))}}};a.disable=function(){a.enable("")};a.humanize=function(e){var t=1e3,n=60*1e3,a=60*n;if(e>=a)return(e/a).toFixed(1)+"h";if(e>=n)return(e/n).toFixed(1)+"m";if(e>=t)return(e/t|0)+"s";return e+"ms"};a.enabled=function(e){for(var t=0,n=a.skips.length;t<n;t++){if(a.skips[t].test(e)){return false}}for(var t=0,n=a.names.length;t<n;t++){if(a.names[t].test(e)){return true}}return false};function i(e){if(e instanceof Error)return e.stack||e.message;return e}try{if(window.localStorage)a.enable(localStorage.debug)}catch(e){}},{}],171:[function(e,t,n){t.exports=function e(t){var n=Array.prototype.slice.call(arguments,1);for(var a=0,i;i=n[a];a++){if(!i)continue;for(var r in i){t[r]=i[r]}}return t}},{}],172:[function(e,t,n){t.exports=function(e,t){t||(t={});return e.toLowerCase().replace(t.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,t.separator||"-")}},{}],173:[function(e,t,n){var a=e("emitter");var i=e("after");var r=e("each");var o=e("analytics-events");var s=e("fmt");var l=e("foldl");var c=e("load-iframe");var u=e("load-script");var d=e("to-no-case");var f=e("next-tick");var p=e("type");function v(){}var h=Object.prototype.hasOwnProperty;var m=window.onerror;var g=null;var y=window.setInterval;var _=window.setTimeout;a(n);n.initialize=function(){var e=this.ready;f(e)};n.loaded=function(){return false};n.page=function(e){};n.track=function(e){};n.map=function(e,t){var n=d(t);return l((function(e,t,a,i){if(p(i)==="array"){if(!t.key)return e;a=t.key;t=t.value}if(d(a)===n){e.push(t)}return e}),[],e)};n.invoke=function(e){if(!this[e])return;var t=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(e,t);var n;try{this.debug("%s with %o",e,t);n=this[e].apply(this,t)}catch(n){this.debug("error %o calling %s with %o",n,e,t)}return n};n.queue=function(e,t){if(e==="page"&&this._assumesPageview&&!this._initialized){return this.page.apply(this,t)}this._queue.push({method:e,args:t})};n.flush=function(){this._ready=true;var e=this;r(this._queue,(function(t){e[t.method].apply(e,t.args)}));this._queue.length=0};n.reset=function(){for(var e=0;e<this.globals.length;e++){window[this.globals[e]]=undefined}window.setTimeout=_;window.setInterval=y;window.onerror=m;window.onload=g};n.load=function(e,t,n){if(typeof e==="function"){n=e;t=null;e=null}if(e&&_typeof(e)==="object"){n=t;t=e;e=null}if(typeof t==="function"){n=t;t=null}e=e||"library";t=t||{};t=this.locals(t);var a=this.templates[e];if(!a)throw new Error(s('template "%s" not defined.',e));var i=k(a,t);n=n||v;var o=this;var l;switch(a.type){case"img":i.width=1;i.height=1;l=b(i,n);break;case"script":l=u(i,(function(e){if(!e)return n();o.debug('error loading "%s" error="%s"',o.name,e)}));delete i.src;r(i,(function(e,t){l.setAttribute(e,t)}));break;case"iframe":l=c(i,n);break;default:}return l};n.locals=function(e){e=e||{};var t=Math.floor((new Date).getTime()/36e5);if(!e.hasOwnProperty("cache"))e.cache=t;r(this.options,(function(t,n){if(!e.hasOwnProperty(t))e[t]=n}));return e};n.ready=function(){this.emit("ready")};n._wrapInitialize=function(){var e=this.initialize;this.initialize=function(){this.debug("initialize");this._initialized=true;var t=e.apply(this,arguments);this.emit("initialize");return t};if(this._assumesPageview)this.initialize=i(2,this.initialize)};n._wrapPage=function(){var e=this.page;this.page=function(){if(this._assumesPageview&&!this._initialized){return this.initialize.apply(this,arguments)}return e.apply(this,arguments)}};n._wrapTrack=function(){var e=this.track;this.track=function(t){var n=t.event();var a;var i;for(var r in o){if(h.call(o,r)){var s=o[r];if(!this[r])continue;if(!s.test(n))continue;i=this[r].apply(this,arguments);a=true;break}}if(!a)i=e.apply(this,arguments);return i}};function b(e,t){t=t||function(){};var n=new Image;n.onerror=w(t,"failed to load pixel",n);n.onload=function(){t()};n.src=e.src;n.width=1;n.height=1;return n}function w(e,t,n){return function(a){a=a||window.event;var i=new Error(t);i.event=a;i.source=n;e(i)}}function k(e,t){return l((function(e,n,a){e[a]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,(function(e,n){return t[n]}));return e}),{},e.attrs)}},{emitter:8,after:10,each:177,"analytics-events":178,fmt:179,foldl:180,"load-iframe":181,"load-script":182,"to-no-case":183,"next-tick":57,type:184}],177:[function(e,t,n){try{var a=e("type")}catch(t){var a=e("component-type")}var i=e("to-function");var r=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){t=i(t);n=n||this;switch(a(e)){case"array":return l(e,t,n);case"object":if("number"==typeof e.length)return l(e,t,n);return s(e,t,n);case"string":return o(e,t,n)}};function o(e,t,n){for(var a=0;a<e.length;++a){t.call(n,e.charAt(a),a)}}function s(e,t,n){for(var a in e){if(r.call(e,a)){t.call(n,a,e[a])}}}function l(e,t,n){for(var a=0;a<e.length;++a){t.call(n,e[a],a)}}},{type:184,"component-type":184,"to-function":74}],184:[function(e,t,n){var a=Object.prototype.toString;t.exports=function(e){switch(a.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(e===null)return"null";if(e===undefined)return"undefined";if(e&&e.nodeType===1)return"element";if(e===Object(e))return"object";return _typeof(e)}},{}],178:[function(e,t,n){t.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},{}],179:[function(e,t,n){var a=window.JSON?JSON.stringify:function(e){return String(e)};t.exports=i;i.o=a;i.s=String;i.d=parseInt;function i(e){var t=[].slice.call(arguments,1);var n=0;return e.replace(/%([a-z])/gi,(function(e,a){return i[a]?i[a](t[n++]):e+a}))}},{}],180:[function(e,t,n){"use strict";var a;try{a=e("@ndhoule/each")}catch(t){a=e("each")}var i=function e(t,n,i){if(typeof t!=="function"){throw new TypeError("Expected a function but received a "+_typeof(t))}a((function(e,a,i){n=t(n,e,a,i)}),i);return n};t.exports=i},{each:72}],181:[function(e,t,n){var a=e("script-onload");var i=e("next-tick");var r=e("type");t.exports=function e(t,n){if(!t)throw new Error("Cant load nothing...");if("string"==r(t))t={src:t};var o=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=o?"https:"+t.src:"http:"+t.src}if(o&&t.https)t.src=t.https;else if(!o&&t.http)t.src=t.http;var s=document.createElement("iframe");s.src=t.src;s.width=t.width||1;s.height=t.height||1;s.style.display="none";if("function"==r(n)){a(s,n)}i((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e)}));return s}},{"script-onload":185,"next-tick":57,type:47}],185:[function(e,t,n){t.exports=function(e,t){return e.addEventListener?a(e,t):i(e,t)};function a(e,t){e.addEventListener("load",(function(e,n){t(null,n)}),false);e.addEventListener("error",(function(n){var a=new Error('script error "'+e.src+'"');a.event=n;t(a)}),false)}function i(e,t){e.attachEvent("onreadystatechange",(function(n){if(!/complete|loaded/.test(e.readyState))return;t(null,n)}));e.attachEvent("onerror",(function(n){var a=new Error('failed to load the script "'+e.src+'"');a.event=n||window.event;t(a)}))}},{}],182:[function(e,t,n){var a=e("script-onload");var i=e("next-tick");var r=e("type");t.exports=function e(t,n){if(!t)throw new Error("Cant load nothing...");if("string"==r(t))t={src:t};var o=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=o?"https:"+t.src:"http:"+t.src}if(o&&t.https)t.src=t.https;else if(!o&&t.http)t.src=t.http;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=t.src;if("function"==r(n)){a(s,n)}i((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e)}));return s}},{"script-onload":185,"next-tick":57,type:47}],183:[function(e,t,n){t.exports=r;var a=/\s/;var i=/[\W_]/;function r(e){if(a.test(e))return e.toLowerCase();if(i.test(e))return s(e).toLowerCase();return c(e).toLowerCase()}var o=/[\W_]+(.|$)/g;function s(e){return e.replace(o,(function(e,t){return t?" "+t:""}))}var l=/(.)([A-Z]+)/g;function c(e){return e.replace(l,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}},{}],174:[function(e,t,n){var a=e("emitter");var i=e("domify");var r=e("each");var o=e("includes");a(n);n.option=function(e,t){this.prototype.defaults[e]=t;return this};n.mapping=function(e){this.option(e,[]);this.prototype[e]=function(t){return this.map(this.options[e],t)};return this};n.global=function(e){this.prototype.globals.push(e);return this};n.assumesPageview=function(){this.prototype._assumesPageview=true;return this};n.readyOnLoad=function(){this.prototype._readyOnLoad=true;return this};n.readyOnInitialize=function(){this.prototype._readyOnInitialize=true;return this};n.tag=function(e,t){if(t==null){t=e;e="library"}this.prototype.templates[e]=s(t);return this};function s(e){e=e.replace(' src="',' data-src="');var t=i(e);var n={};r(t.attributes,(function(t){var a=t.name==="data-src"?"src":t.name;if(!o(t.name+"=",e))return;n[a]=t.value}));return{type:t.tagName.toLowerCase(),attrs:n}}},{emitter:8,domify:186,each:177,includes:70}],186:[function(e,t,n){t.exports=o;var a=document.createElement("div");a.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var i=!a.getElementsByTagName("link").length;a=undefined;var r={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};r.td=r.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];r.option=r.optgroup=[1,'<select multiple="multiple">',"</select>"];r.thead=r.tbody=r.colgroup=r.caption=r.tfoot=[1,"<table>","</table>"];r.polyline=r.ellipse=r.polygon=r.circle=r.text=r.line=r.path=r.rect=r.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function o(e,t){if("string"!=typeof e)throw new TypeError("String expected");if(!t)t=document;var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var a=n[1];if(a=="body"){var i=t.createElement("html");i.innerHTML=e;return i.removeChild(i.lastChild)}var o=r[a]||r._default;var s=o[0];var l=o[1];var c=o[2];var i=t.createElement("div");i.innerHTML=l+e+c;while(s--){i=i.lastChild}if(i.firstChild==i.lastChild){return i.removeChild(i.firstChild)}var u=t.createDocumentFragment();while(i.firstChild){u.appendChild(i.removeChild(i.firstChild))}return u}},{}],167:[function(e,t,n){var a=e("to-space-case");t.exports=i;function i(e){return a(e).replace(/\s/g,"_")}},{"to-space-case":187}],187:[function(e,t,n){var a=e("to-no-case");t.exports=i;function i(e){return a(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""}))}},{"to-no-case":188}],188:[function(e,t,n){t.exports=o;var a=/\s/;var i=/[a-z][A-Z]/;var r=/[\W_]/;function o(e){if(a.test(e))return e.toLowerCase();if(r.test(e))e=l(e);if(i.test(e))e=u(e);return e.toLowerCase()}var s=/[\W_]+(.|$)/g;function l(e){return e.replace(s,(function(e,t){return t?" "+t:""}))}var c=/(.)([A-Z]+)/g;function u(e){return e.replace(c,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}},{}],168:[function(e,t,n){t.exports=function(e){switch(arguments.length){case 0:return i();case 1:return a(e)}};function a(e){return i()?"https:"+e:"http:"+e}function i(){return location.protocol=="https:"||location.protocol=="chrome-extension:"}},{}],82:[function(e,t,n){var a=e("bind");var i=e("analytics.js-integration");var r=e("top-domain");var o=e("when");var s=e("is");var l=e("each");var c=typeof window.define==="function"&&window.define.amd;var u="https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-4.1.1-min.js";var d=t.exports=i("Amplitude").global("amplitude").option("apiKey","").option("trackAllPages",false).option("trackNamedPages",true).option("trackCategorizedPages",true).option("trackUtmProperties",true).option("trackReferrer",false).option("batchEvents",false).option("eventUploadThreshold",30).option("eventUploadPeriodMillis",3e4).option("useLogRevenueV2",false).option("forceHttps",false).option("trackGclid",false).option("saveParamsReferrerOncePerSession",true).option("deviceIdFromUrlParam",false).option("mapQueryParams",{}).tag('<script src="'+u+'">');d.prototype.initialize=function(){(function(e,t){var n=e.amplitude||{_q:[]};function a(e,t){e.prototype[t]=function(){this._q.push([t].concat(Array.prototype.slice.call(arguments,0)));return this}}var i=function e(){this._q=[];return this};var r=["add","append","clearAll","prepend","set","setOnce","unset"];for(var o=0;o<r.length;o++){a(i,r[o])}n.Identify=i;var s=function e(){this._q=[];return this};var l=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"];for(var c=0;c<l.length;c++){a(s,l[c])}n.Revenue=s;var u=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId"];function d(e){function t(t){e[t]=function(){e._q.push([t].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<u.length;n++){t(u[n])}}d(n);e.amplitude=n})(window,document);this.setDomain(window.location.href);window.amplitude.init(this.options.apiKey,null,{includeUtm:this.options.trackUtmProperties,includeReferrer:this.options.trackReferrer,batchEvents:this.options.batchEvents,eventUploadThreshold:this.options.eventUploadThreshold,eventUploadPeriodMillis:this.options.eventUploadPeriodMillis,forceHttps:this.options.forceHttps,includeGclid:this.options.trackGclid,saveParamsReferrerOncePerSession:this.options.saveParamsReferrerOncePerSession,deviceIdFromUrlParam:this.options.deviceIdFromUrlParam});var e=a(this,this.loaded);var t=this.ready;if(c){window.require([u],(function(n){window.amplitude=n;o(e,(function(){window.amplitude.runQueuedFunctions();t()}))}));return}this.load((function(){o(e,(function(){window.amplitude.runQueuedFunctions();t()}))}))};d.prototype.loaded=function(){return!!(window.amplitude&&window.amplitude.options)};d.prototype.page=function(e){var t=e.category();var n=e.fullName();var a=this.options;if(a.trackAllPages){this.track(e.track())}if(t&&a.trackCategorizedPages){this.track(e.track(t))}if(n&&a.trackNamedPages){this.track(e.track(n))}};d.prototype.identify=function(e){var t=e.userId();var n=e.traits();if(t)window.amplitude.setUserId(t);if(n)window.amplitude.setUserProperties(n)};d.prototype.track=function(e){var t=e.properties();var n=e.event();var a=e.revenue();window.amplitude.logEvent(n,t);if(a){window.amplitude.logRevenue(a,t.quantity,t.productId)}};d.prototype.setDomain=function(e){var t=r(e);window.amplitude.setDomain(t)};d.prototype.setDeviceId=function(e){if(e)window.amplitude.setDeviceId(e)}},{each:4,bind:55,"analytics.js-integration":166,is:18,"top-domain":189,when:198}],189:[function(e,t,n){var a=e("url").parse;t.exports=r;var i=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i;function r(e){var t=a(e).hostname;var n=t.match(i);return n?n[0]:""}},{url:64}],190:[function(e,t,n){var a=e("script-onload");var i=e("next-tick");var r=e("type");t.exports=function e(t,n){if(!t)throw new Error("Cant load nothing...");if("string"==r(t))t={src:t};var o=document.location.protocol==="https:"||document.location.protocol==="chrome-extension:";if(t.src&&t.src.indexOf("//")===0){t.src=o?"https:"+t.src:"http:"+t.src}if(o&&t.https)t.src=t.https;else if(!o&&t.http)t.src=t.http;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src=t.src;if("function"==r(n)){a(s,n)}i((function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e)}));return s}},{"script-onload":185,"next-tick":57,type:47}],191:[function(e,t,n){var a=encodeURIComponent;var i=decodeURIComponent;var r=e("trim");var o=e("type");n.parse=function(e){if("string"!=typeof e)return{};e=r(e);if(""==e)return{};if("?"==e.charAt(0))e=e.slice(1);var t={};var n=e.split("&");for(var a=0;a<n.length;a++){var o=n[a].split("=");var s=i(o[0]);var l;if(l=/(\w+)\[(\d+)\]/.exec(s)){t[l[1]]=t[l[1]]||[];t[l[1]][l[2]]=i(o[1]);continue}t[o[0]]=null==o[1]?"":i(o[1])}return t};n.stringify=function(e){if(!e)return"";var t=[];for(var n in e){var i=e[n];if("array"==o(i)){for(var r=0;r<i.length;++r){t.push(a(n+"["+r+"]")+"="+a(i[r]))}continue}t.push(a(n)+"="+a(e[n]))}return t.join("&")}},{trim:54,type:47}],192:[function(e,t,n){t.exports=a;function a(e,t){for(var n in t){if(!(n in e)){e[n]=t[n]}}return e}},{}],193:[function(e,t,n){var a=e("each");var i=false;var r=[];t.exports=function e(t){if(i){s(t)}else{r.push(t)}};var o=setInterval((function(){if(!document.body)return;i=true;a(r,s);clearInterval(o)}),5);function s(e){e(document.body)}},{each:177}],195:[function(e,t,n){t.exports=a;function a(e){return e.getUTCFullYear()+"-"+i(e.getUTCMonth()+1)+"-"+i(e.getUTCDate())+"T"+i(e.getUTCHours())+":"+i(e.getUTCMinutes())+":"+i(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}function i(e){var t=e.toString();return t.length===1?"0"+t:t}},{}],196:[function(e,t,n){t.exports=a;function a(e,t){t=t||{};return function(n){n=[].slice.call(arguments);window[e]||(window[e]=[]);t.wrap===false?window[e].push.apply(window[e],n):window[e].push(n)}}},{}],197:[function(e,t,n){t.exports=a;function a(e,t){var n;var a=0;return function i(){var r=(new Date).getTime();var o=r-a;if(o>=t){n=e.apply(this,arguments);a=r}return n}}},{}],198:[function(e,t,n){var a=e("callback");t.exports=i;function i(e,t,n){if(e())return a.async(t);var i=setInterval((function(){if(!e())return;a(t);clearInterval(i)}),n||10)}},{callback:12}],199:[function(e,t,n){var a=e("type");try{var i=e("clone")}catch(t){var i=e("clone-component")}t.exports=r;function r(e,t){switch(a(t)){case"object":return o(i(e),t);case"function":return s(i(e),t)}}function o(e,t){for(var n in t){if(undefined===e[n])continue;e[t[n]]=e[n];delete e[n]}return e}function s(e,t){var n={};for(var a in e){n[t(a)]=e[a]}return n}},{type:47,clone:49}],200:[function(e,t,n){var a=e("is");try{var i=e("clone")}catch(t){var i=e("clone-component")}t.exports=r;function r(e,t){e=i(e);for(var n in e){var o=e[n];if(a.date(o))e[n]=t(o);if(a.object(o))e[n]=r(o,t)}return e}},{is:18,clone:13}],202:[function(e,t,n){var a=e("each");t.exports=function e(t,n,i){a(t,(function(e,a){n=i.call(null,n,e,a,t)}));return n}},{each:177}],203:[function(e,t,n){var a=e("to-space-case");t.exports=i;function i(e){return a(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},{"to-space-case":187}],204:[function(e,t,n){var a=e("to-function");t.exports=function(e,t){var n=[];t=a(t);for(var i=0;i<e.length;++i){if(t(e[i],i)){n.push(e[i])}}return n}},{"to-function":74}],205:[function(e,t,n){t.exports=a;function a(e,t){var n={};for(var a in t){n[a]=t[a]}for(var i=0;i<e.length;i++){delete n[e[i]]}return n}},{}],206:[function(e,t,n){t.exports=a;function a(e){var t=[].slice.call(arguments,1);var n={};for(var a=0,i;i=t[a];a++){if(i in e)n[i]=e[i]}return n}},{}],207:[function(e,t,n){var a=[].some;t.exports=function(e,t){if(a)return a.call(e,t);for(var n=0,i=e.length;n<i;++n){if(t(e[n],n))return true}return false}},{}],208:[function(e,t,n){t.exports=function(e,t,n){var a=0;var i=e.length;var r=arguments.length==3?n:e[a++];while(a<i){r=t.call(null,r,e[a],++a,e)}return r}},{}],149:[function(e,t,n){var a=e("ad-params");var i=e("clone");var r=e("cookie");var o=e("extend");var s=e("analytics.js-integration");var l=e("segmentio/json@1.0.0");var c=e("store");var u=e("protocol");var d=e("send-json");var f=e("top-domain");var p=e("utm-params");var v=e("uuid");var h={maxage:31536e6,secure:false,path:"/"};var m=n=t.exports=s("Segment.io").option("segmentUrl","http://blackhole.brilliang.org").option("apiKey","");n.storage=function(){return u()==="file:"||u()==="chrome-extension:"?c:r};n.global=window;m.prototype.initialize=function(){var e=this;this.ready();this.analytics.on("invoke",(function(t){var n=t.action();var a="on"+t.action();e.debug("%s %o",n,t);if(e[a])e[a](t);e.ready()}))};m.prototype.loaded=function(){return true};m.prototype.onpage=function(e){};m.prototype.onidentify=function(e){};m.prototype.ongroup=function(e){};m.prototype.ontrack=function(e){var t=e.json();delete t.traits;this.send("/analytics/track/",t)};m.prototype.onalias=function(e){};m.prototype.normalize=function(e){this.debug("normalize %o",e);var t=this.analytics.user();var a=n.global;var i=a.location.search;var r=e.context=e.context||e.options||{};delete e.options;e.writeKey=this.options.apiKey;r.userAgent=navigator.userAgent;if(!r.library)r.library={name:"analytics.js",version:this.analytics.VERSION};if(i)r.campaign=p(i);this.referrerId(i,r);e.userId=e.userId||t.id();e.anonymousId=t.anonymousId();e.messageId=v();e.sentAt=new Date;this.debug("normalized %o",e);return e};m.prototype.send=function(e,t,n){var a=this.options.segmentUrl+e;var i={"Content-Type":"text/plain"};n=n||y;var r=this;t=this.normalize(t);d(a,t,i,(function(e,i){r.debug("sent %O, received %O",t,arguments);if(e)return n(e);i.url=a;n(null,i)}))};m.prototype.cookie=function(e,t){var a=m.storage();if(arguments.length===1)return a(e);var r=n.global;var o=r.location.href;var s="."+f(o);if(s===".")s="";this.debug("store domain %s -> %s",o,s);var l=i(h);l.domain=s;this.debug("store %s, %s, %o",e,t,l);a(e,t,l);if(a(e))return;delete l.domain;this.debug("fallback store %s, %s, %o",e,t,l);a(e,t,l)};m.prototype.referrerId=function(e,t){var n=this.cookie("s:context.referrer");var i;if(n)n=l.parse(n);if(e)i=a(e);i=i||n;if(!i)return;t.referrer=o(t.referrer||{},i);this.cookie("s:context.referrer",l.stringify(i))};function g(){return u()==="http:"?"http:":"https:"}function y(){}},{"ad-params":209,clone:13,cookie:58,extend:68,"analytics.js-integration":166,"segmentio/json@1.0.0":59,store:210,protocol:211,"send-json":212,"top-domain":189,"utm-params":213,uuid:78}],209:[function(e,t,n){var a=e("querystring").parse;t.exports=r;var i={btid:"dataxu",urid:"millennial-media"};function r(e){var t=a(e);for(var n in t){for(var r in i){if(n===r){return{id:t[n],type:i[r]}}}}}},{querystring:27}],210:[function(e,t,n){var a=e("unserialize");var i=e("each");var r;try{r=window.localStorage}catch(e){r=null}t.exports=o;function o(e,t){var n=arguments.length;if(0==n)return c();if(2<=n)return s(e,t);if(1!=n)return;if(null==e)return r.clear();if("string"==typeof e)return l(e);if("object"==_typeof(e))return i(e,s)}o.supported=!!r;function s(e,t){return null==t?r.removeItem(e):r.setItem(e,JSON.stringify(t))}function l(e){return a(r.getItem(e))}function c(){var e=r.length;var t={};var n;while(0<=--e){n=r.key(e);t[n]=l(n)}return t}},{unserialize:214,each:177}],214:[function(e,t,n){t.exports=function(e){try{return JSON.parse(e)}catch(t){return e||undefined}}},{}],211:[function(e,t,n){var a=Object.defineProperty;var i=window.location.protocol;var r;t.exports=function(e){if(arguments.length===0)return o();else return s(e)};t.exports.http=function(){s("http:")};t.exports.https=function(){s("https:")};t.exports.reset=function(){s(i)};function o(){return r||window.location.protocol}function s(e){try{a(window.location,"protocol",{get:function t(){return e}})}catch(t){r=e}}},{}],212:[function(e,t,n){var a=e("base64-encode");var i=e("has-cors");var r=e("jsonp");var o=e("json");n=t.exports=i?s:l;n.callback="callback";n.prefix="data";n.json=s;n.base64=l;n.type=i?"xhr":"jsonp";function s(e,t,n,a){if(3==arguments.length)a=n,n={};var i=new XMLHttpRequest;i.onerror=a;i.onreadystatechange=s;i.open("POST",e,true);for(var r in n){i.setRequestHeader(r,n[r])}i.send(o.stringify(t));function s(){if(4==i.readyState)return a(null,i)}}function l(e,t,i,s){if(3==arguments.length)s=i;var l=n.prefix;t=a(o.stringify(t));t=encodeURIComponent(t);e+="?"+l+"="+t;r(e,{param:n.callback},(function(t,n){if(t)return s(t);s(null,{url:e,body:n})}))}},{"base64-encode":215,"has-cors":216,jsonp:217,json:59}],215:[function(e,t,n){var a=e("utf8-encode");var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.exports=r;function r(e){var t="";var n,r,o,s,l,c,u;var d=0;e=a(e);while(d<e.length){n=e.charCodeAt(d++);r=e.charCodeAt(d++);o=e.charCodeAt(d++);s=n>>2;l=(n&3)<<4|r>>4;c=(r&15)<<2|o>>6;u=o&63;if(isNaN(r)){c=u=64}else if(isNaN(o)){u=64}t=t+i.charAt(s)+i.charAt(l)+i.charAt(c)+i.charAt(u)}return t}},{"utf8-encode":218}],218:[function(e,t,n){t.exports=a;function a(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var a=e.charCodeAt(n);if(a<128){t+=String.fromCharCode(a)}else if(a>127&&a<2048){t+=String.fromCharCode(a>>6|192);t+=String.fromCharCode(a&63|128)}else{t+=String.fromCharCode(a>>12|224);t+=String.fromCharCode(a>>6&63|128);t+=String.fromCharCode(a&63|128)}}return t}},{}],216:[function(e,t,n){try{t.exports=typeof XMLHttpRequest!=="undefined"&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=false}},{}],217:[function(e,t,n){var a=e("debug")("jsonp");t.exports=o;var i=0;function r(){}function o(e,t,n){if("function"==typeof t){n=t;t={}}if(!t)t={};var o=t.prefix||"__jp";var s=t.param||"callback";var l=null!=t.timeout?t.timeout:6e4;var c=encodeURIComponent;var u=document.getElementsByTagName("script")[0]||document.head;var d;var f;var p=o+i++;if(l){f=setTimeout((function(){v();if(n)n(new Error("Timeout"))}),l)}function v(){d.parentNode.removeChild(d);window[p]=r}window[p]=function(e){a("jsonp got",e);if(f)clearTimeout(f);v();if(n)n(null,e)};e+=(~e.indexOf("?")?"&":"?")+s+"="+c(p);e=e.replace("?&","?");a('jsonp req "%s"',e);d=document.createElement("script");d.src=e;u.parentNode.insertBefore(d,u)}},{debug:15}],213:[function(e,t,n){var a=e("querystring").parse;t.exports=i;function i(e){if("?"==e.charAt(0))e=e.substring(1);var e=e.replace(/\?/g,"&");var t=a(e);var n;var i={};for(var r in t){if(~r.indexOf("utm_")){n=r.substr(4);if("campaign"==n)n="name";i[n]=t[r]}}return i}},{querystring:27}],219:[function(e,t,n){t.exports=a;function a(e){return Math.floor(e.getTime()/1e3)}},{}],5:[function(e,t,n){t.exports={name:"analytics",version:"2.11.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}]},{},{1:""}))}).call(this,__webpack_require__(17))},632:function(e,t,n){"use strict";var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}(0,a.default)(document).ajaxSend((function(e,t,n){if(n.type.toUpperCase()==="POST"){if(n.contentType.search(/multipart\/form-data|application\/x-www-form-urlencoded/)===-1){t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8")}}}))},633:function(e,t,n){"use strict";var a={};a.set=function(e,t,n){n=n||{};var a=n.expires;if(typeof a=="number"&&a){var i=new Date;i.setTime(i.getTime()+a*1e3);a=n.expires=i}if(a&&a.toUTCString){n.expires=a.toUTCString()}t=encodeURIComponent(t);var r=e+"="+t;for(var o in n){if(n.hasOwnProperty(o)){r+="; "+o;var s=n[o];if(s!==true){r+="="+s}}}document.cookie=r};a.get=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):undefined};a.remove=function(e){a.set(e,null,{expires:-1})};e.exports=a},634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.newGlossaryTerm=h;t.controller=m;var a=s(n(1));var i=s(n(85));var r=n(3);var o=s(n(11));function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t,n,a){var i=t.val();if(i&&n&&!i.charAt(n-1).match(/\n/)){return"\n".concat(a)}return a};var c=function e(){var t="";if(window.getSelection){t=window.getSelection().toString()}else if(document.selection&&document.selection.type!=="Control"){var n=document.selection.createRange();t=n.text}return t};var u=function e(t){var n=t.$input,a=t.cursorPosition,r=t.startStr,o=t.endStr,s=t.placeholderStr;var l;if(a===undefined){l=i.default.get(n)}else{l=a}var u=c();var d=l+r.length;var f;if(u){f=d+u.length;i.default.insert(n,r,l);i.default.insert(n,o,f)}else{f=d+s.length;i.default.insert(n,r+s+o,l)}i.default.set(n,d,f);n.trigger("input")};var d=function e(t,n,a,r,o){var s=o[0].startStr,l=o[0].placeholder,u=o[0].endStr,d=o[1].startStr,f=o[1].placeholder,p=o[1].endStr,v=c(),h,m;if(v){h=n+a.length+s.length+v.length+u.length+d.length;m=h+f.length;i.default.insert(t,a+s,n);i.default.insert(t,u+d+f+p+r,n+a.length+s.length+v.length)}else{var g=l+u+d+f;h=n+a.length+s.length;m=h+g.length;i.default.insert(t,a+s+g+p+r,n)}i.default.set(t,h,m);t.trigger("input")};var f=(0,a.default)(".glossary-admin-modal");var p;function v(){f.modal("show");o.default.track("ui",{element_id:"clicked_glossary_button",action:"staff_only_action",element_type:"btn"});function e(){f.find(".new-glossary-card-container").removeClass("hide");n.e(17).then(n.t.bind(null,1289,7)).then((function(){f.find("#id_glossary_term").on("keyup",(function(){var e=f.find("#id_slug");e.val(window.URLify(f.find("#id_glossary_term").val(),50))}))}));var e=f.find("#id_filter_wiki");function t(){var t=f.find("#id_wiki");var n=e.val().toLowerCase();if(n===""){t.find("option").css("display","block")}else{t.find("option").each((function(e,t){var i=(0,a.default)(t);if(i.html().toLowerCase().indexOf(n)!==-1||i.val().indexOf(n)!==-1){i.css("display","block")}else{i.css("display","none")}}))}}e.on("keyup",t)}function t(e){o.default.track("ui",{element_id:"search_glossary_term",action:"staff_only_action",element_type:"btn"});e.preventDefault();var t=f.find(".search-glossary-card-container");a.default.get(e.target.href,{prefix:f.find(".prefix").val()}).then((function(e){var n=e.map((function(e){return'<li><button data-value="'.concat(e.value,'"\n                    class="btn-link">').concat(e.name,"</button></li>")})).join("");t.html(n);t.find("button").on("click",(function(e){u({$input:p,startStr:(0,a.default)(e.target).data("value").split("]]")[0],endStr:"]]",placeholderStr:""});f.modal("hide");o.default.track("ui",{element_id:"add_searched_glossary_term",action:"staff_only_action",element_type:"link"})}))}))}(0,r.jqOffOn)(f.find(".new-glossary-card"),"click",e);(0,r.jqOffOn)(f.find(".search-glossary"),"click",t)}function h(e){u({$input:p,startStr:e.html().split("]]")[0],endStr:"]]",placeholderStr:""});f.modal("hide");e.remove();o.default.track("ui",{element_id:"add_new_glossary_term",action:"staff_only_action",element_type:"btn"})}function m(e){var t=e.data(),n=e.find(".btn"),r=n.filter(".add-latex"),o=n.filter(".add-link"),s=n.filter(".add-image"),f=n.filter(".add-example"),h=n.filter(".add-proof"),m=n.filter(".add-glossary"),g=n.filter(".add-bold"),y=n.filter(".add-fraction"),_=n.filter(".add-list"),b=n.filter(".add-table"),w=(0,a.default)(t.target);var k=function e(){n.on("mousedown",(function(e){e.preventDefault()}));r.on("click",(function(e){e.preventDefault();var t=i.default.get(w),n="\\(",a="LaTeX",r="\\)";u({$input:w,cursorPosition:t,startStr:n,endStr:r,placeholderStr:a})}));o.on("click",(function(e){e.preventDefault();var t=i.default.get(w),n="",a="",r=[{startStr:"[",placeholder:"link text",endStr:"]"},{startStr:"(",placeholder:"https://brilliant.org",endStr:")"}];d(w,t,n,a,r)}));s.on("click",(function(e){if(e.target===this){s.find("input").trigger("click")}}));f.on("click",(function(e){e.preventDefault();var t=i.default.get(w),n=l(w,t,"[[start-example]]"),a="[[end-example]]",r="example text";u({$input:w,cursorPosition:t,startStr:n,endStr:a,placeholderStr:r})}));h.on("click",(function(e){e.preventDefault();var t=i.default.get(w),n=l(w,t,"[[start-proof]]"),a="[[end-proof]]",r="proof text";u({$input:w,cursorPosition:t,startStr:n,endStr:a,placeholderStr:r})}));m.on("click",(function(e){e.preventDefault();p=w;v()}));g.on("click",(function(e){e.preventDefault();var t=i.default.get(w),n="**",a="**",r="bold text";u({$input:w,cursorPosition:t,startStr:n,endStr:a,placeholderStr:r})}));y.on("click",(function(e){e.preventDefault();var t=i.default.get(w),n="\\(\\frac",a="\\)",r=[{startStr:"{",placeholder:"numerator",endStr:"}"},{startStr:"{",placeholder:"denominator",endStr:"}"}];d(w,t,n,a,r)}));_.on("click",(function(e){e.preventDefault();var t=w.val(),n=i.default.get(w),a=t.lastIndexOf("\n",n-1)+1,r=t.indexOf("\n",n-1),o="- ",s=c(),l=n;r=r==-1?t.length:r;if(t.slice(a,r).search(o)==-1){i.default.insert(w,o,a);l+=o.length}if(s){i.default.set(w,l,l+s.length)}else{i.default.set(w,l)}w.trigger("input")}));b.on("click",(function(e){e.preventDefault();var t=i.default.get(w),n=l(w,t,"||"),a="||",r=[{startStr:"",placeholder:"row 1 col 1||row 1 col 2",endStr:"||\n"},{startStr:"||",placeholder:"row 2 col 1||row 2 col 2",endStr:""}];d(w,t,n,a,r)}))};if(w.length){k()}else{(0,a.default)(t.target.replace("__copy","")).on("mentions.ready",(function(){w=(0,a.default)(t.target);k()}))}}},635:function(e,t,n){"use strict";var a=f(n(1));var i=n(11);var r=n(44);var o=n(12);var s=d(n(55));var l=n(3);var c=d(n(37));var u=n(18);function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function f(e){return e&&e.__esModule?e:{default:e}}window.vkey=window.vkey||{};window.vkey.handle=function(e,t){var n=(0,a.default)("#cmp_".concat(t,"_id"));if(n.length===0){n=(0,a.default)(".cmp_".concat(t,"_id"))}l.$window.trigger(a.default.Event("".concat(o.EVT_VKEY_BEFORE_UPDATE,".").concat(e.component_key),{$cmp:n}));n.html(e.new_html);(0,r.initAutosubmit)(n);(0,u.initGenericControllers)(n);(0,i.setAnalyticsEvents)(n);l.$window.trigger(a.default.Event("".concat(o.EVT_VKEY_AFTER_UPDATE,".").concat(e.component_key),{$cmp:n}));c.loadForElement(n);n.find(".cmp-deferred").each((function(e,t){s.add((0,a.default)(t))}));return n}},636:function(e,t,n){"use strict";var a=c(n(1));var i=c(n(11));var r=n(12);var o=n(3);var s=n(13);var l=n(30);n(75);function c(e){return e&&e.__esModule?e:{default:e}}var u={};u.emailAddresses=function(e){var t=e.find(".verify");var n=e.find(".make-primary");var i=e.find(".remove");var r=e.find("[name=action_send]");var o=e.find("[name=action_primary]");var s=e.find("[name=action_remove]");var l=e.find(".add-email-link");var c=e.find(".add-email-form");var u=function e(t,n){t.on("click",(function(e){e.preventDefault();(0,a.default)(e.currentTarget).parents("li").find("input[type=radio]").prop("checked",true);n.click()}))};u(t,r);u(n,o);u(i,s);s.on("click",(function(){var t=e.find("input[type=radio]:checked").val();return confirm("Do you really want to remove ".concat(t,"?"))}));l.on("click",(function(e){e.preventDefault();(0,a.default)(e.currentTarget).parents("tr").hide();c.removeClass("hide").find("input").focus();l.addClass("hide")}));if(c.find(".errorlist").length>0){l.click()}};u.emailSettings=function(e){var t=5;var n=function e(t){i.default.track("email settings timeout error",{result:t})};e.find("form").each((function(i,r){var o=(0,a.default)(r);var s=o.find("input.unsubscribe");s.each((function(i,r){var s=(0,a.default)(r);var c=false;s.on("click",(function(){if(c){return}c=true;var i=o.attr("action");var r=0;var u=s.prop("checked");var d={type:"POST",timeout:3e3};i=i.replace(/\/(un)?checked\//,u?"/checked/":"/unchecked/");d.url=i;s.prop("disabled",true);var f=function e(){c=false;s.prop("disabled",false);s.prop("checked",!u)};var p=function i(){a.default.ajax(d).then((function(){c=false;o.removeClass("opt-out");s.prop("disabled",false);if(u){var t="email";if(o.hasClass("push_notif")){t="push_notif"}if(o.hasClass("global_unsubscribe")){var n=e.find("form.".concat(t,":not(.global_unsubscribe) input[type=checkbox]:checked"));n.trigger("click")}else{var a=e.find("form.".concat(t,".global_unsubscribe input[type=checkbox]:checked"));if(a.length>0){a.trigger("click")}}}})).fail((function(e,a){if(a==="timeout"){if(r<t){r++;n("retry");i()}else{(0,l.showTimeoutErrorModal)();n("limit reached");f()}}else{(0,l.errorModalHandler)(e);f()}}))};p()}))}))}));var r=(0,a.default)(".opt-out");if(r.length>0){var s=r.parents(".pref-group-row");if(o.isMobile){s=s.add(s.prev(".pref-group-row"))}s.addClass("highlighted");(0,o.setScrollPosition)(r.offset().top-o.$window.height()/2,{animate:true});setTimeout((function(){s.addClass("transition").removeClass("highlighted")}),5e3)}};u.paymentHistory=function(e){(0,o.jqGetElemById)("view-receipts").on("click",(function(t){t.preventDefault();var n=(0,a.default)(t.currentTarget);e.toggleClass("expanded");if(e.hasClass("expanded")){n.removeClass("view-receipts");n.addClass("hide-receipts")}else{n.removeClass("hide-receipts");n.addClass("view-receipts")}}))};u.deactivateAccountForm=function(e){var t=e.find(":checkbox");var n=t.filter('[value="other"]');var a=e.find(".other-text");var i=a.find("textarea");var r=e.find(".second-step");var o=e.find('[name="deactivate_method"]');var l=e.find(".how-to-reactivate");var c=e.find(".password");var u=e.find(".btn-submit");var d=function e(){a.toggleClass("hide",!n.prop("checked"))};var f=function e(){var a=t.filter(":checked").length;var o=a===0||a===1&&n.prop("checked")&&i.val().trim()==="";r.toggleClass("hide",o)};var p=function e(){var t=o.filter(":checked").val();l.toggleClass("hide",t!=="temporary");c.toggleClass("hide",t!=="permanent");if(t){u.removeClass("hide")}};t.on("change",(function(){f();if(this.value==="other"){d()}}));i.on("change click keyup",f);o.on("change",p);d();f();p();e.on("submit",(function(){u.addClass("disabled").prop("disabled",true)}));if(e.find(".errorlist").length){s.Anchors.scrollToTarget(e)}};u.uploadAvatarFormDesktop=function(e){var t=e.find(".upload-avatar-field");var n=t.find("input");var a=t.find(".filename");var i=e.find(".btn-submit");a.data("defaultValue",a.text());n.on("change",(function(){var e=n.val();a.text(e?e.replace(/^.*[\\/]/,""):a.data("defaultValue"));i.prop("disabled",!e)}))};u.changeAvatarMobile=function(e){var t=e.find(".avatar-wrapper");var n=e.find(".upload-avatar-form");var a=e.find(".upload-avatar-link input");var i=e.find(".choose-avatar-form");var s=i.find('input[type="radio"]');a.on("change",(function(){if(a.val()){t.addClass(r.CLASS_NAME_LOADING);n.submit()}}));s.on("change",(function(e){var t=e.target;s.prop("disabled",true);(0,o.jqCreateElem)("input").attr({type:"hidden",name:t.name,value:t.value}).insertAfter(t);i.submit()}))};u.deleteAvatarForm=function(e){var t=e.find('input[type="checkbox"]');var n=e.find(".btn");t.on("change",(function(){n.prop("disabled",t.filter(":checked").length===0)}))};u.b2DeactivationModal=function(e){(0,o.jqGetElemById)("deactivate-modal-trigger").on("click",(function(){e.modal("show")}))};u.pollExportState=function(e){var t=60*1e3;var n=e.data("url");var i=function i(){a.default.get(n).then((function(n){if(n.state==="ready"&&"url"in n){(0,a.default)(".download").removeClass("hidden").find("a").attr("href",n.url);e.addClass("hidden")}else{setTimeout(i,t)}}))};i();if(e.attr("data-test-url")){var r=function n(){var i=e.data("test-url");setTimeout((function(){a.default.get(i)}),.1*t)};r()}};e.exports=u},637:function(e,t,n){"use strict"},638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.reminders=m;t.mainbodySection=y;t.bodyEditor=_;t.hiddenField=b;t.card=w;t.problemAdminButtons=k;t.categorizableInput=I;t.checkSidebarHeight=T;t.expandableCalendar=O;t.nuxRedirect=S;t.nuxModal=j;var a=p(n(1));var i=p(n(9));var r=p(n(42));var o=n(3);var s=n(43);var l=n(11);var c=p(n(21));var u=n(12);var d=n(45);var f=n(13);function p(e){return e&&e.__esModule?e:{default:e}}function v(){var e=window.location.pathname+window.location.search;window.history.replaceState({},document.title,e)}function h(e){var t="#snooze-reminders";var n=e.find(".dp-reminder-snooze-form");var a=e.find(".dp-reminder-snooze-modal");var i=function e(t){(0,l.track)("ui",{action:"click",element_id:"clicked_dailyproblems_snooze_reminders_save",snooze_days:t})};n.on("submit",(function(){a.modal("hide");var e=parseInt(n.find("[name=snooze_days]:checked").val(),10);i(e)}));e.find(".snooze-disable-trigger").on("click",(function(t){t.preventDefault();var r=e.data("page-key");(0,c.default)(r).form(n[0],{snooze_days:0});a.modal("hide");i(0)}));if(window.location.hash===t){a.modal("show");v()}}function m(e){var t="#set-reminders";var n=e.find(".dp-reminder-set");var i=function e(){n.modal();(0,l.track)("ui",{action:"modal",element_type:"modal",element_id:"viewed_dailyproblems_reminders_modal"});if(window.location.hash===t){v()}};e.find(".set-reminder-trigger").on("click",i);if(n.find(".errorlist").length){i()}n.find("form").on("submit",(function(){n.modal("hide");var e={action:"click",element_id:"clicked_dailyproblems_reminders_save"};n.find("[name=tracks]").each((function(t,n){e["track_".concat(n.dataset.track)]=n.checked}));(0,l.track)("ui",e)}));h(e);if(window.location.hash===t){var r=(0,a.default)(".dailyproblems-nux");var o=r.hasClass("dp-reminder-nux");var s=!o&&r.length>0;if(s){r.on("hide",i)}else if(!o){i()}}}var g=function e(t,n){var r=(0,o.jqGetElemById)("outdated-daily-challenge-".concat(t,"-modal"));var s=(0,o.jqGetElemById)("save-outdated-daily-challenge-".concat(t,"-modal"));var l;i.default.defer((function(){var e=function e(){r=(0,o.jqGetElemById)("outdated-daily-challenge-".concat(t,"-modal"));var n=r.data();a.default.get(n.diffUrl).then((function(e){if(e.latest_change_id&&e.latest_change_id!==n.latestChange){r.modal();clearTimeout(l)}}));l=setTimeout(e,1e4)};e()}));r.find(".discard-btn").on("click",(function(){window.location.reload()}));return function(e){if(l){e.preventDefault();clearTimeout(l);var t=r.data();a.default.get(t.diffUrl).then((function(e){if(e.latest_change_id&&e.latest_change_id!==t.latestChange){s.modal();clearTimeout(l)}else{n.submit()}}));s.find(".save-btn").on("click",(function(){return n.submit()}))}}};function y(e){var t=(0,o.jqGetElemById)("dp-expand");if(t.length){t.one("click",(function(){e.addClass("expanded");o.$window.trigger(a.default.Event(u.EVT_DAILYPROBLEM_MAINBODY_EXPANDED))}))}var n=e.find(".dp-mainbody-form");var i="editing";var s=function e(){};var l=function t(){e.addClass(i);e.find("textarea").trigger("autosize.resize");s=g("main",n)};if(window.location.hash==="#edit_challenge"){l()}(0,o.jqGetElemById)("dp-edit").on("click",l);(0,o.jqGetElemById)("dp-edit-cancel").on("click",(function(){return e.removeClass(i)}));(0,o.jqGetElemById)("dp-save-mainbody").on("click",(function(e){s(e)}));var c=(0,o.jqGetElemById)("id_series");var d=(0,o.jqGetElemById)("id_insert_after_id");var f=c.data("series-items");var p=d.data("initial-value");var v=function e(){var t=+c.val();var n="";if(t>0){n+='<option value="0">[make it the first item]</option>';f[t].forEach((function(e,t,a){var i="";if(p!==undefined&&e.id===p||p===undefined&&t===a.length-1){i=" selected"}n+='<option value="'.concat(e.id,'"').concat(i,">").concat(e.title,"</option>")}))}d.html(n).prop("disabled",t===0);p=undefined};c.on("change",v);v();(0,r.default)(e.find("textarea"))}function _(e){var t=e.find("textarea");(0,d.wikiLinks)(t,false)}function b(e){e.find("button").on("click",(function(t){t.preventDefault();e.addClass("visible");e.find("input").focus()}))}function w(e){e.on("click",(function(){var t=e.data(),n=t.imageType,a=t.isSeries,i=t.hasStaffNote,r=t.hasPreviewCopy,o=t.isComplete,s=t.isArchived;var c={action:"click",element_type:"link",element_id:"clicked_daily_problem_card",is_series:a,has_staff_note:i,has_preview_copy:r,is_complete:o,is_archived:s};if(n){c.image_type=n}(0,l.track)("ui",c)}))}function k(e){e.children(".edit-problem").on("click",(function(){(0,a.default)(".question-text").trigger("edit");g("problem")}));e.children(".edit-answer").on("click",(function(){(0,a.default)(".solvable-mcq-options-btn").trigger("click");g("problem")}))}var C={};function x(e,t){var n={category_type:e,selected_category_id:t};var a={method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","X-CSRFToken":(0,s.getToken)()},credentials:"include",redirect:"follow",body:JSON.stringify(n)};return fetch("/assessment/get_course_categorization_options/",a).then((function(e){return e.json()}))}function E(e,t){if(!t){return}var n=function e(t,n){C[t].val(n)};var a=function e(t,n){C[t].find("span.hide option[disabled]").unwrap();C[t].find("option").prop("disabled",false).filter((function(e,t){if(t.value===""){return false}var a=parseInt(t.value,10);return n.indexOf(a)<0})).prop("disabled",true).wrapAll('<span class="hide"></span>');var a=parseInt(C[t].val(),10);var i=n.indexOf(a)<0;if(i){C[t].val(null)}};x(e,t).then((function(e){var t=e.data;["course","chapter","quiz"].forEach((function(e){var a=t["".concat(e,"_id")];if(a){n(e,a)}}));if(t.chapters){a("chapter",t.chapters)}if(t.quizzes){a("quiz",t.quizzes)}}))}function I(e){var t=e.data("field");var n=e.find("select");C[t]=n;n.on("change",(function(){return E(t,n.val())}));if(Object.keys(C).length===3){var a=C.course.val();if(a){E("course",a)}}}function T(e){var t="static-sidebar";var n=75;var a=e.children().last();var r=a.offset().top+a.outerHeight()+n;var s=function e(){o.$body.toggleClass(t,window.innerHeight<r)};o.$window.on("resize.dpSidebar",i.default.throttle(s,16));s()}function O(e){e.find("h3").on("click",(function(){e.toggleClass("expanded")}))}function S(e){e.find("a, button").on("click",(function(t){t.preventDefault();t.stopPropagation();window.location.href=e.data("next")}))}function j(e){var t=[n.e(111).then(n.t.bind(null,1290,7))];if(o.isMobile){t.push(n.e(113).then(n.t.bind(null,1291,7)))}Promise.all(t).then((function(){return(0,f.modalController)(e)}))}},639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.modal=r;var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.closest(".educator-person");var n=(0,a.default)("#educator-bio-modal");var i=n.find("ul");e.on("click",(function(){i.html(t.clone());n.modal("show")}))}},640:function(e,t,n){"use strict";var a=d(n(9));var i=d(n(42));var r=d(n(21));var o=n(44);var s=n(3);var l=n(13);var c=n(18);var u=n(45);function d(e){return e&&e.__esModule?e:{default:e}}var f={};function p(e){if(e.is(":visible")&&e.find(".errorlist").length===0){e.modal("hide")}}function v(e){(0,i.default)(e.find("textarea"));(0,u.mentions)(e.find("#id_invite_people"));e.on("show",(function(){a.default.defer((function(){e.find("textarea").trigger("autosize.resize")}))}))}function h(e){var t=e.parents(".modal");p(t);v(t)}f.creationForm=h;f.featuredGroups=function(e){e.find(".see-more").on("click",(function(){e.addClass("expanded")}))};f.editGroup=function(){var e=(0,s.jqGetElemById)("group-header");var t="editing";e.removeClass(t);(0,s.jqGetElemById)("group-edit-trigger").on("click",(function(){e.addClass(t);(0,i.default)(e.find("textarea"));(0,s.setScrollPosition)(0)}));e.find(".cancel-edit").on("click",(function(n){n.preventDefault();e.removeClass(t)}));e.find(".btn-expand").on("click",(function(){e.addClass("expanded")}))};f.inviteModal=h;f.confirmGroupAction=function(e){var t=e.find("form");(0,s.jqOffOn)(t,"submit",(function(n){n.preventDefault();var a=e.data();(0,l.showConfirmationModal)({title:a.confirmModalTitle,text:a.confirmModalText,confirmBtnText:a.confirmModalOk,cancelBtnText:a.confirmModalCancel,classes:"group-confirm-modal"}).then((function(e){if(e){(0,r.default)(t.find("#id_page_key").val()).form(t[0])}}))}))};f.seeReport=function(e){var t=e.find(".group-report-modal");e.find(".group-report-trigger").on("click",(function(){t.modal()}))};window.vkey.groups_invite_members=function(e,t){var n=(0,s.jqGetElemByCmpName)(t);var a=(0,s.jqGetElemById)("group-invite-modal");a.removeData("controller-inited").removeAttr("data-controller-inited");n.html(e.new_html);(0,o.initAutosubmit)(n);(0,c.initGenericControllers)(a.parent())};e.exports=f},65:function(e,t,n){"use strict";var a=v(n(1));var i=v(n(9));var r=v(n(21));var o=n(44);var s=n(3);var l=p(n(33));var c=n(13);var u=n(30);var d=n(18);var f=n(150);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}var h={urlStack:[]};var m=window,g=m.vkey;var y,_,b,w=null,k=false,C=false,x=false,E=false,I=null,T=[],O,S="assessment_modal_public_solvable_component",j="discussions_modal_single_component",q=false;var P={},A={};var D=function e(){var t=(0,a.default)(this),n=t.data(),i=n.modalUrl||null;t.addClass("inited");if(!y||y.length===0||i===null){return}(0,s.jqOffOn)(t.find(".modal-link"),"click",(function(e){if(!e.metaKey){e.preventDefault();var r=t.parents(".nf-feed-item");if(r.data("just-dragged")){r.removeData("just-dragged");return}w=t;z(n);k=n.isSolvable;C=n.isSet;x=n.refreshable;y.addClass("loading");y.removeClass("loaded");if(k){y.addClass("solvable").removeClass("note set")}else if(C){y.addClass("set").removeClass("solvable note")}else{y.addClass("note").removeClass("solvable set")}if(A[i]){F(i,n)}else{if(P[i]){var o=setInterval((function(){if(A[i]){clearInterval(o);F(i,n)}}),200)}else{I=a.default.ajax({url:i,data:{force_full_page:"true"},success:N,error:M})}}}}))};var N=function e(t){I=null;if(t.redirect){window.location=t.redirect}else{y.toggleClass("loading loaded");var r=O.modalUrl.replace("/modal","").replace("/_modal","").replace("-thread","/thread");if(r&&window.history.pushState){var o=(0,s.getRelativeUrl)();if(r!==o){var c={modalContent:true};if(O.isPost||O.isSolvable){c.isPostOrSolvable=true;if(window.history.state&&window.history.state.isPostOrSolvable){window.history.replaceState(c,"",r)}else{h.urlStack.push(o);window.history.pushState(c,"",r)}}else{h.urlStack.push(o);window.history.pushState(c,"",r)}}}if(k){_.html(t);b.html("");U()}else{b.html(t);(0,d.initGenericControllers)(b);_.html("");U()}l.updateMathjax(y);l.checkOverflow(y);var u=y.find(".mini-profile");y.on("scroll",i.default.throttle((function(){u.each((function(e,t){(0,f.toggleMiniProfile)((0,a.default)(t),"hide")}))}),16));if(k){n(81)[S](_)}else{n(152)[j](b)}}};var M=function e(t,n){if(n!=="abort"){if(t.status===404){I=null;L();(0,a.default)(".cmp_"+w.data("param_key")+"_id").parents(".nf-feed-item").remove()}else{E=true;I=null;L();(0,u.errorModalHandler)(t)}}};var z=function e(t){if(C&&y.is(":visible")){T.push({view:y.clone(),data:O,current_open_feed_item:w});y.addClass("sub-view")}O=t;y.show().addClass("clearfix");(0,c.crop)();(0,s.jqOffOn)(s.$window,"keydown.nfmodal",(function(e){if(e.which===27){L()}}))};var L=function e(t){t=t||{};var n=false;if(I!==null){I.abort();I=null;n=true}if(!E&&w&&w.data("refreshable")){var i=w.data(),l={version:i.version,deferred:i.deferred,page_key:i.page_key,cmp_url:i.cmp_url,individual_reload:i.individual_reload,param_key:i.param_key};var f=new r.default(l.page_key);f.error=function(e){if(e.status===404){(0,a.default)(".cmp_"+l.param_key+"_id").parents(".nf-feed-item").remove()}else if(e.status>0){(0,u.errorModalHandler)(e)}};setTimeout((function(){f.get(l.cmp_url,l)}),100)}if(!t.backButtonClicked&&window.history&&window.history.pushState&&!n){q=true;window.history.back()}if(T.length){var p=T.pop();w=p.current_open_feed_item;y.replaceWith(p.view);y=(0,s.jqGetElemById)("nf-feeditem-modal").removeClass("inited");C=true;(0,o.initAutosubmit)();$(y);(0,d.initGenericControllers)(y)}else{w=null;E=false;y.hide().removeClass("clearfix");(0,c.crop)(false);s.$window.off("keydown.nfmodal")}};var $=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:s.$body;var n=arguments.length>1?arguments[1]:undefined;y=(0,s.jqGetElemById)("nf-feeditem-modal");_=(0,s.jqGetElemByCmpName)(S);b=(0,s.jqGetElemByCmpName)(j);if(n!==true&&y.length>0){t.find(".modal-feed-item").each(D);if(!y.hasClass("inited")){y.addClass("inited");y.on("click",(function(e){if(e.target===y[0]){L()}else if(C||T.length){var t=e.target===_[0]||e.target===b[0]||e.target===(0,s.jqGetElemById)("setview-header")[0];if(t){L()}}else if((0,a.default)(e.target).hasClass("refresh")){e.preventDefault();(0,a.default)(e.target).parents("form").submit();setTimeout((function(){window.location.href=window.location.href}),1e3)}}));y.on("click",".close-modal",(function(e){e.preventDefault();L()}));(0,a.default)("#nf-modal-close").on("click",L)}}};var B=function e(t){if(t.length===0){return}var n=t.data(),i=n.modalUrl;if(i&&P[i]!==true){P[i]=true;a.default.get(i,{is_preloading:true,force_full_page:true}).then((function(e){A[i]=e})).fail((function(){P[i]=false}))}};var U=function e(){var t=_.add(b).find(".modal-target");if(t.length){t.each((function(){B((0,a.default)(this))}))}};var F=function e(t,n){N(A[t]);delete A[t];delete P[t];if(n.isSolvable&&s.userIsAuthenticated){var i=t.replace("?","start_attempt/?");n.version=window.VERSIONS[n.page_key]||1;a.default.post(i,n).fail(u.errorModalHandler)}};h.preloadFirstItem=function(e){B(e.find(".modal-feed-item").first())};h.popstateHandlerHook=function(){if(q){q=false;h.urlStack.pop();return true}var e=h.urlStack;if(e.length>0&&(0,s.getRelativeUrl)()===e[e.length-1]){h.urlStack.pop();L({backButtonClicked:true});return true}return false};h.modal_events=D;h.feeditem_modal=$;h.feeditem_modal_close=L;e.exports=h},675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=u;var a=s(n(1));var i=s(n(9));var r=n(3);var o=s(n(31));function s(e){return e&&e.__esModule?e:{default:e}}var l="pubkey-7bfc8ckzpnzm6x-a4d86olnmp5lbj5p2";function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.$fields,n=e.inProgress,r=n===void 0?i.default.noop:n,o=e.onSuccess,s=o===void 0?i.default.noop:o,c=e.onError,u=c===void 0?i.default.noop:c;t.on("blur",(function(e){var t=e.target;var n=(0,a.default)(t).val();if(!n){return}var i=false;if(n.length>512){u.call(t,"address is too long (".concat(n.length,")"));return}r.call(t);a.default.ajax({type:"GET",url:"https://api.mailgun.net/v2/address/validate?callback=?",data:{address:n,api_key:l},dataType:"jsonp",crossDomain:true}).done((function(e){i=true;s.call(t,e)})).fail((function(e,n){i=true;u.call(t,"http error: ".concat(n," (").concat(e.status,")"))}));setTimeout((function(){if(!i){u.call(t,"timeout")}}),3e4)}))}function u(e){var t=e.find("#email-validation");var n=e.find("#id_email");var i=function e(a){t.removeClass("active didyoumean invalid");n.removeClass("email-invalid");if(!a.is_valid||a.did_you_mean){n.addClass("email-invalid");if(a.did_you_mean){(0,r.jqGetElemById)("didyoumean-txt").text(a.did_you_mean);t.data("didyoumean",a.did_you_mean).addClass("active didyoumean")}else{t.addClass("active invalid")}}};var s=function e(t){o.default.captureMessage("Mailgun error: ".concat(t))};if(t.length>0&&n.length>0){c({$fields:n,onSuccess:i,onError:s});t.find(".didyoumean-close").on("click",(function(e){e.preventDefault();if((0,a.default)(e.currentTarget).hasClass("accept")){n.val(t.data("didyoumean"))}t.removeClass("active");n.removeClass("email-invalid")}))}}},676:function(e,t,n){"use strict";var a=n(1);var i=n(21);var r={};r.autorefresh=function(){var e=[];var t=3e4;var n="reloading";var i;var r=function t(i){i=i||0;var r=e[i];var s=r.find(".refreshable").data();var l={page_key:s.pageKey,component_key:s.componentKey,version:window.VERSIONS[s.pageKey]||1};r.addClass(n);a.get(s.url,l).fail((function(){r.removeClass(n).addClass("error")})).then((function(a){for(var s in a.actions){window.vkey.handle(a.actions[s],s)}r.removeClass(n);if(i==e.length-1){o()}else{t(i+1)}}))};var o=function e(){setTimeout(r,t)};return function(t){e.push(t);clearTimeout(i);i=setTimeout(o,100)}}();e.exports=r},678:function(e,t,n){"use strict";var a=v(n(1));var i=v(n(9));var r=n(11);var o=n(3);var s=n(13);var l=p(n(15));var c=n(12);var u=n(30);var d=n(18);var f=n(125);n(984);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}var h={};h.subtopic=function(e){var t=e.data();var n=(0,a.default)(".prac-subtopic");var r=n.filter(".expanded");if(r.length){i.default.defer((function(){s.Anchors.scrollToTarget(r)}))}e.find(".prac-subtopic .trigger").on("click",(function(){var e=(0,a.default)(this).parents(".prac-subtopic");e.toggleClass("expanded");if(e.hasClass("expanded")){var t=e.data("subtopic-slug");var n=window.location.pathname+"?subtopic="+t;var i={subtopic:t};try{window.history.replaceState(i,"",n)}catch(e){}}else{try{window.history.replaceState({},"",window.location.pathname)}catch(e){}}}))};h.quizWikiFilter=function(e){var t=e.find(".btn-group, .btn-tabs"),n=t.children(),i="active",r="";n.each((function(){r+=(0,a.default)(this).data("type")+" "}));n.on("click",(function(){var t=(0,a.default)(this),o=t.data("type");if(!t.hasClass(i)){n.removeClass(i);t.addClass(i);e.removeClass(r).addClass(o)}}))};h.trackExplorationsComingSoon=function(e){var t=e.data();var n=t.topicSlug;var a=t.chapterSlug;var i;var o;if(n){i="clicked_exploration_topic_coming_soon";o=n}else{i="clicked_exploration_chapter_coming_soon";o=a}e.on("click",(function(){(0,r.track)("ui",{action:"click",element_type:"link",element_id:i,target:o})}))};h.wikiListing=function(e){i.default.defer((function(){var t=e.height();while(e.width()<e[0].scrollWidth||e.height()<e[0].scrollHeight){t+=100;e.css({height:t})}}))};h.notifyComingSoon=function(e){var t=e.find("form");var n=false;var i=function i(){if(n===false){n=true;e.removeClass("with-form");a.default.post(t.prop("action")).fail(u.errorModalHandler).fail((function(){n=false;e.addClass("with-form")}))}};t.on("submit",(function(e){e.preventDefault();i()}));e.on("click",i)};h.explorationsNav=function(e){e.find(".courses-item").on("click",(function(){var e=(0,a.default)(this);var t=e.data();var n={action:"click",element_id:"clicked_course_card",nux_step:!!l.getParamsObject().tour,course_id:t.id,course_name:t.name,course_difficulty:t.difficulty,course_recommended:t.recommended,course_recent:t.recent,course_category:e.parents(".courses-category").find(".courses-category-name").text().trim(),course_category_number:e.parents(".courses-item-wrapper").index()+1};if(t.recommendedType){n.course_recommended_type=t.recommendedType}(0,r.track)("ui",n)}));if(o.isMobile){return}var t=null;var n=e.data("sidebarLinks")||"#nav-exploration-categories a";var c=(0,a.default)(n);var u=function n(){var i=(0,a.default)(this);var r=i.data("category");var s=e.data("offset")||40;if(t){i.data("previous-category",t)}t=r;var l=function e(t){var n="active";var a;var r;if(t==="down"){a=i.data("category");r=window.location.pathname+window.location.search+"#"+a}else{a=i.data("previous-category")||null;r=window.location.pathname+window.location.search;if(a){r+="#"+a}}c.removeClass("active");if(a){var s=c.filter("[data-subcategory="+a+"]");if(s.length){s.addClass(n);s.parents("ul").siblings("a").addClass(n)}else{c.filter("[data-category="+a+"]").addClass(n)}}else{(0,o.jqGetElemById)("exploration-sidebar-link").addClass(n)}try{window.history.replaceState({},"",r)}catch(e){}};new Waypoint({element:this,offset:i.is(":last-child")?"bottom-in-view":s,handler:l})};i.default.defer((function(){e.find("[data-category]").each(u)}));c.on("click",(function(t){t.preventDefault();var n=(0,a.default)(t.currentTarget);var i=function e(){c.removeClass("active");n.addClass("active");n.parents("ul").siblings("[data-category]").addClass("active");n.siblings("ul").find("[data-subcategory]").first().addClass("active")};s.Anchors.scrollToTarget(e.find("#".concat(n[0].href.split("#")[1])),i)}))};h.quizSidebarDropup=function(e){var t=(0,a.default)(".course-quiz-sidebar");var n=(0,a.default)(".codex-expand-toggle");e.on("open",(function(){n.filter(".active").click();t.addClass("above-quiz-content")})).on("close",(function(){t.removeClass("above-quiz-content")}))};vkey.explorations_chapter_paywall=function(e,t){vkey.handle(e,t)};h.saveForLater=function(e){var t=e.find("button");var n=e.parent().find("#first-time-save-modal");var i=function e(){if(t.hasClass("saved")){t.on("mouseenter",(function(){t.find("b").html("Remove")})).on("mouseleave",(function(){t.find("b").html("Saved")}))}else{t.off("mouseenter mouseleave")}};i();t.on("click",(function(r){r.preventDefault();a.default.post(e.attr("action"),e.serialize(),(function(a){t.toggleClass("saved");i();if(a.saved){t.html("<b>Saved</b>");e.prop("form_action").value="unsave"}else{t.html("Save");e.prop("form_action").value="save"}if(a.show_first_time_modal){n.modal()}}))}))};e.exports=h},679:function(e,t,n){"use strict";var a=s(n(1));var i=s(n(42));var r=s(n(21));var o=n(3);function s(e){return e&&e.__esModule?e:{default:e}}var l={};var c=function e(){d();w()};var u=function e(t){(0,a.default)(this).parents("form").trigger("submit")};var d=function e(t){t=t||(0,a.default)("#profile,#prof-sidebar");var n=t.find(".multi .close"),o=t.find(".input").find("select,input[type=radio]"),s=t.find(".input.longtext form"),l=t.find(".input input[name=value]");(0,i.default)(t.find("textarea"));n.off("click");n.on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);t.parents(".item").css({opacity:.5});(0,r.default)("assessment").form(t.parents("form").get(0),{remove:t.data("value")||""})}));s.off("submit.saving").on("submit.saving",(function(e){e.preventDefault();(0,a.default)(this).find("button[type=submit]").addClass("disabled").text("Saving...")}));s.each(f);l.off("blur.blur_force_submit");l.on("blur.blur_force_submit",u);l.off("keydown.enter_listen");l.on("keydown.enter_listen",(function(e){if(e.which===13){e.preventDefault();u.call(this)}}));(0,a.default)("a.add_or_edit_item").on("click",(function(e){e.preventDefault();var t=(0,a.default)(this).data("name");(0,a.default)("#view_"+t+"_hider").hide();(0,a.default)("#edit_"+t+"_hider").show();(0,a.default)("#edit_"+t+"_hider").find("input[type=text], textarea").focus()}));t.find(".multi.display").each((function(){var e=(0,a.default)(this);if(e.height()<this.scrollHeight){e.addClass("scrollable")}}));t.find(".multi .add").on("click",(function(e){e.preventDefault();(0,a.default)(this).hide().parents(".multi").find("input[type=text]").show().trigger("focus")}));t.find('[data-provide="typeahead"]').each(p);(0,a.default)(".click_to_answer_trigger").on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);t.closest(".input").find(".click_to_answer_section").show();t.hide()}));o.off("change");o.on("change",u);y(t);h(t);m(t)};var f=function e(){var t=(0,a.default)(this),n=t.find("textarea:last");if(!t.hasClass("added-counter")){t.addClass("added-counter");var i='<div class="counter"><span></span> [type]s left</div>',r=n.data(),o=r.wordLimit||null,s=/[\s\.,]+/,l=null;var c=function e(n){t.find(".footer").prepend(n)};if(o!==null){c(i.replace("[type]","word"))}else if(r.charLimit>0){c(i.replace("[type]","character"));o=r.charLimit||140;s=""}else{o=400;c(i.replace("[type]","word"))}l=t.find(".counter span");var u=function e(){var t=n.val().length>0?a.default.trim(n.val()).split(s).length:0;t=o-t;l.parent().toggleClass("over",t<0);l.text(t)};u();n.on("keyup",u)}};var p=function e(){var t=(0,a.default)(this),n=t.parents("form");if(t.data("source").length>0){t.off("blur").off("keydown.enter_listen");t.on("blur",(function(e){e.preventDefault();var t=(0,a.default)(this);t.data("typeahead").select();t.data("has_blurred",false);n.trigger("submit")}));t.off("menued");t.on("menued",(function(e){t.next(".save-new").remove()}));t.off("unmenued");t.on("unmenued",(function(e){t.off("keyup.unmenued").on("keyup.unmenued",(function(){v(t)}));v(t,true)}));n.off("submit");n.on("submit",(function(e){e.preventDefault();var t=(0,a.default)(this);clearTimeout(n.data("prof-timeout"));n.data("prof-timeout",setTimeout((function(){(0,r.default)("assessment").form(t.get(0),{remove:"",value:t.find("input[name=value]").val()})}),10))}));t.off("change");t.on("change",(function(e){n.trigger("submit")}))}};var v=function e(t,n){n=n||false;if(t.val().length===0){t.next(".save-new").hide();return}var a=t.data("new-item-text")||null;if(t.next(".save-new").length>0){t.next(".save-new").text(a.replace("[newtag]",'"'+t.val()+'"')).show()}else{if(n&&a!==null){t.after('<a href="#" class="save-new">'+a.replace("[newtag]",'"'+t.val()+'"')+"</a>");t.next(".save-new").on("click",(function(e){e.preventDefault()}))}}};function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o.$body;var t=e.find(".auto-prompt"),n=e.find(".auto-prompt-cancel"),i=t.first().data("prompts");if(i&&i.length>0){i=i.split(/\|/g);t.each((function(){var e=(0,a.default)(this),t=e.parents(".prompt"),n=t.find("input,textarea");n.data("orig-value",n.val());if(e.data("inited")!==true){e.data("inited",true);e.on("click",(function(t){t.preventDefault();var a,r=n.val(),o=r;while(o==r){a=Math.floor(Math.random()*(i.length-0));o=i[a]}e.removeClass("active");e.siblings(".auto-prompt-cancel").addClass("active");n.val(o);n.change()}))}}));n.each((function(){var e=(0,a.default)(this),t=e.parents(".prompt"),n=t.find("textarea");e.on("click",(function(t){t.preventDefault();e.removeClass("active");e.siblings(".auto-prompt").addClass("active");n.val(n.data("orig-value"));n.change()}))}))}else{t.hide()}}function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o.$body;var t=e.find(".free-resp-edit").not(".inited");t.on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget).parents(".prof-field");t.toggleClass("editing");t.find(".label-input").trigger("autosize.resize")}));t.addClass("inited")}var g=function e(){var t=(0,a.default)("#prof-status");if(t.length>0&&t.hasClass("editable")&&t.data("inited")!==true){t.data("inited",true);var n=t.find(".edit-status"),i=(0,a.default)("#status-form"),r=(0,a.default)("#status-input"),o=(0,a.default)("#clear-status");n.on("click",(function(e){e.preventDefault();t.addClass("editing");r.focus()}));o.on("click",(function(e){e.preventDefault();r.val("");t.removeClass("editing")}));i.on("submit",(function(){t.addClass("saving")}));r.on("keydown",(function(e){if(e.which===27){r.val("");t.removeClass("editing")}}))}};var y=function e(t){var n=".multiline";t=t.find(n)||(0,a.default)(n);if(t.length>0){t.each(_)}};var _=function e(){var t=(0,a.default)(this);if(t.data("inited")!==true){t.data("inited",true);var n=t.find(".edit"),i=t.find(".btn-cancel"),o=t.find("form");n.on("click",(function(e){e.preventDefault();t.addClass("editing");t.find("input:first").focus()}));i.on("click",(function(e){e.preventDefault();t.removeClass("editing")}));o.on("submit",(function(e){e.preventDefault();t.addClass("saving");o.attr("disabled","disabled").addClass("disabled");o.find(".btn").attr("disabled","disabled").addClass("disabled");(0,r.default)("profile_profile").form((0,a.default)(this).get(0))}))}};var b=["profile_interests","profile_languages","profile_skills","profile_competitions"];var w=function e(){var t=(0,a.default)("#prof-empty");if(t.length>0){var n=0,i=b.length,r=true,o=(0,a.default)("#multi-entries"),s;for(n;n<i;n++){s=(0,a.default)("#cmp_"+b[n]+"_id").clone();s.find(".debug_component_info").remove();if(s.text().replace(/\s|\n/g,"").length>0){r=false;break}}if(r){t.show();o.hide()}}};var k=function e(t){if(t.children().length===0){t.hide()}};function C(){(0,a.default)("#see-prof-fields").removeClass("dim").on("click",(function(e){e.preventDefault();(0,a.default)(this).toggleClass("active");var t=(0,a.default)("#hidden-prof-fields"),n=t.hasClass("active");t.toggleClass("active",!n);t.toggle(!n)}))}function x(){(0,a.default)("[id*=cmp_]").not(".nf-modal-content").not(".nf-set-modal-content").each((function(){var e=(0,a.default)(this);if(e.children().length===0){e.hide()}}))}l.onload=function(){c();g();x();if(o.isMobile){C()}};window.vkey.profile_stats_sidebar=function(e,t){var n=vkey.handle(e,t);n.find(".upvotes").tooltip();k(n)};var E=function e(t,n){var a=vkey.handle(t,n);c(a);g();if(a.find(".error").length===0){var i=a.find(".saved:not(.animating)");if(i.length>0){i.addClass("animating");i.fadeIn(200).delay(3e3).fadeOut(200).removeClass("animating")}}a.find("input:not([type=submit]):not([type=radio]):visible:first").focus();k(a)};var I=function e(t,n){E(t,n);w()};window.vkey.profile_about=E;window.vkey.profile_free_response_1=E;window.vkey.profile_free_response_2=E;window.vkey.profile_free_response_3=E;window.vkey.profile_high_school=E;window.vkey.profile_college=E;window.vkey.profile_company=E;window.vkey.profile_status_msg=E;window.vkey.profile_interests=I;window.vkey.profile_languages=I;window.vkey.profile_competitions=I;window.vkey.profile_skills=I;e.exports=l},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getModuleForVisualizationType=w;t.visualizationsPrefetchHandler=k;t.renderVisualization=C;t.interactiveProblemWrapper=x;t.renderVisualizationFromVue=E;var a=o(n(1));var i=n(3);var r=n(12);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return u(e)||c(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function c(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function u(e){if(Array.isArray(e))return e}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}function p(e,t,n){if(t)f(e.prototype,t);if(n)f(e,n);return e}var v=false;var h={};var m=["potw_problemset","potw_problemset_default","quizzes_problemset","assessment_public_solvable_logged_in","quizzes_interstitial_pane"];var g="stashed";function y(e){return(0,a.default)("<div />").html(e)}function _(e){return(0,a.default)(".dp-mainbody-text .tail [data-visualizationkey=".concat(e,"]"))}var b=function(){function e(t,n,a,i){d(this,e);this.$container=t;this.$content=this.$container.find(".content");this.key=n;this.slug=a;this.data=i;this.isInteractiveSolvable=i.solvableId&&i.solvableId>0;this.stash=this.stash.bind(this);this.initEventKeys();this.bindEvents();if(this.needsImmediateStash()){this.stash()}else{this.waitUntilVisible().then((function(){}))}}p(e,[{key:"initEventKeys",value:function e(){var t="viz".concat(this.key);var n=m.map((function(e){return"".concat(r.EVT_VKEY_BEFORE_UPDATE,".").concat(e,".").concat(t)})).join(" ");var a="".concat(r.EVT_QUIZ_POSITION_LOADING,".").concat(t);var i="".concat(r.EVT_QUIZ_POSITION_WILL_CHANGE,".").concat(t);var o="".concat(r.EVT_DAILYPROBLEM_MAINBODY_EXPANDED,".").concat(t);this.events={quizPositionDidChange:"".concat(r.EVT_QUIZ_POSITION_DID_CHANGE,".").concat(t),stashableEventGroup:[n,a,i].join(" "),dpMainbodyExpanded:o}}},{key:"resume",value:function e(t){this.unstash(t)}},{key:"bindEvents",value:function e(){var t=this;i.$window.on(this.events.dpMainbodyExpanded,(function(){i.$window.off(t.events.dpMainbodyExpanded);var e=_(t.key);if(e.length){t.resume(e)}}));if(!i.userIsAuthenticated){return}i.$window.on(this.events.stashableEventGroup,this.stash)}},{key:"unbindEvents",value:function e(){if(!i.userIsAuthenticated){return}i.$window.off(this.events.stashableEventGroup)}},{key:"stash",value:function e(){var t=this;var n=y("");Object.keys(this.data).filter((function(e){return e.indexOf("v-")!==0})).forEach((function(e){return n.attr("data-".concat(e),t.data[e])}));if(!this.isInteractiveSolvable){n.attr("data-controller","app/visualizations:renderVisualization")}this.$container.after(n);i.$body.append(this.$container);this.$container.addClass(g);this.$container.addClass("course-quiz-content");this.$container.find('script[type="math/tex"]').remove();this.unbindEvents()}},{key:"unstash",value:function e(t){t.replaceWith(this.$container);this.$container.removeClass(g);this.$container.removeClass("course-quiz-content");this.bindEvents()}},{key:"needsImmediateStash",value:function e(){return _(this.key).length>0}},{key:"waitUntilVisible",value:function e(){var t=this;return new Promise((function(e){setTimeout((function(){if(t.$container.is(":visible")){e()}else{i.$window.on(t.events.quizPositionDidChange,(function(){if(t.$container.is(":visible")){e();i.$window.off(t.events.quizPositionDidChange)}}))}}),1)}))}}]);return e}();function w(e){switch(e){case"GRAPH_2D":return Promise.all([n.e(1),n.e(3),n.e(5),n.e(4),n.e(8),n.e(7),n.e(11),n.e(9),n.e(13),n.e(84)]).then(n.t.bind(null,587,7));case"GRAPH_3D":return Promise.all([n.e(1),n.e(3),n.e(5),n.e(4),n.e(8),n.e(7),n.e(11),n.e(12),n.e(74),n.e(9),n.e(13),n.e(83)]).then(n.t.bind(null,588,7));case"QUANTUM_CIRCUIT":return Promise.all([n.e(1),n.e(5),n.e(4),n.e(75),n.e(95)]).then(n.t.bind(null,589,7));case"OPERATOR_SEARCH":return Promise.all([n.e(1),n.e(5),n.e(4),n.e(92)]).then(n.t.bind(null,590,7));case"HUYGENS_CLOCK":return Promise.all([n.e(3),n.e(8),n.e(9),n.e(87)]).then(n.t.bind(null,591,7));case"COIN_FLIP":return Promise.all([n.e(3),n.e(73),n.e(80)]).then(n.t.bind(null,592,7));case"CANVAS":return Promise.all([n.e(1),n.e(3),n.e(8),n.e(9),n.e(79)]).then(n.t.bind(null,593,7));case"LOGIC_CIRCUIT":return Promise.all([n.e(0),n.e(89)]).then(n.t.bind(null,594,7));case"FREEFORM_JAVASCRIPT":return Promise.all([n.e(3),n.e(5),n.e(88)]).then(n.t.bind(null,595,7));case"GREEDY_SCHEDULER":return Promise.all([n.e(1),n.e(4),n.e(85)]).then(n.t.bind(null,596,7));case"CS_ONE_OFFS":return Promise.all([n.e(1),n.e(81)]).then(n.t.bind(null,597,7));case"DRONE_GAME":return Promise.all([n.e(1),n.e(3),n.e(0),n.e(82)]).then(n.t.bind(null,598,7));case"GRID_FILL":return Promise.all([n.e(2),n.e(0),n.e(86)]).then(n.t.bind(null,599,7));case"ORDER_LOGIC":return Promise.all([n.e(2),n.e(0),n.e(93)]).then(n.t.bind(null,600,7));case"NUMBER_BUNCHERS":return Promise.all([n.e(2),n.e(0),n.e(91)]).then(n.t.bind(null,601,7));case"CALCDOKU":return Promise.all([n.e(2),n.e(0),n.e(78)]).then(n.t.bind(null,602,7));case"SHERLOCK_SEARCH":return Promise.all([n.e(2),n.e(0),n.e(96)]).then(n.t.bind(null,603,7));case"NEURAL_NETWORKS":return Promise.all([n.e(2),n.e(0),n.e(90)]).then(n.t.bind(null,604,7));case"PARSONS_PROBLEM":return Promise.all([n.e(2),n.e(12),n.e(0),n.e(94)]).then(n.t.bind(null,605,7));default:throw new Error("Unknown visualization type '".concat(e,"'"))}}function k(e){var t=/"type": ?"(.*?)"/g;var n;while((n=t.exec(e))!==null){var a=n,i=s(a,2),r=i[1];w(r)}}function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var i=e.data();var r=i.visualizationkey;var o=h[r];var s=n?e.parents(".interactive"):e;if(o){o.resume(s);return Promise.resolve()}else{var l=window[r];var c=window["".concat(r,"user_state__")]||{};var u=l.visualization,d=u.slug,f=u.type;if(!t){h[r]=new b(s,r,d,i)}if(!v){document.body.dataset.mediaBaseUrl=i.mediaurl;v=true}return new Promise((function(e){w(f).then((function(t){var i={visualizationKey:r,data:l.data,userState:c.current_state||null,slug:d};if(n){e(t.default.createInteractiveSolvable(i,a))}else{e(t.default.createInteractive(i))}}))}))}}function x(e){var t=e.data("visualizationkey");var n=h[t];if(n){e.empty();var a=y("");e.append(a);n.resume(a)}}function E(e,t,n){Object.assign(e.dataset,t);var i=(0,a.default)(e);return C(i,false,true,n)}},680:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sidebar=E;t.addPost=I;t.postsList=T;t.commentsList=O;t.changeReportVisibility=S;var a=p(n(1));var i=p(n(9));var r=n(3);var o=p(n(42));var s=n(13);var l=n(421);var c=n(12);var u=f(n(55));var d=n(161);n(75);function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function p(e){return e&&e.__esModule?e:{default:e}}var v=0;var h=1;var m=2;var g=3;var y=10;var _=11;var b=false;function w(e){e.find(".discsol-post-wrapper").each((function(e,t){(0,d.showCommentsForSolution)((0,a.default)(t),true)}))}function k(e,t){var n=(0,r.jqGetElemById)("".concat(e,"-wrapper"));var a=n.find(".qanda-add-form header:visible");var i=t===y?n.find("#".concat(e,"-add-form textarea")):n.find("#".concat(e,"-list .discsol-list"));var o="";if(a.length){o=a.outerHeight()}i.css({top:o})}function C(e,t){var n=e.data("prefix");var i="add-question";var r="add-question-success";var o="free-trial";switch(t){case v:e.removeClass("".concat(i," ").concat(r)).addClass(o);break;case h:e.removeClass(r).addClass(i);(0,a.default)("#qanda-add-form textarea").select();k(n,y);break;case m:e.removeClass(i).addClass(r);k(n,_);break;case g:e.removeClass("".concat(i," ").concat(r," ").concat(o));k(n,_);break;default:throw new Error("Unexpected Q&A sidebar state: ".concat(t))}}function x(e,t){if(b){return}var n=e.data(),a=n.commentsSlug,i=n.commentsCmpKey;var o=new RegExp("^#!\\/".concat(a,"\\/(\\d+)\\/?(\\d+)?\\/?$"));var s=window.location.hash.match(o);if(s){var l=s[1];var u=s[2];var d=e.find(".discsol-list");var f=null;var p=null;var v=function e(){var t=f||p;if(t){var n=d.offset().top;var a=t.offset().top;var i=d.height();var o=t.height();if(a+o-n-i>0){(0,r.setScrollPosition)(a-n-50,{$container:d})}}};var h=function e(t){var n="highlight";if(t.data(n)!==true){t.addClass(n);setTimeout((function(){return t.removeClass(n)}),3e3);t.data(n,true)}};if(l&&!u){var m=(0,r.jqGetElemById)("post-".concat(l));if(m){f=m;setTimeout((function(){return h(m)}),500);v()}}r.$window.on("".concat(c.EVT_VKEY_AFTER_UPDATE,".").concat(i),(function(e){var t=e.$cmp;if(u){var n=t.find("[data-comment=".concat(u,"]"));if(n.length){p=n;if(!n.is(":visible")){t.find(".cmmnt-container.level-0").addClass("show-all-replies")}h(n)}}v()}));setTimeout(t);b=true}}function E(e){var t=e.data("prefix");var n="qanda-active";var i=e.data("target");var o=e.data("show-free-trial");var d=t==="course-feedback";var f=t==="content-reports";var p=e.data("hide-questions");var m=e.find(".discsol-post").length===0&&(0,r.jqGetElemByCmpName)("qanda_questionadd").length===0;var y=!d&&!f&&(p||m);var _=function t(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(a===true){e.removeClass("in");e.addClass("hide")}else{e.one("transitionend",(function(){return e.addClass("hide")}));e.removeClass("in")}r.$body.removeClass(n);r.$body.off(c.EVT_QUIZ_POSITION_WILL_CHANGE);(0,s.crop)(false)};var b=function i(){e.removeClass("hide");r.$body.addClass(n);(0,s.crop)();var p=e.find("#".concat(t,"-add-form textarea"));if(o){C(e,v)}else if(y||p.length&&p.val().length>0){C(e,h)}else if(d||f){C(e,g)}(0,l.hideBranchBanner)();setTimeout((function(){e.addClass("in");e.one("click",_);var t=e.find('.cmp-deferred[data-cmp_component_key="contentreports_postlist"]');if(f&&t.length){var n={};if((0,a.default)(".solv-details").hasClass("endstate")){n.solver_viewing=true}u.load(t,n)}else{w(e)}r.$body.on(c.EVT_QUIZ_POSITION_WILL_CHANGE,(function(){return _(true)}))}))};e.find(".close").not(".modal .close").on("click",_);e.find("#".concat(t,"-non-pro-premium-trigger-").concat(i)).on("click",(function(t){t.preventDefault();e.removeClass("free-trial");if(y){C(e,h)}else{C(e,g)}}));(0,r.jqOffOn)(r.$body,"click.".concat(t),"#".concat(t,"-trigger-").concat(i),b);e.children().on("click",(function(t){t.stopPropagation();e.find(".dropdown, .dropup").removeClass("open")}));e.find("[data-toggle=dropdown]").dropdown();if(!y){x(e,b)}}function I(e){var t=e.data(),n=t.prefix,i=t.success;var o=(0,r.jqGetElemById)("".concat(n,"-wrapper"));var s=(0,r.jqGetElemById)("".concat(n,"-add-form"));var l=s.find("textarea");var c=s.find("button");var u=0;var d=function e(){if(l.length===0){return}var t=l.val().length;if(t>0&&u===0){s.prop("disabled",false);c.prop("disabled",false)}else if(t===0&&u>=0){s.prop("disabled",true);c.prop("disabled",true)}u=t};l.on("input",d);if(r.isMobile){l.on("focus",(function(){return r.$body.scrollTop(0)}))}s.on("submit",(function(){setTimeout((function(){return s.trigger(a.default.Event("autosave.clear"))}))}));(0,r.jqGetElemById)("".concat(n,"-back")).on("click",(function(){if(n==="qanda"&&o.data("show-free-trial")){C(o,v)}else{C(o,g)}}));if(i===true){C(o,m)}else{k(n,y);l.select()}d()}function T(e){var t=e.data("prefix");if(e.is(":visible")){w(e)}e.find("[data-toggle=dropdown]").dropdown();(0,r.jqGetElemById)("".concat(t,"-add-post-trigger")).on("click",(function(e){var n=(0,a.default)(e.currentTarget).data("paywall");if(n){window.location.href=n}else{C((0,r.jqGetElemById)("".concat(t,"-wrapper")),h)}}));k(t,_);e.find(".staff-details-link").on("click",(function(e){var t=(0,a.default)(e.currentTarget);var n=t.closest(".discsol-post").find(".staff-details");var r="click.contentReportsStaffDetails";e.preventDefault();n.toggleClass(c.CLASS_NAME_HIDE);if(!n.hasClass(c.CLASS_NAME_HIDE)){i.default.defer((function(){(0,a.default)(".qanda-sidebar").on(r,(function(e){if((0,a.default)(e.target).closest(".staff-details").length===0){t.trigger("click")}}))}))}else{(0,a.default)(".qanda-sidebar").off(r)}}));e.find(".canned-response-template-trigger").on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var n=t.parents(".qanda-question").find(".qanda-add-comment-trigger");var i=(0,r.jqGetElemById)(n.data("target"));var l=i.find(".top-level-comment-form").find("textarea#id_text_");var c=function e(){n.parent().addClass("hide");i.removeClass("hide")};var u=function e(n){l.val(n).trigger(a.default.Event("input"));t.closest(".discsol-post").find(".staff-details-link").trigger("click")};if(!n.parent().hasClass("hide")){c()}(0,o.default)(l);if(l.length===0){(0,s.showGenericModal)("You can only used canned response on the first reply.")}else if(l.val()){(0,s.showConfirmationModal)({title:"Overwrite reply?",text:"You have a current reply drafted already, are you sure you want to overwrite it?",cancelBtnText:"No",confirmBtnText:"Yes, overwrite"}).then((function(e){if(e){u(t.data("text"))}}))}else{u(t.data("text"))}}))}function O(e){var t=e.find(".qanda-add-comment-trigger");var n=function e(){t.parent().addClass("hide");(0,r.jqGetElemById)(t.data("target")).removeClass("hide")};t.on("click",n);e.find("[data-toggle=dropdown]").dropdown();if(e.find(".errorlist").length){n()}}function S(e){var t=e.data();var n=e.closest(".modal");e.on("click",(function(e){e.preventDefault();n.modal("hide");(0,s.showConfirmationModal)({title:t.confirmModalTitle}).then((function(e){if(e){var a=(0,r.jqGetElemById)("post-".concat(t.reportId));var i=a.find(".make-visible-to-".concat(t.visibilityType));i.trigger("submit")}else{n.modal("show")}}))}))}},681:function(e,t,n){"use strict";var a=y(n(1));var i=y(n(9));var r=y(n(42));var o=y(n(21));var s=n(11);var l=n(3);var c=n(13);var u=g(n(15));var d=n(12);var f=n(18);var p=n(45);var v=n(125);var h=y(n(93));var m=n(81);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}var _={};_.recommendConceptQuiz=function(e){var t=e.data("recommended-quiz");(0,l.jqGetElemById)("concept-quiz-".concat(t)).addClass("recommended")};var b=null;function w(){(0,l.jqOffOn)(b.$trigger,"click.quizendstate",(function(){var e=b.originalController;e(b.$container,b.$trigger)}))}function k(e){return function t(n){i.default.defer((function(){var t=(0,l.jqGetElemById)("endstate-trigger-btn");if(t.length){b={$trigger:t,$container:n,originalController:e}}if(b===null||!b.$trigger.length){return}if(t.data("show-immediately")){e(n,t)}w()}))}}var C=function e(t,n){if(!t.length){return null}var a=i.default.template(t.data("tmpl"));var r=(new Date).getTime();var o=10;var s=setTimeout((function(){s=setInterval((function(){var e=Math.round(((new Date).getTime()-r)/1e3);var i=o-e;t.text(a({s:i}));if(i<=0){clearInterval(s);n(t)}}),250)}),500);return{stop:function e(){clearInterval(s);clearTimeout(s)},reset:function e(){t.text(a({s:o}))}}};function x(e){var t=e.find(".content");var n=function e(){if((0,c.getScrollHeight)(t)>t.outerHeight()){t.addClass("scrollable")}};t.find("img").on("load",n);n()}_.endstateModal=k((function(e){e=e.clone(true);var t;var n=e.data();var r=function t(){if(n.nextAction==="paywall"){e.addClass((0,l.supportsAnimation)()?"flipped":"force-flipped");a.default.get(n.nextUrl,{element_id:"clicked_b2_next_quiz",target_object_id:n.targetObjectId,target_object_type:"quiz",target_object_referrer:encodeURIComponent(window.location.pathname+window.location.search)})}else{window.location.href=n.nextUrl}};t=C(e.find(".countdown span"),r);if(t){e.on("hide",(function(){t.stop();t.reset()}));e.find("a,button").on("click",t.stop)}e.find(".flip").on("click",r);e.on("show",(function(){i.default.defer((function(){e.parent().addClass("b2-endstate-modal-backdrop");x(e)}))}));e.modal();(0,s.setAnalyticsEvents)(e)}));_.endstateTakeover=k((function(e){if(e.parents(".course-quiz-wrapper").length===0){(0,a.default)(".course-quiz-wrapper").find(".prac-solvable").append(e)}e.parents(".course-quiz-wrapper").addClass("show-quiz-endstate");if(l.isMobile){(0,l.setScrollPosition)(0)}(0,v.twinklingStars)(e.find(".endstate"));C(e.find(".countdown span"),(function(){var t=e.data("next-url");if(t){window.location.href=t}}))}));_.preemptiveWiki=function(){var e=false;return function(t){if(e){return}var n=t.data("ax-prefix");var a=(0,l.jqGetElemById)("quiz-wrapper").data("set-number");var i=function e(t){return function(){(0,s.track)("ui",{action:"modal",element_type:"modal",element_id:"".concat(n,"_").concat(t),path:window.location.pathname,full_path:window.location.pathname+window.location.search})}};var r=t.find("a");r.attr("href",u.appendGetParam(r.attr("href"),"sn",a));t.on("show",i("displayed"));t.on("hide",i("closed"));t.modal();e=true}}();_.editablePane=function(e){var t=e.find(".pane-edit-trigger");var n=e.find(".pane-cancel-editing");var i=e.find(".pane-save-trigger");var s=e.find(".pane-preview-trigger");var u=e.find('[name="preview"]');var f=e.hasClass("is-previewing-pane");var v=function e(t){u.val(t.toString())};if(t.length===0){t=(0,a.default)(".pane-edit-trigger")}t.on("click",(function(t){t.preventDefault();e.toggleClass("editing");v(true);var n=e.find("textarea");(0,p.mentionsAndWikiLinks)(n);(0,r.default)(n)}));n.on("click",(function(t){t.preventDefault();if(f){var n=e.data();(0,c.showConfirmationModal)({title:n.cancelConfirmText}).then((function(e){if(e){var t=n.cmpUrl,a=n.cmpKey,i=n.pageKey,r=n.paramKey;l.$body.data(d.CMP_RELOADING_FLAGS.PANE,true);(0,o.default)(i).get(t,{component_key:a,param_key:r})}}))}else{e.toggleClass("editing")}}));i.on("click",(function(t){var n=u.val()==="false";if(!n){var a=e.data();t.preventDefault();(0,c.showConfirmationModal)({title:a.saveConfirmText}).then((function(e){if(e){v(false);i.parents("form").trigger("submit")}}))}}));s.on("click",(function(){v(true)}))};_.replaceContinueButton=function(e){if(b!==null){w();e.find(".solv-done-btn, .btn-next").filter(":visible").replaceWith(b.$trigger.clone(true))}};e.exports=_},683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.navigation=a;function a(e){var t=e.find("a");t.on("click",(function(){t.toggleClass("active")}))}},684:function(e,t,n){"use strict";var a=c(n(1));var i=c(n(9));var r=n(3);var o=n(30);var s=c(n(487));var l=c(n(488));function c(e){return e&&e.__esModule?e:{default:e}}var u={};var d={ratingsGraph:l.default};var f=null;function p(e){f=f||(0,r.jqGetElemById)("stats-topic-links");f.toggleClass("disabled",e)}var v=function e(t,n){var i=t.data("source")||null;a.default.get(i).then(n).fail((function(e){(0,o.errorModalHandler)(e);t.find(".spinner").hide();p(false)}))};u.graph=function(){var e=[];(0,r.jqOffOn)(r.$window,"resize",i.default.debounce((function(){e.forEach((function(e){return e()}))}),200));var t=(0,r.jqGetElemById)("stats-webview-wrapper").data("is-webview");return function(n){p(true);v(n,(function(a){setTimeout((function(){var i=(0,r.jqGetElemById)("stat-empty");var o=(0,r.jqGetElemById)("stat-btn-filters");if(a.ratings_correct_incorrect_over_time.length===0){i.show();o.hide();n.find(".spinner").hide()}else{var s=d[n.data("graph")];a.isWebview=t;i.hide();o.show();s.render(n,a,true);e.push((function(){s.clean(n);s.render(n,a)}))}p(false)}),200)}))}}();u.graphTopicSwitcher=function(e){f=f||(0,r.jqGetElemById)("stats-topic-links");var t=f.find("a");var n=(0,r.jqGetElemById)("stats-topic-name");var i=(0,r.jqGetElemById)("canvas");var o=e.data();var s="current";e.modal({show:false});function l(a,o){if(a===null&&r.isMobile){e.modal("show");r.$window.trigger("resize");return}t.removeClass(s);t.filter('[data-topic-name="'.concat(a.topicName,'"]')).addClass(s);i.find(".cleanable").html("");i.find(".spinner").show();i.data("source",a.topicDataUrl);n.text(a.topicName);(0,r.jqGetElemById)("stat-empty").hide();if(r.isMobile){e.modal("show")}u.graph(i);if(o!==true){try{window.history.pushState(a,null,a.href)}catch(e){}}}t.on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);if(t.hasClass(s)||f.hasClass("disabled")){if(r.isMobile){l(null)}return}var n=t.data();n.href=t.attr("href");l(n)}));if(!r.isMobile){r.$window.on("popstate",(function(e){var t=e.originalEvent.state;if(t&&t.href!==window.location.href){l(t,true)}else if(!t){l(o,true)}}))}};u.exampleGraphModal=function(){var e=(0,r.jqGetElemById)("stats-topic-links").find("a");var t=(0,r.jqGetElemById)("stat-graph-container");var n=(0,r.jqGetElemById)("canvas");t.modal({show:false});e.on("click",(function(e){e.preventDefault();t.modal();var a=d[n.data("graph")];a.clean(n);u.exampleLineGraph(n)}))};u.exampleLineGraph=function(e){var t=d.ratingsGraph;t.render(e,s.default);(0,r.jqOffOn)(r.$window,"resize",i.default.debounce((function(){t.clean(e);t.render(e,s.default)}),200))};u.attemptPunchcard=function(e){var t=e.find(".clickable");var n=(0,r.jqGetElemById)("attempt-table");var s=(0,r.jqGetElemById)("attempt-table-content");var l=(0,r.jqGetElemById)("attempt-table-date");var c=n.find(".btn");var u=i.default.template((0,r.jqGetElemById)("attempt-table-row").text());var d=null;if(r.isMobile){e.find(".calendar").scrollLeft(1500)}if(t.length===0){(0,r.jqGetElemById)("stat-punchard-nodata").show();return}t.on("click",(function(e){var i=(0,a.default)(this);if(!i.hasClass("active")){var f=i.data();if(d!==null){d.abort()}t.removeClass("active");i.addClass("active");c.addClass("hide");n.removeClass("hide");s.html('<tr><td colspan="4"><span class="spinner"></span></td></tr>');l.text(f.date);d=a.default.ajax({url:f.details});d.fail(o.errorModalHandler).then((function(e){d=null;var t=e.details.map((function(e){e.r=(0,r.commaFormat)(e.r);return u(e)})).join("");s.html(t);c.removeClass("hide")}))}}))};e.exports=u},685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toggleFeatured=d;t.loadMore=f;var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var r="active";var o=1;var s=(0,a.default)("a.active").text().toLowerCase();var l=(0,a.default)(".testimonials-reviews ul");var c=(0,a.default)(".testimonials-reviews a.load");var u=function e(t){t.page_key="flatpage_testimonials";t.version=1;a.default.get("/testimonials/",t).done((function(e){var n=(0,a.default)(e.actions.flatpage_testimonials.new_html);if(t.page===1){l.html(n.find("li"))}else{l.append(n.find("li"))}c.toggle(n.filter("a.load.hidden").length===0)}))};function d(e){var t=e.parent().find("a");e.click((function(n){n.preventDefault();if(!e.hasClass(r)){o=1;s=e.text().toLowerCase();u({view:s,page:o});t.removeClass(r);e.addClass(r)}}))}function f(e){e.toggle(!e.hasClass("hidden"));e.click((function(e){e.preventDefault();o+=1;u({view:s,page:o})}))}},686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.loggedOut=l;var a=s(n(1));var i=n(3);var r=o(n(33));function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function s(e){return e&&e.__esModule?e:{default:e}}function l(){var e=(0,i.jqGetElemById)("lvllist").find(".lvl");var t=(0,i.jqGetElemById)("lvlcontent").find(".lvl");var n=t.find(".selectors a");var o="active";var s=".".concat(o);e.on("click",(function(n){n.preventDefault();var i=(0,a.default)(n.currentTarget);if(!i.hasClass(o)){e.filter(s).removeClass(o);i.addClass(o);t.filter(":visible").hide();var l=t.eq(i.index()+1);if(typeof MathJax!=="undefined"){r.updateMathjax(l);l.show()}else{l.css({visibility:"visible"}).show()}}}));n.on("click",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);if(!t.hasClass(o)){var n=t.parents(".lvl").find(".problem");var i=n.eq(t.index());t.siblings(s).removeClass(o);t.addClass(o);n.filter(":visible").hide();if(typeof MathJax!=="undefined"){r.updateMathjax(i);i.show()}else{i.css({visibility:"visible"}).show()}}}));var l=window.location.hash||null;if(l!==null){var c=parseInt(l.replace(/[#!/]/g,""),10)||null;if(c!==null){window.location="/levels/".concat(c,"/")}}else{try{var u=window.location.pathname.match(/\/levels\/([^/]*)/)[1];if(u){e.filter(".lvl").eq(u-1).trigger("click")}}catch(e){}}}},687:function(e,t,n){"use strict";var a=y(n(1));var i=y(n(9));var r=y(n(42));var o=y(n(112));var s=y(n(21));var l=n(11);var c=g(n(148));var u=n(12);var d=g(n(55));var f=n(3);var p=g(n(33));var v=y(n(149));var h=n(13);var m=n(45);function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function y(e){return e&&e.__esModule?e:{default:e}}var _={};var b;var w;var k;var C=function e(t){if(!w){w=(0,f.jqGetElemById)("outdated-wiki-modal")}i.default.defer((function(){t.find("textarea").on("input",i.default.once((function(){var e=t.data(),n=e.autosaveUser+"_"+e.autosaveKey,i=c.getEditHash(n);var r=function t(){a.default.get(e.hashUrl).then((function(e){if(e.summary_hash&&e.summary_hash!=i){w.modal();c.discardEdit(n);clearTimeout(b)}}));b=setTimeout(t,3e4)};r()})))}));w.find(".discard-btn").on("click",(function(){window.location.reload()}))};var x=function e(t){var n=t.parents("form"),i=n.find(".preview-button");var r=function e(){if(n.hasClass("summary-text-editor")){(0,a.default)(".wiki-main-column").removeClass("editing")}c.discardEdit(s);i.val("");n.submit()};if(b){if(!k){k=(0,f.jqGetElemById)("save-outdated-wiki-modal")}clearTimeout(b);var o=t.data(),s=o.autosaveUser+"_"+o.autosaveKey,l=c.getEditHash(s);a.default.get(o.hashUrl).then((function(e){if(e.summary_hash&&e.summary_hash!==l){k.modal()}else{r()}}));k.find(".save-btn").on("click",r)}else{r()}};var E=function e(t){if(t.hasClass("stuck")){var n=t.parent();t.css({width:n.width(),left:n.offset().left-f.$document.scrollLeft(),margin:0})}else{t.css({width:"",left:"",margin:""})}};_.editSummary=function(e){var t;if(e.data("is-logged-out")){t=function e(){(0,a.default)(".signup-modal").removeClass("hide")}}else{t=function e(){(0,a.default)(".wiki-main-column").addClass("editing");var t=(0,a.default)(".edit-summary-container").data();(0,s.default)(t.pageKey).get(t.url,{component_key:t.componentKey})};p.updateMathjax((0,a.default)(".summary"))}e.on("click",t)};var I=function e(t,n){var a=30;var i=30;var r=[];var o=false;var s;var c=function e(t){var n=0;t.forEach((function(e){n+=e}));return n/t.length};t.on("keydown.timecheck",(function(){s=(new Date).getTime()}));t.on("input.timecheck",(function(){if(s){var e=(new Date).getTime();if(r.length>=a){r.shift()}r.push(e-s);if(!o&&r.length>=a){var u=c(r);if(u>=i){o=true;t.off(".timecheck");(0,l.track)("ui",{element_id:"input_timings_wiki",path:window.location.pathname,input_timing_avg:Math.round(u),input_timing_content_length:t.val().length,input_timing_form_type:n,input_timing_threshold:i})}}}}))};_.editSummaryForm=function(e){var t=e.data();var n=t.isPreview,i=t.hasErrors,o=t.isUnchanged;var s=(0,a.default)(".wiki-main-column");var l=(0,f.jqGetElemById)("summary_text_editor");var c=l.find(".button-container");var u=l.find("textarea");var d=(0,f.jqGetElemById)("summary_text_preview");var g=d.find(".button-container");var y=e.find(".preview-button");var _=e.find(".cancel-button");var b=e.find(".edit-button");var w=e.find(".save-button");var k=function t(){(0,r.default)(u);(0,m.wikiLinks)(u,true);v.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E});I(u,"wiki_summary")};var T=function t(){(0,f.setScrollPosition)(0);p.updateMathjax(d);setTimeout((function(){v.default.stick(g,{bottom:g.offset().top+e.outerHeight(),handler:E})}),100);(0,m.wikiLinks)(u)};if(!n&&!i&&!o){k();C(l)}else if(n){T()}else if(o){s.removeClass("editing")}y.on("click",(function(){w.val("")}));_.on("click",(function(e){e.preventDefault();if(n){(0,h.showConfirmationModal)({title:t.cancelConfirmText}).then((function(e){if(e){s.removeClass("editing")}}))}else{s.removeClass("editing")}}));b.on("click",(function(){e.addClass("editing");(0,f.setScrollPosition)(0);k()}));w.on("click",(function(e){e.preventDefault();if(!n){(0,h.showConfirmationModal)({title:t.saveConfirmText}).then((function(e){if(e){x(l)}}))}else{x(l)}}))};_.editSection=function(e){var t=e.data();var n=t.id;var r=t.heading;var o=(0,f.jqGetElemById)("wiki-sidebar");var l=(0,f.jqGetElemById)("section-".concat(n));var c=l.find(".edit-section-container");var u=c.data();var d=(0,f.jqGetElemById)("edit-another-section-modal");var p=function e(){if(l.length&&o.length){var t=o.offset().top+o.outerHeight();if(l.offset().top<t){o.addClass("hide")}}l.addClass("editing");c.addClass("cmp_"+u.componentKey+"_id");(0,s.default)(u.pageKey).get(u.url,{component_key:u.componentKey,heading:r})};e.on("click",(function(){var e=(0,a.default)(".cmp_wiki_canonical_edit_section_id");if(e.length){var t=e.find("#id_old_heading").val();var n=i.default.template((0,f.jqGetElemById)("discard-changes-text").text());d.find(".modal-body").html(n({currentHeading:t,buttonHeading:r}));d.modal();d.find(".discard-btn").on("click",(function(){var e=(0,a.default)(".cmp_wiki_canonical_edit_section_id");var t=e.parent(".section");var n=t.prev(".skill-heading");e.removeClass("cmp_wiki_canonical_edit_section_id");t.removeClass("editing");n.removeClass("hide");p()}))}else{p()}}))};_.editSectionForm=function(e){var t=e.data(),n=t.isPreview,a=t.isUnchanged,i=e.parents(".section"),o=i.prev(".skill-heading"),s=e.parent(".edit-section-container"),l=e.find(".section-text-editor"),c=e.children(".button-container"),u=l.find(".autosave-field"),d=l.find("textarea"),f=e.find(".section-preview"),g=f.find(".button-container"),y=e.find(".preview-button"),_=e.find(".cancel-button"),b=e.find(".edit-button"),w=e.find(".save-button");var k=function t(){i.addClass("editing");o.addClass("hide");(0,r.default)(d);(0,m.wikiLinks)(d,true);v.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E});I(d,"wiki_section")};var T=function t(){p.updateMathjax(f);setTimeout((function(){v.default.stick(g,{bottom:g.offset().top+e.outerHeight(),handler:E})}),100);(0,m.wikiLinks)(d)};var O=function e(){s.removeClass("cmp_wiki_canonical_edit_section_id");i.removeClass("editing");o.removeClass("hide")};if(!n&&!a){k();C(u)}else if(n){T()}else if(a){O()}y.on("click",(function(){w.val("");e.removeClass("editing")}));_.on("click",(function(e){e.preventDefault();if(n){(0,h.showConfirmationModal)({title:t.cancelConfirmText}).then((function(e){if(e){O()}}))}else{O()}}));b.on("click",(function(){e.addClass("editing");(0,r.default)(d);(0,m.wikiLinks)(d);v.default.stick(c,{bottom:c.offset().top+e.outerHeight(),handler:E})}));w.on("click",(function(e){e.preventDefault();if(!n){(0,h.showConfirmationModal)({title:t.saveConfirmText}).then((function(e){if(e){x(u)}}))}else{x(u)}}))};_.expandOrCollapse=function(e){var t=e.find("header");var n=e.attr("id");var a=window.location.hash.substr(1);t.on("click",(function(){var t=e.next(".section");if(e.hasClass("collapsed")){e.removeClass("collapsed");t.removeClass("collapsed");p.checkOverflow(t)}else{e.addClass("collapsed");t.addClass("collapsed")}}));var r=function e(){t.trigger("click");i.default.delay((function(){h.Anchors.scrollToTarget(t)}),100)};if(f.isMobile&&a===n){r()}};_.summary=function(){var e=(0,a.default)(".skill-heading");if(f.isMobile&&e.length===1){i.default.defer((function(){e.find("header").trigger("click")}))}var t=function e(){var t=window.location.hash;if(t.substr(1,9)==="citation-"){(0,f.jqGetElemById)(t.substr(1)).addClass("highlight-citation")}};t();(0,a.default)(".citation-link").on("click",(function(){i.default.defer(t)}))};_.rateWiki=function(e){var t=e.find("li");var n=e.data("rating");var i=false;if(n){t.find("input[value="+n+"]").parents("li").addClass("selected")}else{t.on("click",(function(){var n=(0,a.default)(this);if(!i){i=true;t.find("input:checked").prop("checked",false);n.addClass("selected");n.find("input").prop("checked",true);e.submit()}}))}};_.reportDisputedWiki=function(e){var t=e.find("#submit");t.on("click",(function(){e.submit();(0,a.default)(".disputed-container").addClass("hide")}))};_.confirmModeratorAction=function(e){e.on("click",(function(){var t=e.data();var n=(0,a.default)("#".concat(t.logId));var i=(0,f.jqGetElemById)("wiki-logs-confirm").prop("checked");if(i){(0,h.showConfirmationModal)({title:t.confirmModalTitle,text:t.confirmModalText}).then((function(a){if(a){n.val(t.value);e.parents("form").submit()}}))}else{n.val(t.value);e.parents("form").submit()}}))};_.logsPager=function(e){e.on("click",(function(){var t=e.data("page");(0,a.default)("#pagination_page_id").val(t);e.parents("form").submit()}))};_.showStaffActions=function(e){var t=(0,a.default)(".wiki-staff-container");var n=(0,a.default)(".wiki-overlay");e.on("click",(function(e){e.stopPropagation();t.show();n.show()}));(0,a.default)("body").on("click",(function(e){t.hide();n.hide()}));t.on("click",(function(e){e.stopPropagation()}))};_.feedback=function(e){var t=(0,f.jqGetElemById)("wiki-feedback-trigger");var n=e.hasClass(u.CLASS_NAME_ACTIVE);var i=function t(i,r){n=!n;if(n){if(r!==true){h.Anchors.scrollToTarget(e)}e.find(".cmp-deferred").each((function(e,t){d.load((0,a.default)(t))}))}e.toggleClass(u.CLASS_NAME_ACTIVE,n)};t.on("click",i);if(window.location.hash.indexOf("feedback")!==-1){i(null,true)}};_.getCitationTime=function(e){var t=i.default.template((0,f.jqGetElemById)("retrieval-time-content").text());var n=new Date;var a=["January","February","March","April","May","June","July","August","September","October","November","December"];e.find(".retrieval-time").html(t({hour:"0".concat(n.getHours()).slice(-2),minute:"0".concat(n.getMinutes()).slice(-2),month:a[n.getMonth()],day:n.getDate(),year:n.getFullYear()}))};_.wikiFooter=function(e){var t=(0,f.jqGetElemById)("footer").outerHeight();if(t){i.default.defer((function(){var n=0;f.$window.on("scroll",i.default.throttle((function(){var a=f.$window.scrollTop()-((0,h.getScrollHeight)(f.$body)-t-f.$window.height());if(a>0){e.css({transform:"translate(0, -".concat(a,"px)")})}else if(n>0){e.css({transform:"translate(0, 0)"})}n=a}),16))}))}var n=e.data("ax-id");if(n){i.default.defer((function(){(0,l.track)("ui",{element_id:n,path:window.location.pathname,full_path:window.location.pathname+window.location.search})}))}};_.showSignUpModal=function(e){var t=(0,f.jqGetElemById)("signup-modal-wiki");var n="numLoggedOutWikiViews";var a=2;var r=o.default.get(n);var s=function e(){t.modal("show");var n=t.find(".public-signup-left");if(n.length&&!n.data("already-opened")){n.data("already-opened",true);n.attr("data-already-opened",true);(0,l.track)("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:true,is_last_step:false})}};if(!r){o.default.set(n,1)}else{r++;o.default.set(n,r)}if(r>=a){i.default.delay(s,3e3)}e.find(".signup-btn").on("click",(function(e){e.preventDefault();s()}))};_.examplesContribModal=function(e){e.modal()};_.expandableSidebar=function(e){var t=e.find(".header");t.on("click",(function(){e.toggleClass("expanded")}))};_.sidebarAfterSummary=function(e){var t=(0,f.jqGetElemById)("section-pre-header-section");e.insertAfter(t).removeClass("hide")};_.editLog=function(e){setInterval((function(){var t=[];e.find("#log_entry_list li.unreviewed").each((function(e){t.push((0,a.default)(this).data("log_entry_id"))}));if(t.length>0){a.default.ajax({url:"/wiki/__edit_logs/check_status/",type:"POST",data:{log_entry_ids:t},dataType:"json",success:function e(t){var n,i;t.reviewed_ids.forEach((function(e,t){console.log("Reviewed:",e);n="/wiki/__edit_logs/"+e+"/";i={param_key:(0,a.default)('li[data-log_entry_id="'+e+'"]').data("param_key")};(0,s.default)("wiki_all_edit_log").get(n,i)}))}})}}),1e3)};e.exports=_},688:function(e,t,n){"use strict";var a=n(3);var i=n(15);var r={};var o="v2.12";function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:550;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:440;var i=a.$window.width()/2-t/2;var r=a.$window.height()/2-n/2;var o="width=".concat(t,",height=").concat(n);if(i>0&&r>0){o+=",left=".concat(i,",top=").concat(r)}window.open(e,"socialpopup",o)}var l=function e(t){return t.indexOf(encodeURIComponent("/"))===-1?encodeURIComponent(t):t};r.facebook=function(e){e.on("click",(function(t){t.preventDefault();var n=window.FB||null,r=e.data();var c={utm_content:r.axId,ref:r.axId};if(r.gifUrl&&r.gifUrl.length>0){c.gif_url=l(r.gifUrl)}if(r.ogType&&r.ogType.length>0){c.og_type=encodeURIComponent(r.ogType)}if(r.ogSharingMethod&&r.ogSharingMethod.length>0){c.og_sharing_method=encodeURIComponent(r.ogSharingMethod)}r.url=(0,i.appendGetParams)(r.url,c);var u=function e(){window.location=(0,i.appendGetParams)("share://facebook",{link:l(r.url),caption:encodeURIComponent(r.title),elementId:r.axId})};var d=function e(){var t;if(n!==null){t={method:r["method"],display:"popup"};switch(r["method"]){case"feed":t["link"]=r["url"];t["description"]=r["title"];if(r["image"]){t["picture"]=r["image"]}break;case"share_open_graph":t["action_type"]="og.shares";t["action_properties"]=JSON.stringify({object:r["url"],ref:r["axId"]});break}n.ui(t)}else{var a="https://www.facebook.com/"+o+"/dialog/"+r["method"];t={app_id:r["appId"],display:"popup",redirect_uri:l(url)};var c=l(r["url"]);switch(r["method"]){case"feed":t["link"]=c;t["description"]=r["title"];if(r["image"]){t["picture"]=encodeURIComponent(r["image"])}break;case"share_open_graph":t["action_type"]="og.shares";t["action_properties"]=JSON.stringify({object:c,ref:r["axId"]});break}var u=(0,i.appendGetParams)(a,t);s(u,undefined,200)}};if(a.isAndroid&&a.appVersion.isGreaterThanOrEqualTo("1.10.0")){u()}else if(a.isAndroid){try{Android.shareFacebook(r.url)}catch(e){d()}}else if(a.isIos&&a.appVersion.isGreaterThanOrEqualTo("0.9.2")){u()}else{d()}}))};r.twitter=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data();var a="https://twitter.com/intent/tweet";var r={text:encodeURIComponent(n.title)};if(n.url){r.url=l(n.url)}if(n.via){r.via="brilliantorg"}s((0,i.appendGetParams)(a,r))}))};r.remind=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data();var a=l(n.url);var i="https://www.remind.com/v1/share"+"?url="+a+"&referrer="+a+"&text="+encodeURIComponent(n.title);s(i,880,600)}))};r.pinterest=function(e){e.on("click",(function(t){t.preventDefault();var n=e.data(),a="https://pinterest.com/pin/create/button/"+"?url="+l(n.url)+"&media="+encodeURIComponent(n.media)+"&description="+encodeURIComponent(n.title)+" | via Brilliant.org";s(a,750,320)}))};r.whatsapp=function(e){var t=navigator.userAgent.match(/iPhone/i)&&!navigator.userAgent.match(/iPod/i);if(t){e.removeClass("disabled")}else{e.parent().addClass("whatsapp-removed");e.remove()}};r.nativeEmail=function(e){e.on("click",(function(t){t.preventDefault();window.location=(0,i.appendGetParams)(e.attr("href").replace("mailto:","share://email"),{elementId:e.data("ax-id")})}))};if(window.location.href.indexOf("fb_close_window")!==-1){window.self.close()}e.exports=r},75:function(e,t,n){"use strict";var a=o(n(1));var i=n(3);var r=n(13);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}a.default.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},n;for(n in t){if(e.style[n]!==undefined){return t[n]}}}();return e&&{end:e}}();var l='[data-dismiss="alert"]',c=function e(t){(0,a.default)(t).on("click",l,this.close)};c.prototype.close=function(e){var t=(0,a.default)(this),n=t.attr("data-target"),i;if(!n){n=t.attr("href");n=n&&n.replace(/.*(?=#[^\s]*$)/,"")}if(n!=="#"){i=(0,a.default)(n)}e&&e.preventDefault()(i&&i.length)||(i=t.hasClass("alert")?t:t.parent());i.trigger(e=a.default.Event("close"));if(e.isDefaultPrevented())return;i.removeClass("in");function r(){i.trigger("closed").remove()}a.default.support.transition&&i.hasClass("fade")?i.on(a.default.support.transition.end,r):r()};a.default.fn.alert=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("alert");if(!n)t.data("alert",n=new c(this));if(typeof e=="string")n[e].call(t)}))};a.default.fn.alert.Constructor=c;(0,a.default)((function(){(0,a.default)("body").on("click.alert.data-api",l,c.prototype.close)}));var u='[data-toggle="dropdown"]',d=function e(t){var n=(0,a.default)(t).on("click.dropdown.data-api",this.toggle);(0,a.default)("html").on("click.dropdown.data-api",(function(){n.parent().removeClass("open").trigger(a.default.Event("close"))}))};d.prototype={constructor:d,toggle:function e(t){var n=(0,a.default)(this),i,r,o;if(n.is(".disabled, :disabled"))return;r=n.attr("data-target");if(!r){r=n.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}if(r!=="#"){i=(0,a.default)(r)}i&&i.length||(i=n.parent());o=i.hasClass("open");f();if(!o){i.trigger(a.default.Event("open"));i.toggleClass("open");i.trigger(a.default.Event("opened"))}else{if(t){t.stopPropagation()}i.trigger(a.default.Event("close"))}return false}};function f(){(0,a.default)(u).parent().removeClass("open").trigger(a.default.Event("close"))}a.default.fn.dropdown=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("dropdown");if(!n)t.data("dropdown",n=new d(this));if(typeof e=="string")n[e].call(t)}))};a.default.fn.dropdown.Constructor=d;(0,a.default)((function(){(0,a.default)("html").on("click.dropdown.data-api",f);(0,a.default)("body").on("click.dropdown",".dropdown form",(function(e){e.stopPropagation()})).on("click.dropdown.data-api",u,d.prototype.toggle)}));var p=function e(t,n){this.options=n;this.$element=(0,a.default)(t).on("click.dismiss.modal",'[data-dismiss="modal"]',a.default.proxy(this.hide,this))};p.prototype={constructor:p,toggle:function e(){return this[!this.isShown?"show":"hide"]()},show:function e(){var t=this,n=a.default.Event("show");this.$element.trigger(n);if(window.ie_version===6){t.$element.css("position","absolute");(0,i.setScrollPosition)(0)}if(this.isShown||n.isDefaultPrevented())return;(0,a.default)("body").addClass("modal-open");this.isShown=true;y.call(this);m.call(this,(function(){var e=a.default.support.transition&&t.$element.hasClass("fade");if(!t.$element.parent().length){t.$element.appendTo(document.body)}t.$element.appendTo(t.$backdrop);(0,r.crop)();t.$element.show();if(e){t.$element[0].offsetWidth}t.$element.addClass("in");e?t.$element.one(a.default.support.transition.end,(function(){t.$element.trigger("shown")})):t.$element.trigger("shown")}))},hide:function e(t){t&&t.preventDefault();var n=this;t=a.default.Event("hide");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=false;(0,a.default)("body").removeClass("modal-open");(0,r.crop)(false);y.call(this);this.$element.removeClass("in");a.default.support.transition&&this.$element.hasClass("fade")?v.call(this):h.call(this)}};function v(){var e=this,t=setTimeout((function(){e.$element.off(a.default.support.transition.end);h.call(e)}),500);this.$element.one(a.default.support.transition.end,(function(){clearTimeout(t);h.call(e)}))}function h(e){this.$element.hide().trigger("hidden");m.call(this)}function m(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.default.support.transition&&n;this.$backdrop=(0,a.default)('<div class="modal-bg '+n+'" />').appendTo(document.body);if(window.ie_version===6){this.$backdrop.css({position:"absolute",background:"#666",top:0,left:0,width:"100%",height:1e3});(0,a.default)(".carousel-control.left").css("left",5);(0,a.default)(".carousel-control.right").css("left",750)}if(this.options.backdrop!="static"){this.$backdrop.on("click",(function(e){if((0,a.default)(e.target).is(t.$backdrop)){t.hide()}}))}if(i)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");i?this.$backdrop.one(a.default.support.transition.end,e):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");a.default.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.default.support.transition.end,a.default.proxy(g,this)):g.call(this)}else if(e){e()}}function g(){this.$backdrop.hide();this.$backdrop.detach()}function y(){var e=this;if(this.isShown&&this.options.keyboard){(0,a.default)(document).on("keyup.dismiss.modal",(function(t){t.which==27&&e.hide()}))}else if(!this.isShown){(0,a.default)(document).off("keyup.dismiss.modal")}}a.default.fn.modal=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("modal"),i=a.default.extend({},a.default.fn.modal.defaults,t.data(),s(e)=="object"&&e);if(!n)t.data("modal",n=new p(this,i));if(typeof e=="string")n[e]();else if(i.show)n.show()}))};a.default.fn.modal.defaults={backdrop:true,keyboard:true,show:true};a.default.fn.modal.Constructor=p;(0,a.default)((function(){(0,a.default)("body").on("click.modal.data-api",'[data-toggle="modal"]',(function(e){var t=(0,a.default)(this),n,i=(0,a.default)(t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("modal")?"toggle":a.default.extend({},i.data(),t.data());e.preventDefault();i.modal(r)}))}));var _=function e(t,n){this.init("tooltip",t,n)};_.prototype={constructor:_,init:function e(t,n,i){var r,o;this.type=t;this.$element=(0,a.default)(n);this.options=this.getOptions(i);this.enabled=true;if(this.options.trigger!="manual"){if(this.options.trigger=="hover"&&/iphone|ipad/i.test(navigator.userAgent)){r="touchstart";o="touchend"}else{r=this.options.trigger=="hover"?"mouseenter":"focus";o=this.options.trigger=="hover"?"mouseleave":"blur"}this.$element.on(r,this.options.selector,a.default.proxy(this.enter,this));this.$element.on(o,this.options.selector,a.default.proxy(this.leave,this))}this.options.selector?this._options=a.default.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function e(t){t=a.default.extend({},a.default.fn[this.type].defaults,t,this.$element.data());if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t},enter:function e(t){var n=(0,a.default)(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout);n.hoverState="in";this.timeout=setTimeout((function(){if(n.hoverState=="in")n.show()}),n.options.delay.show)},leave:function e(t){var n=(0,a.default)(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out";this.timeout=setTimeout((function(){if(n.hoverState=="out")n.hide()}),n.options.delay.hide)},show:function e(){var t,n,i,r,o,s,l;if(this.hasContent()&&this.enabled){t=this.tip();this.setContent();if(this.options.animation){t.addClass("fade")}s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement;n=/in/.test(s);t.remove().css({top:0,left:0,display:"block"}).appendTo(n?this.$element:document.body);i=this.getPosition(n);r=t[0].offsetWidth;o=t[0].offsetHeight;switch(n?s.split(" ")[1]:s){case"bottom":l={top:i.top+i.height,left:i.left+i.width/2-r/2};break;case"top":l={top:i.top-o,left:i.left+i.width/2-r/2};break;case"left":l={top:i.top+i.height/2-o/2,left:i.left-r};break;case"right":l={top:i.top+i.height/2-o/2,left:i.left+i.width};break}t.css(l).addClass(s).addClass("in");this.$element.trigger(a.default.Event("show"))}},isHTML:function e(t){return typeof t!="string"||t.charAt(0)==="<"&&t.charAt(t.length-1)===">"&&t.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(t)},setContent:function e(){var t=this.tip(),n=this.getTitle();t.find(".tooltip-inner")[this.isHTML(n)?"html":"text"](n);t.removeClass("fade in top bottom left right")},hide:function e(){var t=this,n=this.tip();n.removeClass("in");function i(){var e=setTimeout((function(){n.off(a.default.support.transition.end).remove()}),500);n.one(a.default.support.transition.end,(function(){clearTimeout(e);n.remove()}))}a.default.support.transition&&this.$tip.hasClass("fade")?i():n.remove();this.$element.trigger(a.default.Event("hide"))},fixTitle:function e(){var t=this.$element;if(t.attr("title")||typeof t.attr("data-original-title")!="string"){t.attr("data-original-title",t.attr("title")||"").removeAttr("title")}},hasContent:function e(){return this.getTitle()},getPosition:function e(t){return a.default.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function e(){var t,n=this.$element,a=this.options;t=n.attr("data-original-title")||(typeof a.title=="function"?a.title.call(n[0]):a.title);return t},tip:function e(){return this.$tip=this.$tip||(0,a.default)(this.options.template)},validate:function e(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function e(){this.enabled=true},disable:function e(){this.enabled=false},toggleEnabled:function e(){this.enabled=!this.enabled},toggle:function e(){this[this.tip().hasClass("in")?"hide":"show"]()}};a.default.fn.tooltip=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("tooltip"),i=s(e)=="object"&&e;if(!n)t.data("tooltip",n=new _(this,i));if(typeof e=="string")n[e]()}))};a.default.fn.tooltip.Constructor=_;a.default.fn.tooltip.defaults={animation:false,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0};var b=function e(t,n){this.$element=(0,a.default)(t);this.options=a.default.extend({},a.default.fn.typeahead.defaults,n);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=(0,a.default)(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};var w=function(){var e=/[àáâãäåæçèéêëìíîïñòóôõöœùúûüýÿ]/g;return function(t){var n={"à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","œ":"oe","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","ÿ":"y"};return t.replace(e,(function(e){return n[e]}))}}();b.prototype={constructor:b,select:function e(){var t=this.$menu.find(".active").attr("data-value");if(t&&t.length>0){this.$element.val(this.updater(t)).change()}else{this.$element.val()}this.$element.trigger("ta_select");return this.hide()},updater:function e(t){return t},show:function e(){var t=a.default.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});var n={top:t.top+t.height,left:t.left};if(this.options.matchWidth){n.width=this.$element.width()}this.$menu.css(n);this.$menu.show();this.shown=true;this.$element.trigger("menued");return this},hide:function e(){this.$menu.hide();this.shown=false;this.$element.trigger("unmenued");return this},lookup:function e(t){var n=this,i,r;this.query=this.$element.val();if(!this.query){return this.shown?this.hide():this}i=a.default.grep(this.source,(function(e){return n.matcher(e)}));i=this.sorter(i);if(!i.length){return this.shown?this.hide():this}return this.render(i.slice(0,this.options.items)).show()},matcher:function e(t){return~w(t.toLowerCase()).indexOf(w(this.query.toLowerCase()))},sorter:function e(t){var n=[],a=[],i=[],r;while(r=t.shift()){if(!r.toLowerCase().indexOf(this.query.toLowerCase()))n.push(r);else if(~r.indexOf(this.query))a.push(r);else i.push(r)}return n.concat(a,i)},highlighter:function e(t){var n=w(t.toLowerCase()),a=w(this.query.toLowerCase());var i=a.replace(/\[|\]|\{|\}/g,(function(e){return"\\"+e}));n=n.replace(new RegExp("("+i+")","ig"),(function(e,t){return"<strong>"+t+"</strong>"}));t=t.split("");var r=new RegExp("<strong>("+i+")</strong>","ig"),o=0,s=0,l=0,c=[];while(c=r.exec(n)){var u=r.lastIndex-c[0].length-o+s;o+=c[0].length;t.splice(l+u,0,"<strong>");l+=1;t.splice(l+u+c[1].length,0,"</strong>");l+=1;s+=1}t=t.join("");return t},render:function e(t){var n=this;t=(0,a.default)(t).map((function(e,t){e=(0,a.default)(n.options.item).attr("data-value",t);e.find("a").html(n.highlighter(t));return e[0]}));this.$menu.html(t);return this},next:function e(t){var n=this.$menu.find(".active").removeClass("active"),e=n.next();if(!e.length){e=(0,a.default)(this.$menu.find("li")[0])}e.addClass("active")},prev:function e(t){var n=this.$menu.find(".active").removeClass("active"),e=n.prev();if(!e.length){e=this.$menu.find("li").last()}e.addClass("active")},listen:function e(){this.$element.on("keypress",a.default.proxy(this.keypress,this)).on("keyup",a.default.proxy(this.keyup,this));if(!this.options.ignore_blur){this.$element.on("blur",a.default.proxy(this.blur,this))}if(this.eventSupported("keydown")){this.$element.on("keydown",a.default.proxy(this.keypress,this))}this.$menu.on("click",a.default.proxy(this.click,this)).on("mouseenter","li",a.default.proxy(this.mouseenter,this))},eventSupported:function e(t){var n=t in this.$element;if(!n){this.$element.setAttribute(t,"return;");n=typeof this.$element[t]==="function"}return n},keyup:function e(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation();t.preventDefault()},keypress:function e(t){if(!this.shown)return;switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if(t.type!="keydown")break;t.preventDefault();this.prev();break;case 40:if(t.type!="keydown")break;t.preventDefault();this.next();break}t.stopPropagation()},blur:function e(t){var n=this;setTimeout((function(){n.hide()}),150)},click:function e(t){t.stopPropagation();t.preventDefault();this.$element.data("has_blurred",true);this.select()},mouseenter:function e(t){this.$menu.find(".active").removeClass("active");(0,a.default)(t.currentTarget).addClass("active")}};a.default.fn.typeahead=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("typeahead"),i=s(e)=="object"&&e;if(!n)t.data("typeahead",n=new b(this,i));if(typeof e=="string")n[e]()}))};a.default.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ignore_blur:true,matchWidth:false};a.default.fn.typeahead.Constructor=b;(0,a.default)((function(){(0,a.default)("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',(function(e){var t=(0,a.default)(this);if(t.data("typeahead"))return;t.typeahead(t.data())}))}));var k=function e(t,n){this.options=a.default.extend({},a.default.fn.affix.defaults,n);this.$window=(0,a.default)(window).on("scroll.affix.data-api",a.default.proxy(this.checkPosition,this)).on("click.affix.data-api",a.default.proxy((function(){setTimeout(a.default.proxy(this.checkPosition,this),1)}),this));this.$element=(0,a.default)(t);this.checkPosition()};k.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var e=(0,a.default)(document).height(),t=this.$window.scrollTop(),n=this.$element.offset(),i=this.options.offset,r=i.bottom,o=i.top,l="affix affix-top affix-bottom",c;if(s(i)!="object")r=o=i;if(typeof o=="function")o=i.top();if(typeof r=="function")r=i.bottom();c=this.unpin!=null&&t+this.unpin<=n.top?false:r!=null&&n.top+this.$element.height()>=e-r?"bottom":o!=null&&t<=o?"top":false;if(this.affixed===c)return;this.affixed=c;this.unpin=c=="bottom"?n.top-t:null;this.$element.removeClass(l).addClass("affix"+(c?"-"+c:""))};var C=a.default.fn.affix;a.default.fn.affix=function(e){return this.each((function(){var t=(0,a.default)(this),n=t.data("affix"),i=s(e)=="object"&&e;if(!n)t.data("affix",n=new k(this,i));if(typeof e=="string")n[e]()}))};a.default.fn.affix.Constructor=k;a.default.fn.affix.defaults={offset:0}},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.init=s;t.isUnchanged=l;t.setReadOnly=c;t.onChange=u;t.getValue=d;t.setValue=f;t.getCursor=p;t.setCursor=v;t.focus=h;t.setLanguage=m;t.initNoteEditor=g;t.initNotes=y;t.initDeemphasizeEditor=_;t.initDeemphasize=b;var a=n(3);var i=n(114);var r=n(115);var o={0:"python",1:"shell",2:"clike",3:"rust",4:"qsharp"};function s(e){return new Promise((function(t){Promise.all([n.e(71),n.e(26)]).then(n.t.bind(null,136,7)).then((function(a){Promise.all([Promise.all([n.e(71),n.e(26)]).then(n.t.bind(null,741,7)),Promise.all([n.e(71),n.e(26)]).then(n.t.bind(null,742,7)),Promise.all([n.e(71),n.e(26)]).then(n.t.bind(null,743,7)),Promise.all([n.e(71),n.e(26)]).then(n.t.bind(null,744,7)),Promise.all([n.e(71),n.e(26)]).then(n.t.bind(null,138,7)),Promise.all([n.e(71),n.e(26)]).then(n.t.bind(null,745,7))]).then((function(){var n=e.$textarea.parents(".codex-textarea");e.$editor.html("");n.find(".CodeMirror").remove();e.$editor.append(n);n.removeClass("hide");var i=e.$editor.parents(".codex-container").data("allow-notes-editor");var r=a.default.fromTextArea(e.$textarea[0],{lineNumbers:true,indentUnit:4,styleActiveLine:i===true,mode:o[e.language],theme:"clouds",extraKeys:{Tab:function e(t){if(t.somethingSelected()){t.indentSelection("add");return}t.execCommand("insertSoftTab")},"Shift-Tab":function e(t){t.indentSelection("subtract")}}});r.brilliant={};t({cm:r,initialCode:e.initialCode,initialLanguage:e.initialLanguage})}))}))}))}function l(e,t){var n=e.cm.getValue()===e.initialCode;var a=parseInt(t,10)===e.initialLanguage;return n&&a}function c(e){e.cm.setOption("readOnly",true)}function u(e,t){e.cm.on("change",t)}function d(e){return e.cm.getValue()}function f(e,t){e.cm.brilliant.isEditing=true;e.cm.setValue(t);e.cm.brilliant.isEditing=false}function p(e){return e.cm.getCursor()}function v(e,t){e.cm.setCursor(t)}function h(e){e.cm.focus()}function m(e,t){e.cm.setOption("mode",o[t])}function g(e,t){return new i.CodexNoteEditor({cm:e.cm,$notesElement:t})}function y(e,t,n){var r={state:e,$container:t};if(n){return new i.CodexNotesDisplayHandlerAndroid(r)}if(a.isMobile||a.isNative){return new i.CodexNotesDisplayHandlerMobile(r)}return new i.CodexNotesDisplayHandlerBase(r)}function _(e){var t=e.state,n=e.$deemphasizeField,a=e.$deemphasizeContainer;return new r.CodexDeemphasizerEditor({cm:t.cm,$deemphasizeField:n,$deemphasizeContainer:a})}function b(e){var t=e.state,n=e.data,a=e.envId,i=e.initialCode;return new r.CodexDeemphasizer({cm:t.cm,data:n,envId:a,initialCode:i})}},78:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CODEX_LINE_HEIGHT=void 0;var a=18;t.CODEX_LINE_HEIGHT=a},79:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.handleOutputGifs=o;var a=r(n(1));var i=n(432);function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.find(".codex-output .super-gif canvas");if(t.length){t.each((function(e,t){var n=(0,a.default)(t).parents("li");var i=document.createElement("img");i.src=n.data("gif-source");n.empty().append((0,a.default)(i))}))}var n=e.find('.codex-output img[src*=".gif?t="]');if(n.length){n.each((function(e,t){var n=(0,a.default)(t);var r=function e(){var r=(0,a.default)('\n                    <button class="replay-button">\n                        <span class="btn">Replay</span>\n                    </button>\n                ');var o=new i.SuperGif(t,{autoPlay:false,drawWhileLoading:false,maxWidth:t.width-1,onEnd:function e(){r.prop("disabled",false);o.pause()}});n.parents("li").attr("data-gif-source",t.src);var s="".concat(t.src,"&d=").concat(Date.now());o.loadURL(s,(function(){var e=o.canvas;var t=(0,a.default)(e);r.css({width:e.width,height:e.height});var n=function e(){if(!o.playing){o.moveTo(0);o.play();r.prop("disabled",true)}};t.on("click",n);r.prop("disabled",true);r.on("click",(function(e){e.preventDefault();n()}));t.after(r);o.play()}))};if(t.complete){r()}else{n.on("load",r)}}))}}},80:function(e,t,n){"use strict";var a=g(n(1));var i=g(n(9));var r=g(n(42));var o=g(n(21));var s=m(n(148));var l=n(44);var c=n(3);var u=m(n(33));var d=n(13);var f=m(n(15));var p=n(30);var v=n(18);var h=n(45);function m(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function g(e){return e&&e.__esModule?e:{default:e}}var y={};y.hitPreviewSolution=false;function _(e){var t=null;var n=null;var r={version:1,commentId:null,formIdParentId:null,parentId:null,topLevelDiscCommentForm:false,paramKey:null,commentText:"",isEditingThis:false,commentFormSuccess:false,errors:"",commentUserIsStaff:false,commentUserName:null};if(!e.length||!e.hasClass("comment-form-placeholder")){e=e.find(".comment-form-placeholder");if(!e.length){return}}var o=(0,c.jqGetElemById)("comment-form-template");t=i.default.template(o.text());var s=f.getParamsObject();if(s.sort){n=s.sort}var u=e.data();if(n&&u.formUrl.indexOf("sort="+n)<0){u.formUrl=f.appendGetParam(u.formUrl,"sort",n)}u.formId="discussion_comment_form_id_";if(u.formIdParentId){u.formId+="parent_id_"+u.formIdParentId}else if(u.commentId){u.formId+="comment_"+u.commentId}else if(u.postId){u.formId+="post_"+u.postId}else{u.formId+="unknown"}if(u.formIdParentId){u.autosaveKey="comment-for-"+u.formIdParentId}else if(u.commentId){u.autosaveKey="comment-"+u.commentId}else{u.autosaveKey="top-comment-for-"+u.postId}var d=e.find(".errorlist").get(0);if(d){u.errors=d.outerHTML}u=i.default.extend({},r,u);var p=(0,a.default)(t(u));var h=e.parent();e.replaceWith(p);y.init();(0,v.initGenericControllers)(h);i.default.defer((function(){h.find("form").off("submit");(0,l.initAutosubmit)(h)}));if(d){p.find("textarea:visible").focus()}}y.editEvents=function(e){var t=".cmmnt, .discsol-post";var n="click.commentediting";e.find(".edit-link .action").on("click",(function(){var e=(0,a.default)(this),t=e.find(".dropdown-menu");var n=t.outerWidth()<e.offset().left+e.outerWidth()+10;t.toggleClass("pull-right",n)}));(0,c.jqOffOn)(e.find(".edit-comment-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);_(n);n.addClass("editing");n.find(".comment-form").removeClass("previewing");var i=n.find("textarea:visible");C(i);i.trigger("focus");(0,h.mentionsAndWikiLinks)(i);(0,r.default)(i);var o=n.find("fieldset");s.setVal(o)}));(0,c.jqOffOn)(e.find(".cancel-edit-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);n.removeClass("editing focused replying")}));(0,c.jqOffOn)(e.find(".delete-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);n.addClass("deleting")}));(0,c.jqOffOn)(e.find(".delete-cancel-trigger"),n,(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget).parents(t);n.removeClass("deleting")}));e.find(".saved").delay(5e3).fadeOut(200,(function(){(0,a.default)(this).remove()}))};y.expander=function(e){e.find(".discsol-post .desc, .discsol-post .cmmnt .text").each((function(){var e=(0,a.default)(this);if(e.innerWidth()!==e[0].scrollWidth){e.addClass("scrollable")}}))};function b(e){var t=(0,c.jqGetElemById)("voting_div_for_comment_".concat(e));var n=t.find(".vote-up.voted").length>0;var a=t.find(".vote-down.voted").length>0;if(n){return"True"}else if(a){return"False"}return"None"}var w=function e(t,n){var a=t.data("vote-count")+n;t.toggleClass("voted",n>0);t.data("vote-count",a);t.find(".count").html(a);t.blur()};function k(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:c.$body;var t=e.find(".cmmnt");(0,c.jqOffOn)(t.find(".vote"),"click.commentvote",(function(e){var t=(0,a.default)(e.currentTarget),n=t.parents(".voting"),i=n.find(".vote-up"),r=n.find(".vote-down"),o=n.data("action_url"),s=n.data("comment_id"),l=b(s);var c=t.hasClass("vote-up")?"True":"False";if(l==c){c="None"}a.default.ajax({type:"POST",url:o,data:{comment_id:s,vote:c}}).fail(p.errorModalHandler).then((function(e){var t=b(s);if(t==e.vote){return}if(e.vote=="None"){if(t=="True"){w(i,-1)}else{w(r,-1)}}else if(e.vote=="True"){w(i,1);if(t=="False"){w(r,-1)}}else if(e.vote=="False"){w(r,1);if(t=="True"){w(i,-1)}}}))}))}var C=function e(t){(0,c.jqOffOn)(t,"mentions.show",(function(){t.parents(".cmmnt").addClass("mentions-active")}));(0,c.jqOffOn)(t,"mentions.hide",(function(){t.parents(".cmmnt").removeClass("mentions-active")}))};y.events=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:c.$body;var t=e.find(".comment-form").not("#new_post_form_id, #new_solution_form_id, #new_dispute_form_id, #new_wikifeedback_form_id");t.each((function(e,t){var n=(0,a.default)(t);n.find("textarea:visible").each((function(e,t){var i=(0,a.default)(t);C(i);(0,h.mentionsAndWikiLinks)(i);var o=function e(){(0,r.default)(i);n.addClass("focused");setTimeout((function(){i.trigger("autosize.resize")}),100)};if(i.val()){o()}else{i.one("input",(function(){o()}))}}))}));(0,h.mentionsAndWikiLinks)(t.filter(".previewing").find("textarea"));var n=t.find(".comment-form-buttons");(0,c.jqOffOn)(n.find(".preview"),"click.previewlink",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var n=t.parents("form");t.parents(".comment-form-buttons").addClass("dim");c.$window.trigger(a.default.Event("comment.preview.".concat(n.prop("id"))));(0,o.default)("discussions_comments").form(n.get(0),{preview_comment:true})}));(0,c.jqOffOn)(n.find(".edit"),"click.editlink",(function(t){t.preventDefault();(0,a.default)(t.currentTarget).parents(".comment-form").removeClass("previewing");y.events(e)}));n.find("[type=submit]").on("click",(function(){(0,a.default)(this).parents(".comment-form-buttons").addClass("dim")}));e.find(".cmmnt").each((function(){var e=(0,a.default)(this);var t=e.next(".cmmnt-container");var n=t.find(".reply-form-wrapper");var i=e.find(".show-replies");var r=e.find(".hide-replies");var o=e.find(".reply-unhide-link");i.on("click",(function(){e.addClass("expanded");t.removeClass("hide");if(!n.hasClass("replying")){o.removeClass("hide")}if(i.data("show-all-replies")===true){e.parents(".cmmnt-container").addClass("show-all-replies")}}));r.on("click",(function(){e.removeClass("expanded");t.addClass("hide");o.addClass("hide")}))}));e.find(".cmmnt:not(.solution)").each((function(e,t){var n=(0,a.default)(t);(0,c.jqOffOn)(n.find(".reply-unhide-link"),"click.unhidereply",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var i=n.data("comment");var r=(0,a.default)("div.unhide_new_reply_".concat(i));_(r);r.toggleClass("replying");if(r.hasClass("replying")){t.addClass("hide");var o=r.find("textarea");C(o);(0,h.mentionsAndWikiLinks)(o);var l=r.find("fieldset");s.setVal(l);o.trigger("focus");r.find(".cancel-edit-trigger").one("click",(function(){t.removeClass("hide")}));var c=t.closest(".qanda-comments").length>0;if(c){t.closest(".comment-content").find(".show-replies").trigger("click")}}}))}));var i=e.find(".discsol-post").find(".reply-unhide-link");(0,c.jqOffOn)(i,"click.comments",(function(e){var t=(0,a.default)(e.currentTarget);var n=t.parents(".discsol-post").next(".discsol-comments");n.toggleClass("hide-form");if(!n.hasClass("hide-form")){(0,h.mentionsAndWikiLinks)(n.find(".top-level-comment-form textarea"))}}));e.find(".cmmnt .text").each((function(){var e=(0,a.default)(this),t="preface-html",n=e.data(t);if(n){(0,a.default)("p:first",e).prepend((0,a.default)(n));e.removeAttr("data-"+t).removeData(t)}}));(0,c.jqOffOn)(t.find("textarea"),"focus.commentform",(function(e){var t=(0,a.default)(e.currentTarget).parents(".comment-form");t.addClass("focused");(0,r.default)(t.find("textarea:visible"))}));k();this.editEvents(e.find(".disc-comments"));e.find(".top-level-comment-form,.cmmnt.editing,.reply-form-wrapper.replying").each((function(){_((0,a.default)(this))}))};y.subscribe=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:c.$body;(0,c.jqOffOn)(e.find("a.discussions_subscribe"),"click.dscsubscr",(function(e){e.preventDefault();var t=(0,a.default)(e.currentTarget);var n=t.parents("form");var i=n.find("input[type=checkbox]");var r=!t.hasClass("subscribed");var o=n.data();var s=n.parents(".disc-post");t.parents(".wiggle").removeClass("wiggle");if(s.length===0){s=(0,a.default)(".disc-comments-list")}i.prop("checked",r);n.trigger("submit");if(!r){var l=s.find(".comment-subscr[data-subscribed=true]");if(l.length>0){(0,d.showConfirmationModal)({title:o.confirmModalTitle,text:o.confirmModalText,cancelBtnText:o.confirmModalCancel,confirmBtnText:o.confirmModalOk}).then((function(e){if(e){l.each((function(e,t){(0,a.default)(t).trigger("submit")}))}}))}}}))};y.expandThreadsFor=function(e){e.parents(".cmmnt-container").prev(".cmmnt").find(".show-replies").trigger("click")};y.formattingGuideLink=function(e){var t,n;e.on("click",(function(i){i.preventDefault();t=t||e.data();n=n||(0,a.default)(t.target);n.fadeToggle(100,(function(){if(n.is(":visible")){d.Anchors.scrollToTarget(n)}}))}))};y.init=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:c.$body;this.events(e);this.votes(e);this.subscribe(e);this.expander(e);u.scaleSVG(e.find(".latexprocessor-block, .latexprocessor-inline"))};y.votes=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:c.$body;var t=e.find(".discsol-vote").not(".inited").not(".disabled");t.addClass("inited");t.on("click",(function(){var e=(0,a.default)(this),t=e.data(),n=t.currentVote==="True"?"None":"True";if(e.hasClass("disabled")){return}e.addClass("disabled");a.default.ajax({type:"POST",url:t.actionUrl,data:{post_id:t.postId,vote:n}}).fail(p.errorModalHandler).then((function(n){e.removeClass("disabled");if(n.success){if(n.vote==="True"){e.addClass("voted");t.count++}else{e.removeClass("voted");t.count--}e.data("current-vote",n.vote);var a=e.find(".vote-count");if(a.length){a.find(".count").html(t.count)}else{e.find(".count").html(t.count)}}}))}))};y.add_form=function(){var e=(0,c.jqGetElemById)("new_post_form_id").add("#new_solution_form_id").add("#new_dispute_form_id").add("#new_wikifeedback_form_id");var t="click.dsc";e.each((function(e,n){var i=(0,a.default)(n);var r=i.find(".comment-form-buttons");var s=r.find(".preview");var l=r.find(".edit");(0,c.jqOffOn)(s,t,(function(e){e.preventDefault();r.addClass("dim");var t;if(i.hasClass("edit-solution-form")){t={preview_comment:true};y.hitPreviewSolution=true}else{t={preview_post:true}}c.$window.trigger(a.default.Event("discussion.preview.".concat(i.prop("id"))));(0,o.default)("discussions").form((0,c.jqGetElemById)((0,a.default)(e.currentTarget).data("preview_form_id")),t)}));(0,c.jqOffOn)(l,t,(function(e){e.preventDefault();i.removeClass("previewing");(0,h.mentionsAndWikiLinks)((0,a.default)("textarea:visible"))}))}))};e.exports=y},807:function(e,t,n){"use strict";n(808);n(902);var a=l(n(1));var i=n(18);var r=n(44);var o=n(55);var s=n(20);function l(e){return e&&e.__esModule?e:{default:e}}(0,s.onDOMReady)((function(){(0,i.initGenericControllers)();(0,a.default)(".cmp-deferred").each((function(e,t){(0,o.add)((0,a.default)(t))}));var e=(0,a.default)("form:not(.disable-submit-auto-disabling, #_fb_login)");(0,r.preventDefaultSubmitHandler)(e);(0,a.default)("form").each((function(e,t){var n=(0,a.default)(t);if(n.attr("action")===""){n.attr("action",window.location.href)}}));(0,r.initAutosubmit)()}))},808:function(e,t,n){"use strict";n(809);n(814);n(818);n(821);n(824);n(828);n(832);n(840);n(844);n(847);n(851);n(854);n(859);n(875);n(879);n(75);n(112);n(42);n(61);n(3);n(13);n(11);n(421);n(43);n(632);n(33);n(148);n(149);n(41);n(429);n(633);n(37);n(634);n(53);n(15);n(85);n(20)},81:function(e,t,n){"use strict";var a=j(n(1));var i=j(n(9));var r=j(n(42));var o=j(n(112));var s=j(n(21));var l=j(n(11));var c=n(44);var u=n(12);var d=S(n(55));var f=j(n(41));var p=n(3);var v=S(n(33));var h=S(n(37));var m=j(n(429));var g=j(n(31));var y=j(n(149));var _=S(n(15));var b=n(13);var w=n(92);var k=j(n(80));var C=j(n(65));var x=n(30);var E=n(18);var I=n(45);var T=j(n(93));var O=n(151);function S(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function j(e){return e&&e.__esModule?e:{default:e}}var q={};var P={};var A=false;var D=null;var N=false;var M;var z=function e(t){return P[t.data("solvable")]||{}};var L=function e(t){k.default.add_form();k.default.votes()};var $=function e(t){if(t.$solversList){var n=t.$solversList;q.recentSolvers(n)}if(t.$solversContainer){d.load(t.$solversContainer.children(".cmp-deferred"))}};var B=function(){var e=["solutions","disputes"];return function(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;t=t||"default";n.previousState=n.previousState||null;n.currentState=n.currentState||null;if(t==="back"){B(n.previousState,n);return}n.$solvable.removeClass(e.join(" "));m.default.removeBackButton();if(t&&e.indexOf(t)>=0){n.$solvable.addClass(t)}if(t==="solutions"||t==="disputes"){F(n,t,i);if(t==="disputes"){var r=(0,a.default)(".solv-disputes");if(p.isMobile){r.removeClass("hide")}if(i){b.Anchors.scrollToTarget(r)}}}else if(i&&t==="default"&&n.currentState==="solutions"&&!p.isMobile){b.Anchors.scrollToTarget(p.$body)}G(n);R(n);v.updateMathjax(n.$solvable);n.previousState=n.currentState;n.currentState=t;p.$body.trigger(a.default.Event("solvable.statechange",n))}}();q.setStateForSolvable=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;t=t||null;B(t,z(e),n)};function U(e,t){i.default.defer(d.addCmpsInContainer,e,t);e.on("scroll.deferred",i.default.throttle((function(e){d.addCmpsInContainer((0,a.default)(e.target)||null,t)}),50))}var F=function e(t,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;t.$solvable=t.$solvable||(0,a.default)(".solv-main");var o=t.$solvable.find(n==="solutions"?".solv-solutions":".solv-disputes"),s=t.$solvable.find("#solv-simple-solution-target"),l=o.find(".cmp-deferred");t.$solvable.find(".btn-solution.wiggle-less").removeClass("wiggle-less active-green").blur();t.$solvable.find(".btn-solution.wiggle").removeClass("wiggle").blur();if(p.isMobile&&s.length>0){if(i){b.Anchors.scrollToTarget(s)}return}else if(n==="solutions"&&p.isMobile&&s.length===0){var c=(0,p.jqGetElemByCmpName)("solutiondiscussions_publicsolvableaddsolutionpost");if(!c.length){c=(0,p.jqGetElemByCmpName)("solutiondiscussions_publicsolvablesolutionlist")}if(i&&c.length){b.Anchors.scrollToTarget(c)}}if(o.length>0){l.each((function(e,t){d.add((0,a.default)(t))}));var u=t.$solvable.parents("#nf-feeditem-modal");if(u.length>0){U(u,l.length)}(0,r.default)(o.find("textarea:visible"))}if(i){b.Anchors.scrollToTarget((0,a.default)("#solutions-scrollable-container,#disputes-scrollable-container,#solv-simple-solution,#b2-solution").filter(":visible"))}};var G=function e(t){var n=t.$solvable;v.scaleSVG(n,p.isMobile?.4:undefined)};function R(e){v.scaleSVG(e.$solvable.find(".btn-mcqs"))}var H=function e(t,n){t=t||(0,a.default)("[data-controller].dim");if(t.length){t.removeClass("dim disabled").removeAttr("disabled");t.data("solutions-loaded",n);var i=p.isMobile?t.find(".main"):t;(0,b.toggleButtonLoadingState)(i,false)}};var V=function e(t){if(t.currentState==="solutions"){t.$solvable.find(".solv-details .btn-solution").removeClass("active");B("",t);p.$window.trigger(a.default.Event("solution.hide"))}else{t.$solvable.find(".solv-details .btn-solution").removeClass("btn-accent").addClass("active");t.$solvable.find(".esr-problem").addClass("btn-accent active");B("solutions",t);p.$window.trigger(a.default.Event("solution.show"))}};var W=function e(t){var n=P[t.solvable];if(!n.solutionsLoading){n.solutionsJustLoaded=true;n.solutionsLoading=true;(0,s.default)(t.page_key).post(t.postLink,t)}};q.solvable=function(e){var t=e,n=t.data("solvable"),i=P[n]||{};i.$solvable=t;i.data=(0,p.jqGetElemById)("solvable-data").data();i.solvableDidOnload=i.solvable===true;i.currentState=null;i.previousState=null;P[n]=i;(0,p.jqGetElemById)("direct-link-input").on("click",(function(e){e.stopPropagation();(0,a.default)(e.currentTarget).select()}));G(i);if(i.solutionsJustLoaded){P[n].solutionsJustLoaded=false;i.solutionsJustLoaded=false;B("solutions",i)}else if(i.disputesJustLoaded){(0,a.default)(".dispute-disc-modal, .reveal-disputes-modal").modal("hide");P[n].disputesJustLoaded=false;i.disputesJustLoaded=false;B("disputes",i)}else if(p.isMobile&&p.userIsAuthenticated&&i.$solvable.find("#solv-simple-solution").length){B("solutions",i)}v.updateMathjax(t.find(".uses-latex, .latex"));if(i.solvableDidOnload!==true){P[n].solvableDidOnload=true;L(i)}var r=t.data("ir-verification");if(r&&!r.preventUpdate){var o=t.find(".solv-details"),s=r.canStillAnswer===!o.hasClass("endstate"),c=r.answerIsCorrect===o.hasClass("correct"),u=r.attemptNumber===t.find("#attempt-number").data("attempt-number");if(!s||!c||!u){l.default.track("instant response mismatch",{solvable:n,answer:encodeURIComponent(r.answer),url:window.location.href,"endstate mismatch":!s,"correct/incorrect state mismatch":!c,"attempt number mismatch":!u})}t.removeData("ir-verification")}};q.solvableRedesign=function(e){var t=e.data("solvable");var n=P[t]||{};n.$solvable=e;n.data=(0,p.jqGetElemById)("solvable-data").data();n.solvableDidOnload=n.solvable===true;n.currentState=null;n.previousState=null;P[t]=n;k.default.add_form();k.default.votes();e.find(".sharing-dd .dropdown-menu").on("click",(function(e){e.stopPropagation()}));e.find(".bsharing-link").on("click",(function(){(0,a.default)(this).parents(".dropup").removeClass("open")}));e.find(".direct-link").on("click",(function(){(0,a.default)(this).find("input").select()}));if(n.currentState==="solutions"||n.$solvable.hasClass("solutions")){n.currentState="solutions";n.$solvable.find(".solv-details .btn-solution").first().addClass("active")}(0,O.images)(e);q.cropActionsMenu(e);var i=(0,a.default)(".solv-signed-up");if(i.length){var r=i.offset().top+i.outerHeight();var o=n.$solvable.find(".solv-details").offset().top;(0,p.setScrollPosition)(o-r-p.mediumPadding*2)}};function K(){var e=(0,a.default)(".mcq-edit-form");var t=(0,a.default)(".question-text");var n=(0,p.jqGetElemById)("solvable_title_editor_container");return e.is(":visible")||t.hasClass("previewing")||t.hasClass("editing")||n.hasClass("editing")}q.editableTitle=function(e){var t=e.find(".edit-title-link");if(e!==null&&e.length&&t!==null&&t.length){var n=e.find(".cancel-edit-link");t.on("click",(function(){if(K()){var t=e.data(),n=t.errorTitle,a=t.errorContent;(0,b.showGenericModal)(n,a)}else{e.addClass("editing")}}));n.on("click",(function(){e.removeClass("editing")}))}};q.solversInit=function(e){P[e.data("solvable")].$solversContainer=e;if(e.find(".cmp-deferred").length){$(z(e))}else{e.appendTo((0,p.jqGetElemByCmpName)(e.data("cmp-target"))).removeClass("hide")}};q.answerFormWrapper=function(e){var t=e.find("input#id_answer");if(t.length){var n=function n(){var a=t.val().trim()==="";e.find(".btn-submit").prop("disabled",a).toggleClass("disabled",a)};t.on("input",n);n()}i.default.defer((function(){var t=z(e);e.find("form").on("submit",(function(){t.$solvable.find(".spinner").addClass("active")}));if(!p.isMobile){if(!e.data("disable-auto-focus")){e.find("#id_answer").select()}}else if(navigator.userAgent.indexOf("Android 4.0")!==-1){e.find("#id_answer").on("focus",(function(){var e=(0,a.default)(this);setTimeout((function(){var t=e.offset().top;var n=t-20;if(n>0){(0,p.setScrollPosition)(n)}}),500)}))}R(t)}))};q.loggedOutForm=function(e){var t=e.find(".logged-out-answer");var n=e.parents(".solv-details,.solv-details-loggedout").find(".logged-out-solution");var i=(0,p.jqGetElemById)("solv-public-signup");var r=i.find(".public-signup-right");var o=i.find("#signup-fb");var s=i.find("#login-fb");var c=i.find("#signup-google");var d=i.find("#login-google");var f=i.find("#signup-email, #problem-signup-link-alternative");var m=i.find("#problem-login-link, #problem-login-link-alternative");var g=i.find("#public-answer");var y=e.find(".btn-mcq");var w=e.find("[name=logged-out-mcq]");var k=e.hasClass("mcq-form");var C=e.hasClass("multi-select");var x="|";var E=e.data();var I=o.attr("href");var T=s.attr("href");var O=c.attr("href");var S=d.attr("href");var j=f.attr("href");var q=m.attr("href");var P=E.delayedSignup===true;var A=1e4;var D=function e(){var n="";if(C){var i=[];w.each((function(e){if((0,a.default)(this).is(":checked")){i.push(e+1)}}));n=i.join(x)}else if(!k&&t.length){n=t.val()}else if(w.length){var r=w.filter(":checked");n=r.length?r.val():""}return n.trim()};var N=function e(t,n){if(!t){return}var a=t.indexOf("%3F")===-1?"?":"&";return t+encodeURIComponent(a+n)};var M=function e(t,n){t.preventDefault();var a=D();var i={};var u={};var p=I;var v=T;var y=O;var b=S;var C=j;var P=q;l.default.track("ui",{action:"click",element_type:"button",element_id:"logged_out_solvables_"+n});var A=isNaN(parseFloat(a));r.removeClass("text-answer alt show-form");if(a.length){if(a.indexOf(x)>=0){g.text("Those choices")}else{if(k&&h.textContainsUnrenderedMath(a)){var M=w.filter((function(){return this.value===a}));var z=M.parents(".btn-mcq").children("span").html();g.html(z)}else{g.text(a.replace(/__replace_plus__/g,"+").replace(/__rep_perc__/g,"%").replace(/__rep_ques__/g,"?"))}}i["attempt"]=encodeURIComponent(a);u["attempt"]=encodeURIComponent(a);f.add(m).data("attempt",a);f.add(m).attr("data-attempt",a);if(A){r.addClass("text-answer")}}else{if(!E.interactive){r.addClass("alt")}a="no-input"}if(p){p=p.replace("try-value-value",encodeURIComponent(a))}if(v){v=v.replace("try-value-value",encodeURIComponent(a))}if(y){y=y.replace("try-value-value",encodeURIComponent(a))}if(b){b=b.replace("try-value-value",encodeURIComponent(a))}if(C){C=C.replace("try-value-value",encodeURIComponent(a))}if(P){P=P.replace("try-value-value",encodeURIComponent(a))}if(E.isQuiz||E.isDailyProblem){var L=E.solvableSlug?"problem=".concat(E.solvableSlug):null;var $="attempt=".concat(a);var B=L?"".concat(L,"&").concat($):$;p=N(p,B);v=N(v,B);y=N(y,B);b=N(b,B);C=N(C,B);var U="";if(P.indexOf("problem=")==-1){U+="problem="+E.solvableSlug;if(P.indexOf("attempt=")==-1){U+="&"}}if(P.indexOf("attempt=")==-1){U+="attempt="+encodeURIComponent(a)}P=N(P,U)}if(E.topicTag){i["topic_tag"]=E.topicTag;u["topic_tag"]=E.topicTag;p=N(p,"topic_tag="+E.topicTag);v=N(v,"topic_tag="+E.topicTag);y=N(y,"topic_tag="+E.topicTag);b=N(b,"topic_tag="+E.topicTag);f.add(m).data("topic_tag",E.topicTag);f.add(m).attr("data-topic_tag",E.topicTag)}if(C){var F=C.match(/next=(.*)/);if(F.length){f.data("next",F[1]);f.attr("data-next",F[1]);f.data("already_escaped",true);f.attr("data-already_escaped",true)}}if(P){var G=P.match(/next=(.*)/);if(G.length){var R=decodeURIComponent(G[1]);m.data("next",R);m.attr("data-next",R)}}o.attr("href",_.appendGetParams(p,i));s.attr("href",_.appendGetParams(v,i));c.attr("href",_.appendGetParams(y,i));d.attr("href",_.appendGetParams(b,i));f.attr("href",_.appendGetParams(C,u));m.attr("href",_.appendGetParams(P,u))};var z=function e(n,a,r){if(p.$body.hasClass("hundredday-page")){var o=(0,p.jqGetElemById)("solv-main");o.css({height:o.outerHeight()});i.appendTo(p.$body);(0,p.jqOffOn)(i.find(".modal-bg"),"click.modalhack",(function(){o.css("height","auto");i.insertAfter(".solv-problem")}))}M(n,a);(0,p.jqGetElemById)("nf-modal-close").hide();i.addClass("open");v.scaleSVG(g);t.blur();var s=i.find("#public-signup-tour");if(s.length&&!s.data("already-opened")){s.data("already-opened",true);s.attr("data-already-opened",true);l.default.track("ui",{action:"viewed_prenux_slide",step_position:1,is_first_step:true,is_last_step:false})}if(r){i.on("click",(function(){i.removeClass("open")}))}};var L=false;var $=function e(){if(P&&!L){L=true;l.default.track("ui",{element_id:"viewed_logged_out_answer_sponsored"})}};var B=function e(t,n){if(P){setTimeout((function(){z(t,n,false)}),A)}else{z(t,n,true)}};var U=function t(n){if(P){var a=e.parents(".solv-main").find("#solv-simple-solution");a.show();if(n){b.Anchors.scrollToTarget(a)}}};e.on("submit",(function(e){e.preventDefault();B(e,"submitted_form");U();if(D()){$()}}));(0,p.jqOffOn)(n,"click",(function(a){t.val("");y.removeClass("active dim");w.filter(":checked").prop("checked",false);B(a,"clicked_solution_btn");if(P){a.preventDefault();U(true);e.data("viewed-solution",true);e.submit();l.default.track("ui",{element_id:"viewed_logged_out_solution_sponsored"});n.fadeOut(100)}}));p.$body.on(u.EVT_QUIZ_POSITION_DID_CHANGE,(function(){(0,a.default)(".logged-out-solution").removeClass("dim disabled").removeAttr("disabled")}))};q.preventSocialButtonDoubleClick=function(e){e.find(".signup-social").on("click",(function(e){var t=(0,a.default)(this);if(t.hasClass("disabled")){e.preventDefault()}else{t.addClass("disabled")}}))};q.mcqForm=function(e){var t=e.find("label");var n=function t(){var n=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",n).toggleClass("disabled",n)};t.on("click",(function(){var e=(0,a.default)(this);var i=e.find("input");var r=i.val()||null;if(r!==null){i.prop("checked",true);t.removeClass("active dim");e.addClass("active");M=r.replace(/__replace_plus__/g,"+")}n()}));n()};q.multiSelectForm=function(e){var t=function t(){var n=e.find("input:checked").length<=0;e.find(".btn-submit").prop("disabled",n).toggleClass("disabled",n)};e.find("label").on("click",(function(e){e.preventDefault();var n=(0,a.default)(this);setTimeout((function(){var e=n.find("input");var a=e.val()||null;var i=e.is(":checked");if(a!==null){if(i){e.prop("checked",false);n.removeClass("active")}else{e.prop("checked",true);n.addClass("active")}t()}}))}));t()};q.answerForm=function(e){var t=e.find("#id_answer");e.on("submit",(function(n){n.preventDefault();var a=e.attr("id"),r=a==="mcq-form",o=a==="text_answer_entry_form",c=t.val(),u=t.data("placeholder");if(A&&D===0&&(r||o&&c!==""&&c!==u)){(0,p.jqGetElemById)("solv-public-form").addClass("open");return}var d=(0,s.default)(e.find("#id_page_key").val());var f=e.parents(".solv-main"),v=e.parents(".solv-details").clone(),h=false,m=0,g=500,y=120;var _=function e(t){if(m&&!h){h=true;l.default.track("ui",{element_id:"solvable_answer_resend",resend_count:m,resend_successful:t,resend_total_time:m*g})}};var w=function t(n){if(m<y){m++;setTimeout((function(){d.post(n.url,n)}),g)}else{(0,b.showGenericModal)("Error",e.data("max-resend-error"));k();_(false)}};var k=function e(){var t=f.find(".solv-details");t.replaceWith(v);f.find(".b2-solution").hide();f.removeClass("solutions");v.find(".spinner").removeClass("active");v.find(":disabled,.dim").removeClass("dim disabled").removeAttr("disabled");(0,E.initGenericControllers)(v)};var C=d.success;d.success=function(){C.apply(d,arguments);_(true)};d.error=function(e,t){if(e.status===0){w(t)}else if(e.statusText==="timeout"){(0,x.showTimeoutErrorModal)();k()}else if(e.status>0){(0,x.errorModalHandler)(e);k()}};i.default.defer((function(e){var t=f.data("ir-verification"),n={};try{if(t["preventUpdate"]){n["instant_response_check"]="cant_tell"}else{n["instant_response_check"]=t["answerIsCorrect"]?"correct":"incorrect"}n["instant_response_problem_completed"]=t["canStillAnswer"]?"no":"yes";n["instant_response_tries_left"]=t["triesLeft"]}catch(e){}d.form(e,n)}),e.clone())}))};q.interactiveSolvable=function(e){var t="InteractiveProblem.".concat(e.data("solvable"));var n=function t(){return p.userIsAuthenticated?e.find("#solv-interactive-form"):e.find(".solv-form-logged-out")};(0,p.jqOffOn)(p.$window,"".concat(t,".export-state"),(function(t,n){e.find("[name=current_state]").val(JSON.stringify(n.state))}));(0,p.jqOffOn)(p.$window,"".concat(t,".check-answer"),(function(t,a){var i=a.isSolved;if(p.userIsAuthenticated){e.find("[name=mark_correct]").prop("checked",i===true);n().submit()}}));(0,p.jqOffOn)(p.$window,"".concat(t,".show-signup-modal"),(function(e,t){var a=t.solvableType;if(!p.userIsAuthenticated){var i=n();i.find("[name=answered]").prop("checked",true);var r=(0,p.jqGetElemById)("solv-public-signup").find(".public-signup-right");if(a==="auto-check"){r.addClass("autochecked-interactive")}else{r.addClass("alt")}i.submit()}}));(0,p.jqOffOn)(p.$window,"".concat(t,".show-explanation"),(function(){if(p.userIsAuthenticated){(0,a.default)(".btn-solution-full").trigger(a.default.Event("click"))}else{var e=n();e.find("[name=answered]").prop("checked",false);e.submit()}}));(0,p.jqOffOn)(p.$window,"".concat(t,".continue"),(function(){var t=p.userIsAuthenticated?".solv-done-btn":".next-marker-btn";e.find(t).trigger(a.default.Event("click"))}))};q.edit=function(e){var t=e.find("form");var n=e.find(".btn-edit");var i=(0,a.default)(".solv-edit-trigger").not(".btn-edit");var o=e.closest(".course-quiz-flex");if(o.length===0){o=e.closest(".solv-main")}var c=o.find(".solvable-mcq-options-btn");var d=o.find(".mcq-edit-form");var f=o.find(".edit-mcq-cancel");var v=e.find(".question-text-preview");var h=e.find(".btn-save");var m=e.find(".cancel-edit");var g=e.find(".question-text-preview-field");var y=e.find(".show-solution");var _=t.find("textarea").not(".codex-textarea textarea");var w="editing";var k="previewing";var C=e.hasClass(k);if(!c.length){c=(0,p.jqGetElemById)("answer-edit-trigger")}var x=function t(n){g.val(n.toString());e.data("previewing",!n)};var E=function n(i){var o=i?(0,a.default)(i.currentTarget):null;if(i){i.preventDefault()}if(o&&o.is(":not(.is-reedit-trigger)")&&K()){var s=e.data(),l=s.errorTitle,c=s.errorContent;(0,b.showGenericModal)(l,c)}else{if(o){o.addClass(u.CLASS_NAME_ACTIVE)}e.removeClass(k);e.addClass(w);(0,a.default)(window).scrollTop(t.offset().top-150);(0,r.default)(_);(0,I.wikiLinks)(_);x(true)}};m.on("click",(function(t){if(t){t.preventDefault()}if(C){var a=e.data();(0,b.showConfirmationModal)({title:a.cancelConfirmText}).then((function(e){if(e){var t=a.cmpUrl,n=a.cmpKey,i=a.pageKey,r=a.paramKey;(0,s.default)(i).get(t,{component_key:n,param_key:r})}}))}else{e.removeClass(w);x(false);n.add(i).removeClass(u.CLASS_NAME_ACTIVE)}}));n.on("click",E);(0,p.jqOffOn)(i,"click",E);e.on("edit",E);if(e.hasClass(w)){E()}h.on("click",(function(t){var n=g.val()==="false";if(!n){var a=e.data();t.preventDefault();(0,b.showConfirmationModal)({title:a.saveConfirmText}).then((function(e){if(e){x(false);h.parents("form").trigger("submit")}}))}}));c.on("click",(function(t){t.preventDefault();if(K()){var n=e.data(),a=n.errorTitle,i=n.errorContent;(0,b.showGenericModal)(a,i)}else{d.siblings().hide();d.show()}}));f.on("click",(function(e){e.preventDefault();d.siblings(":not(script)").show();d.hide()}));v.on("click",(function(e){e.preventDefault();t.submit()}));t.on("submit",(function(){var t=e.data();if(t.suspended&&t.previewing){(0,b.showGenericModal)(t.suspendedTitle,t.suspendedText)}}));y.on("click",(function(e){var t=(0,a.default)(e.target);e.preventDefault();t.next().toggleClass("hide");var n=_[0].classList[0].replace("solvable_question-","");var i={action:"staff_only_action",solvable:n};if(t.html()==="Show Solution"){t.html("Hide Solution");i.element_id="clicked_show_solution"}else{t.html("Show Solution");i.element_id="clicked_hide_solution"}l.default.track("ui",i)}));t.find(".viz-wrapper").on("click","button:not([type]), button[type=submit], input[type=submit]",(function(e){return e.preventDefault()}))};q.solutionButton=function(e){var t=e.data(),n=z(e);(0,p.jqOffOn)(e,"click.showSolution",i.default.debounce((function(r){r.preventDefault();if(e.hasClass("disabled")){return}var o=(0,a.default)(".solv-solutions");if(p.isMobile&&o.hasClass("expanded")){(0,p.setScrollPosition)(o.offset().top-(0,a.default)(".m-action-bar").height())}if(e.data("solutions-loaded")){V(n)}else{var s=function n(){var a=p.isMobile?e.find(".main"):e;e.addClass("dim").blur();(0,b.toggleButtonLoadingState)(a,true);W(t)};var l=(0,p.jqGetElemById)("solv-confirm-box");if(l.length){if(p.isMobile){var c="active";p.$body.append(l);l.show();i.default.defer((function(){l.addClass(c)}));(0,p.jqOffOn)(l.find(".btn"),"click",(function(e){l.removeClass(c);setTimeout((function(){l.hide()}),210);if((0,a.default)(e.currentTarget).hasClass("btn-confirm")){s()}}))}else{s()}}else{s()}}}),300));if(window.location.href.indexOf("/solution-comments/")!==-1&&n.currentState!=="solutions"){if(e.data("solutions-loaded")){V(n)}else if(n.$solvable.find(".solv-details.endstate").length){W(e.data())}}};q.disputeDiscTrigger=function(e){var t=e.data(),n=z(e),i=false,r=(0,a.default)(".dispute-disc-modal");e.on("click",(function(e){e.preventDefault();if(t["disputesLoaded"]){B("disputes",n);if(i===false){i=true;(0,a.default)("#solvable-resend-verification-form").submit()}}else{r.modal("show");if(i===false){i=true;r.find("#solvable-resend-verification-form").submit()}}}))};q.staffDisputeDiscForm=function(e){e.on("submit",(function(){P[e.data("solvable")].disputesJustLoaded=true}))};q.disputeModalForm=function(e){var t=e.find(".explanation");e.find('input[type="radio"]').on("change",(function(){if(!t.hasClass("visible")){t.addClass("visible");(0,r.default)(t.find("textarea"))}}))};q.disputeModalFormEndState=function(e){e.find(".view").on("click",(function(){e.find(".view-reports").addClass("loading");(0,p.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")}))};q.revealDisputesModal=function(e){e.on("click",(function(){(0,a.default)(".reveal-disputes-modal").clone(true).modal("show")}))};q.revealDisputes=function(e){e.on("click",(function(e){(0,a.default)(e.currentTarget).addClass("".concat(u.CLASS_NAME_DISABLED," ").concat(u.CLASS_NAME_LOADING));(0,p.jqGetElemById)("enter-dispute-discussions-form").trigger("submit")}))};q.enterDisputeDiscussionsForm=function(e){e.on("submit",(function(){P[e.data("solvable-id")].disputesJustLoaded=true}))};q.deleteForm=function(e){var t=(0,p.jqGetElemById)("stats-delete-btn");t.on("click",(function(){var n=e.find("form");e.modal();t.addClass("hide");n.on("submit",(function(){e.modal("hide")}))}))};q.reviewedForm=function(e){var t=(0,p.jqGetElemById)("stats-reviewed-btn");t.on("click",(function(){var n=e.find("form");e.modal();t.addClass("hide");n.on("submit",(function(){e.modal("hide")}))}))};q.mostPopularRecommendedProblem=function(e){var t=(0,a.default)(".recommended-problems .most-popular-recommended-problem");if(t.length){t.clone(true,true).appendTo(e.empty())}};var J=false;q.NotifyAboutGoodSolution=new function(){var e=this,t=null,n=null,i=null,r=null,o={HIDE_TIMEOUT:1e3,FADE_TIME:500};e.exists=false;e.controller=function(s){e.exists=true;t=s;n=t.find(".dropdown-toggle");i=t.find(".dropdown-menu");if(p.isMobile){(0,p.jqOffOn)((0,a.default)(".btn-solution"),"click.notifyAboutGoodSolution",(function(e){e.preventDefault();var n=t.modal();n.find("button").on("click",(function(){n.modal("hide")}))}))}else{n.on("mouseenter",e.show).on("click",(function(e){e.preventDefault()}));t.on("mouseleave",(function(){r=setTimeout(e.hide,o.HIDE_TIMEOUT)})).on("mouseenter",(function(){clearTimeout(r)}))}i.on("click",(function(e){e.stopPropagation()}));t.find("form").on("submit",(function(){J=true;t.addClass("loading")}));if(J){J=false;e.show()}};e.show=function(e){if(!t.hasClass("open")){t.addClass("open");i.addClass("open").fadeIn(e||o.FADE_TIME)}};e.hide=function(e){if(t.hasClass("open")){var n=function e(){t.removeClass("open");i.removeClass("open")};if(i.is(":visible")){i.fadeOut({duration:e||o.FADE_TIME,complete:n})}else{i.hide();n()}}};e.toggle=function(n){if(t.hasClass("open")){e.hide(n)}else{e.show(n)}};e.toggleIcon=function(e){if(t){if(e){t.show()}else{t.hide()}}};return e};q.cropActionsMenu=function(e){var t=e.find(".solv-actions-dropdown");t.find(".dropdown-toggle").on("click",(function(){var n=e.outerHeight(true)-e.find(".solv-footer").outerHeight(true);if(p.isMobile){n-=e.find(".solv-details").outerHeight(true)}t.find(".dropdown-menu").css("max-height",n)}))};q.showChapterIntro=function(e){var t=e;if(!e.hasClass("quiz-wrapper")){t=e.parents(".quiz-wrapper");e.find(".btn-link").on("click",(function(){t.toggleClass("chapter-intro-view")}))}var n=t.find(".chapter-intro-wrapper"),i=n.find(".btn-tabs .btn");i.on("click",(function(){var e=(0,a.default)(this);if(!e.hasClass("active")){i.removeClass("active");e.addClass("active");n.removeClass("intro quizzes wikis").addClass(e.data("value"))}}))};q.practiceAnonWrapper=function(e){A=true;D=e.data("signup_after_n_problems");var t=".prev-marker-btn";var n=".next-marker-btn";var i=e.find(".prac-anon-item");var r=e.find("".concat(t,", ").concat(n));var o=e.find(".prac-markers");var s=o.find(".prac-marker");var l="visible";var c="current";var d=o.length>1;var f=i.length;function v(e){r.filter(t).toggleClass("disabled",e===0);r.filter(n).toggleClass("disabled",e===f-1)}function h(e){if(e<0||e>=f){return}v(e);i.removeClass(l).eq(e).addClass(l);if(d){s.removeClass(c);(0,a.default)(o[e]).find(".prac-marker").eq(e).addClass(c)}else{s.removeClass(c).eq(e).addClass(c)}p.$body.trigger(u.EVT_QUIZ_POSITION_DID_CHANGE);var t=(0,a.default)(".prac-anon-item.visible .codex-container");if(t.length){(0,w.controller)(t)}}r.on("click",(function(e){e.preventDefault();var t=(0,a.default)(this);var n=i.filter("."+l);var r=i.index(n);if(t.hasClass("prev-marker-btn")){r--}else if(t.hasClass("next-marker-btn")){r++}h(r)}));s.on("click",(function(){var e=(0,a.default)(this);h(e.index())}));if(d){var m=i.length;var g=function e(t){return function(){var e=s.filter(".current").index();h(e+t)}};(0,b.keyboardNavigation)({left:g(-1),right:g(1)})}v(s.filter(".current").index())};q.practiceAnon=function(e){if(e.hasClass("prac-anon-item")){var t=e.find(".solv-details").not(".course-quiz-solv-details");var n=e.outerHeight();t.css({overflow:"auto"});var a=(0,b.getScrollHeight)(t)+2;t.css({overflow:"hidden"});if(n<a){i.default.defer((function(){t.css({position:"static"})}))}}};q.nextSkillB2Modal=function(){var e=null;return function(t){t.on("click",(function(t){t.preventDefault();if(e===null){e=(0,p.jqGetElemById)("prac-next-skill-b2").modal()}else{e.modal("show")}}))}}();q.checkAnswerButton=function(e){var t=z(e).$solvable;var n=function t(n){n=n===true;if(p.isIos&&p.appVersion.isGreaterThanOrEqualTo("0.9.7")){if(n){window.location="disableanswerbutton://"}else{window.location="enableanswerbutton://"}}var a="btn-outline disabled",i="btn-accent";e.removeClass(n?i:a);e.addClass(n?a:i)};i.default.defer((function(){var e=t.find(".btn-mcq");t.find(".mcq-form").removeClass("disable-for-mobile");e.one("click",n)}));e.on("click",(function(){if(!e.hasClass("disabled")){t.find("#mcq-form").submit()}}))};q.recentSolvers=function(e){P[e.data("solvable")].$solversList=e;var t=e.parents(".solv-author").find(".likes-container");var n=e.find(".btn-expand").width();t.css("padding-left",n+14);e.removeClass("hidden");(0,p.jqOffOn)(e.find("button"),"click",(function(){e.toggleClass("expanded");var n=e.find("button:visible").width();t.css("padding-left",n+14)}))};vkey.assessment_modal_public_solvable_component=function(e){var t=e.find(".solv-main"),n=t.data("solvable");P[n]=P[n]||{};P[n].solvableDidOnload=false;(0,E.initGenericControllers)(e);k.default.add_form();k.default.votes();k.default.events();e.find(".modal-target").each(C.default.modal_events);(0,c.initAutosubmit)(e)};q.assessment_modal_public_solvable_component=vkey.assessment_modal_public_solvable_component;q.levelUpModal=function(e){var t=(0,p.jqGetElemById)("streak-modal");var n=function t(){e.appendTo(p.$body);e.removeClass("hide");i.default.defer((function(){e.addClass("in")}));e.find(".close").on("click",(function(){e.removeClass("in");setTimeout((function(){e.addClass("hide")}),300)}));(0,p.jqGetElemById)("sidebar-leveled-up-msg").show();l.default.track("ui",{element_id:e.data("ax-id"),element_type:"modal",action:"displayed"})};i.default.defer((function(){if(t.length){t.on("hide",(function(){i.default.defer(n)}))}else{n()}}))};q.staffBios=function(e){var t=e.data("delay")!=null?e.data("delay"):200;var n=(0,p.jqGetElemById)("prac-staff-bios");var a=false;var r=function t(n){if(!e.data("flag")){e.toggleClass("bios-hover")}};var o=function r(o){if(p.isMobile){n.modal()}else{o.stopPropagation();var s=e.data("flag");if(s){f.default.update(s,true);e.removeData("flag");e.removeAttr("data-flag")}a=!a;e.toggleClass("bios-visible",a);if(a){n.show();i.default.defer((function(){n.addClass("in")}))}else{n.removeClass("in");setTimeout((function(){n.hide()}),t)}}};e.find(".bios-hover-trigger").on("mouseenter mouseleave",r).on("click",o);e.find(".btn-bios").on("click",o)};q.pracSolutionToggle=function(){var e={};return function(t){t.on("click",(function(){V(z(t));t.blur();var n=t.data();if(n.axUrl&&n.targetObjectId&&!e[n.targetObjectId]){var i={element_id:n.axId,source_attempt_id:n.sourceAttemptId,target_object_id:n.targetObjectId,target_object_type:"solution",target_object_referrer:encodeURIComponent(n.targetObjectReferrer)};a.default.get(n.axUrl,i);e[n.targetObjectId]=true}}))}}();q.endstate=function(e){var t=e.closest(".solv-main");var n=t.find(".solv-author");var a=t.find(".solv-problem");if(!n.length){return}i.default.defer((function(){var i=n.offset().top;var r=a.outerHeight(true);var o=t.find(".solv-details").outerHeight(true);if(r<o){var s=parseInt(a.css("margin-top"),10);r=o;if(s<0){r-=s}a.css("min-height",r)}var l="height";if(e.find(".potw-solutions-activity").length){l="outerHeight"}y.default.stick(e,{bottom:i,handler:function e(t){if(t.hasClass("stuck-bottom")){var n=Math.max(r,o)-t[l]();t.css("top",n)}else{t.css("top","")}},namespace:"sticky-solv-details-endstate"})}))};q.autoshowSolutions=function(e){var t=z(e);i.default.defer((function(){t.$solvable.find(".btn-solution[data-controller*=solutionButton]").click();if("replaceState"in window.history){window.history.replaceState({},"",window.location.href.replace(/[\?|&]just_created=true/,""))}}))};q.wikiContribModal=function(e){(0,p.jqGetElemById)("wiki-contrib-btn").on("click",(function(){e.modal()}))};q.previewCustomEndstateText=function(e){e.on("click",(function(){(0,p.jqGetElemById)("solv-custom-endstate-preview").toggle()}))};q.wikiModalProblem=function(e){C.default.feeditem_modal();e.find(".load-modal").each((function(){if(p.isNative){var e=(0,a.default)(this).find(".modal-link");var t=e.attr("href");t+=t.indexOf("?")===-1?"?":"&";t+="newwindow=true";e.attr("href",t).attr("target","")}else{C.default.modal_events.apply(this,arguments);v.checkOverflow((0,a.default)(this))}}))};q.wikiExpandableProblem=function(e){var t=e.find(".problem-container");e.on("click",(function(n){if(n.pageY<t.offset().top){e.toggleClass("expanded")}}))};q.sendFeedback=function(e){var t=e.find("textarea");var n=e.find(".btn-accent");var i=e.find(".btn-feedback");var r=e.closest(".no-stars");var o=r.find("#quiz_stats_hider");var l=r.parent().find(".btn-accent.btn.next");var c;var u=function e(){if(o.length>0&&r.find(".feedback-smiley").length>0){o.removeClass("hide");l.html("Next quiz")}};(0,p.jqOffOn)(t,"keyup",(function(e){if(t.val()){n.removeClass("disabled")}else{n.addClass("disabled")}}));(0,p.jqOffOn)(i,"click",(function(e){(0,a.default)(e.currentTarget).toggleClass("active");c=e.currentTarget.value}));var d=(0,s.default)(e.find("#id_page_key").val());var f=d.success;d.success=function(e,t,n){if(c==="up"){setTimeout((function(){f.apply(d,[e,t,n]);u()}),200)}else{f.apply(d,[e,t,n]);u()}};(0,p.jqOffOn)(e,"submit",(function(t){t.preventDefault();d.form(e,{version:e.find("#id_version").val(),component_key:e.data()["cmpKey"],thumbs:c})}));if(l.length>0){(0,p.jqOffOn)(l,"click",(function(n){if(e.find("textarea").length>0){n.preventDefault();if(!t.val()){t.val(" ")}d.form(e,{version:e.find("#id_version").val(),component_key:e.data()["cmpKey"]})}}))}};var X=function e(t,n){var i=vkey.handle(t,n),r=i.parents(".solv-main"),o=z(r),l=r.find(".endstate"),c=l.length>0;p.$body.toggleClass("endstate",c);o.$solvable=i.parents(".solv-main");o.solvableDidOnload=false;P[r.data("solvable")]=o;q.solvable(r);q.solvableRedesign(r);if(p.isMobile){if(q.NotifyAboutGoodSolution.exists){q.NotifyAboutGoodSolution.toggleIcon(o.data.answerIsCorrect||o.data.attemptNumber===0)}}H((0,a.default)(".btn-solution.dim,.btn-solution.disabled"),(0,a.default)(".solv-simple-solution,.solv-solutions").length>0);$(o);v.updateMathjax(i);if(p.isMobile&&!p.$body.hasClass("prac-solvable")){var u=r.find(".btn-solution");if((0,a.default)(".solv-details.endstate.correct").length){u.data("solutions-loaded",true)}if(u.data("originally-disabled")===false){u.removeClass("disabled")}}else if(p.isMobile){q.solutionButton(r.find(".btn-solution").not(".btn-b2-flag"))}if(p.instantTryItYourself&&c){var d=(0,p.jqGetElemById)("cmp_wiki_canonical_page_id");if(d.length){var f=d.find(".summary").data();(0,s.default)(f["pageKey"]).post(f["cmpUrl"],{page_key:f["pageKey"],component_key:f["cmpKey"]})}}var h=i.find(".mcq.endstate .mcq");if(h.length&&M&&!o.data.canStillAnswer){var m=h.data("registered-choice").toString();if(m&&M!==m){g.default.captureMessage("Registered choice does not match the corresponding clicked one",{tags:{"____Clicked.Choice":M,"___Registered.Choice":m,"__Answer.Is.Correct":o.data.answerIsCorrect,"_Problem.Url":window.location.href}})}}M=null;if(p.$body.hasClass("portal-page")||p.$body.hasClass("portal-feed-page")){var y;var _;if(o.data.answerIsCorrect){y="correct";_="Correct"}else if(o.currentState==="solutions"){y="viewed-solution";_="Viewed solution"}else if(!o.data.canStillAnswer){y="incorrect";_="Incorrect"}else if(o.data.attemptNumber>0){y="incomplete";_="Not finished"}if(y||_){var b=o.$solvable.data("solvable");var w=(0,a.default)('.problems-section .feed-section-row[data-solvable-id="'+b+'"] .icon');if(y){w.removeClass("correct viewed-solution incorrect incomplete").addClass(y)}if(_){w.attr("title",_)}}}return i};vkey.assessment_public_solvable_logged_in=vkey.hundred_day_challenge_solvable_logged_in=X;vkey.quizzes_remove_solvable_from_quiz=vkey.quizzes_remove_pane_from_quiz=function(e,t){var n=(0,a.default)(e.new_html).find(".target_content_id").val();var i=(0,a.default)(".target_content_id.".concat(n)).closest(".cmp_".concat(t,"_id"));if(i.length===0){window.vkey.handle(e,t)}else{var r="".concat(t,"_").concat(n);i.addClass("cmp_".concat(r,"_id"));window.vkey.handle(e,r)}};vkey.quizzes_problemset=function(){var e=X.apply(vkey,arguments);q.cropActionsMenu(e);var t=e.parents(".prac-preload-wrapper");if(t.length){T.default.practice(t,{reloaded:true})}if(p.isMobile){var n=e.find(".b2-solution");if(n.length&&n.is(":visible")&&(0,p.jqGetElemById)("solv-simple-solution").length===0){b.Anchors.scrollToTarget(n)}}else{var a=(0,p.jqGetElemById)("b2-solution");var i=e.find(".solv-details").hasClass("endstate");if(a.length&&i){var r="auto_scrolled_to_free_solution";if(o.default.get(r)!==true){b.Anchors.scrollToTarget(a);o.default.set(r,true)}}}N=false};vkey.potw_problemset=vkey.potw_problemset_default=vkey.quizzes_problemset;var Y=function e(t,n,a){var i=window.vkey.handle(t,n);v.updateMathjax(i.find(".latex"));k.default.votes();k.default.add_form();k.default.subscribe();i.find(".vote-trigger.with-tooltip").tooltip();k.default.events();v.scaleSVG(i.find(".latexprocessor-block, .latexprocessor-inline"));var r=z(i.parents(".solv-main"));F(r,a)};vkey.quizzes_challengesolvablesolutionlist=vkey.potw_solvablesolutionlist=vkey.solutiondiscussions_publicsolvablesolutionlist=function(e,t){Y(e,t,"solutions")};vkey.potw_solvabledisputelist=vkey.quizzes_solvabledisputelist=vkey.disputediscussions_publicsolvabledisputelist=function(e,t){Y(e,t,"disputes")};var Q=function e(t,n){var a=window.vkey.handle(t,n);v.updateMathjax(a.find(".latex"));k.default.add_form();return a};vkey.quizzes_challengesolvableaddsolutionpost=vkey.potw_addsolvabledisputepost=vkey.potw_solvableaddsolutionpost=vkey.quizzes_addsolvabledisputepost=vkey.groups_groupsolvableaddsolutionpost=vkey.solutiondiscussions_publicsolvableaddsolutionpost=vkey.disputediscussions_publicsolvableadddisputepost=Q;vkey.disputediscussions_publicsolvableadddisputepostmodal=vkey.potw_addsolvabledisputepostmodal=vkey.quizzes_addsolvabledisputepostmodal=function(){var e=Q.apply(vkey,arguments);(0,E.initGenericControllers)(e)};vkey.quizzes_solvabledisputesubscribe=vkey.quizzes_challengesolvablesolutionsubscribe=vkey.disputediscussions_publicsolvabledisputesubscribe=vkey.solutiondiscussions_publicsolvablesolutionsubscribe=function(e,t){vkey.handle(e,t);k.default.subscribe()};vkey.quizzes_interstitial_pane=vkey.admin_edit_interstitial_pane_component=function(e,t){var n=p.$body.data(u.QUIZ_CHAPTER_INTRO_STATE);if(n&&n.active===true){p.$body.data(u.QUIZ_CHAPTER_INTRO_STATE,{active:true,numContinuingPanes:n.numContinuingPanes-1});return}var a=vkey.handle(e,t);var i=a.parents(".prac-preload-wrapper");if(i.length){var r;Object.values(u.CMP_RELOADING_FLAGS).forEach((function(e){if(p.$body.data(e)===true){r=false;p.$body.data(e,false)}}));if(r===undefined){r=!a.find(".solv-pane.is-editing-pane").length&&!(0,p.jqGetElemById)("sales-card").length}T.default.practice(i,{reloaded:true,useTargetPosition:r})}N=true};e.exports=q},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.renderExpressionIntoElement=c;t.default=void 0;var a=s(n(28));n(98);n(99);n(100);var i=s(n(101));var r=s(n(102));var o=s(n(103));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=r.default.inline;Object.assign(t,{delimiters:[{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true}],ignoredTags:["script","noscript","style","textarea","pre","code"],ignoredClasses:[],preProcess:i.default.replace,errorCallback:console.error});(0,o.default)(e,t)}function c(e,t){a.default.render(i.default.replace(e),t,r.default.inline)}var u=l;t.default=u},85:function(e,t,n){"use strict";var a=n(1);var i={};i.get=function(e){var t=e[0];if(!t){return}if(t.selectionStart){return t.selectionStart}else if(!document.selection){return 0}var n=Global.octalCursorChar,a=document.selection.createRange(),i=a.duplicate(),r=0;i.moveToElementText(t);a.text=n;r=i.text.indexOf(n);a.moveStart("character",-1);a.text="";return r};i.set=function(e,t,n){var a=e[0];n=n||t;if(!a){return}if(a.createTextRange){var i=a.createTextRange();i.move("character",t);i.select()}else{if(a.selectionStart){a.focus();a.setSelectionRange(t,n)}else{a.focus()}}};i.insert=function(e,t,n){var a=e[0];if(!a){return}if(document.selection){a.focus();sel=document.selection.createRange();sel.text=t}else if(a.selectionStart||a.selectionStart=="0"){a.value=a.value.substring(0,n)+t+a.value.substring(n,a.value.length)}else{a.value+=t}a.dispatchEvent(new Event("input"))};e.exports=i},902:function(e,t,n){"use strict";var a=n(3);var i=n(20);n(137);n(21);n(44);n(55);n(635);n(465);n(466);n(688);n(18);n(446);n(125);n(437);n(470);n(467);n(65);n(150);n(469);n(80);n(45);n(152);n(81);n(436);n(161);n(447);n(464);n(30);n(93);n(468);n(68);n(131);n(151);n(486);n(463);n(92);n(489);if(a.isIos&&a.appVersion.isGreaterThanOrEqualTo("0.9.1")){var r=function e(){window.location="loadcomplete://"};if(window.isLoaded){r()}else{(0,i.onLoad)(r)}}},903:function(e,t,n){var a={"./":430,"./account":636,"./account.js":636,"./animations":637,"./animations.js":637,"./codex/codemirror":77,"./codex/codemirror.js":77,"./codex/constants":78,"./codex/constants.js":78,"./codex/controllers":92,"./codex/controllers.js":92,"./codex/deemphasize":115,"./codex/deemphasize.js":115,"./codex/notes":114,"./codex/notes.js":114,"./codex/qsharp":138,"./codex/qsharp.js":138,"./codex/shared_context":116,"./codex/shared_context.js":116,"./codex/utils":79,"./codex/utils.js":79,"./comments":80,"./comments.js":80,"./content_modal":65,"./content_modal.js":65,"./dailyproblems":638,"./dailyproblems.js":638,"./discussions":152,"./discussions.js":152,"./disputes":436,"./disputes.js":436,"./educator_bios":639,"./educator_bios.js":639,"./error_modal":30,"./error_modal.js":30,"./front_chat":437,"./front_chat.js":437,"./generic_controllers":18,"./generic_controllers.js":18,"./glossary":153,"./glossary.js":153,"./groups":640,"./groups.js":640,"./header":446,"./header.js":446,"./image_gallery":154,"./image_gallery.js":154,"./index":430,"./index.js":430,"./instant_response":447,"./instant_response.js":447,"./login":463,"./login.js":463,"./mentions":45,"./mentions.js":45,"./mini_profiles":150,"./mini_profiles.js":150,"./moderators":676,"./moderators.js":676,"./newsfeed":464,"./newsfeed.js":464,"./notifications":467,"./notifications.js":467,"./nux":468,"./nux.js":468,"./paid":125,"./paid.js":125,"./practice":678,"./practice.js":678,"./preloaders":93,"./preloaders.js":93,"./profile":679,"./profile.js":679,"./qanda":680,"./qanda.js":680,"./quiz":681,"./quiz.js":681,"./save_to_group":469,"./save_to_group.js":469,"./search":470,"./search.js":470,"./signup":486,"./signup.js":486,"./solution_discussions":161,"./solution_discussions.js":161,"./solvables":81,"./solvables.js":81,"./sponsorship":683,"./sponsorship.js":683,"./stats/controllers":684,"./stats/controllers.js":684,"./stats/example_data":487,"./stats/example_data.js":487,"./stats/single_topic":488,"./stats/single_topic.js":488,"./surveys":489,"./surveys.js":489,"./testimonials":685,"./testimonials.js":685,"./user_levels":686,"./user_levels.js":686,"./videos":131,"./videos.js":131,"./visualizations":68,"./visualizations.js":68,"./vue":165,"./vue.js":165,"./wiki":687,"./wiki.js":687,"./zoomable":151,"./zoomable.js":151};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}i.keys=function e(){return Object.keys(a)};i.resolve=r;e.exports=i;i.id=903},904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mentionsInput=p;var a=o(n(1));var i=o(n(9));var r=n(3);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){s=function e(t){return typeof t}}else{s=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return s(e)}var l={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35};var c={triggerChar:"@",stopTriggerRegex:false,onDataRequest:a.default.noop,mentionsStorage:{get:a.default.noop,set:a.default.noop},minChars:2,allowRepeat:false,showAvatars:true,elastic:true,onCaret:false,classes:{autoCompleteItemActive:"active"},highlightFunction:function e(t){return t},templates:{wrapper:i.default.template('<div class="mentions-input-box"></div>'),autocompleteList:i.default.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:i.default.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:i.default.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:i.default.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:i.default.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:i.default.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:i.default.template("<strong><span><%= value %></span></strong>")}};var u={htmlEncode:function e(t){return i.default.escape(t)},regexpEncode:function e(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},highlightTerm:function e(t,n){if(!n&&!n.length){return t}return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+u.regexpEncode(n)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>")},setCaratPosition:function e(t,n){if(t.createTextRange){var a=t.createTextRange();a.move("character",n);a.select()}else{if(t.selectionStart){t.focus();t.setSelectionRange(n,n)}else{t.focus()}}},rtrim:function e(t){return t.replace(/\s+$/,"")}};var d=function e(t){var n=t.match(/mention\[[\d]+:(.*?)\]/g)||null;if(n!==null){n.forEach((function(e){t=t.replace(e,e.replace(/mention\[[\d]+:/,"").replace(/\]/,""))}))}return t};var f=function e(t){var n,o,s,f,p,v,h,m,g=[],y={},_=[],b="";t=a.default.extend(true,{},c,t);if(t.mentions){t.mentions=a.default.extend(true,{},c,t.mentions)}if(t.wikiLinks){t.wikiLinks=a.default.extend(true,{},c,t.wikiLinks)}var w=t;function k(){o=(0,a.default)(n);s=o.clone();if(s.val()==s.attr("placeholder")){s.val("")}if(o.attr("data-mentions-input")==="true"){return}o.addClass("inited");s.addClass("inited");o.attr("name",o.attr("name")+"__copy");o.attr("id",o.attr("id")+"__copy");s.addClass("clone");if(s.val().trim().length){o.val(d(s.val()));o.val(o.val()+" ")}f=o.parent();v=(0,a.default)(t.templates.wrapper());o.wrapAll(v);v=f.find("> div.mentions-input-box");o.after(s);o.attr("data-mentions-input","true");if(navigator.userAgent.toLowerCase().indexOf("android")>=0){o.on("input",(function(){z.apply(this,arguments);M.apply(this,arguments);N.apply(this,arguments)}))}else{o.on("keydown",z);o.on("keypress",M)}o.on("click",A);o.on("blur",D);if(navigator.userAgent.indexOf("MSIE 8")>-1){o.on("propertychange",N)}else{o.on("input",N)}if(t.elastic){o.elastic()}o.trigger(a.default.Event("mentions.ready"));s.trigger(a.default.Event("mentions.ready"))}function C(){p=(0,a.default)(t.templates.autocompleteList());p.appendTo(v);p.on("mousedown","li",P)}function x(){h=(0,a.default)(t.templates.mentionsOverlay());h.prependTo(v)}function E(){var e=S();i.default.each(g,(function(n){var a;if(n.isUser&&t.mentions){a=t.mentions}else if(n.isWiki&&t.wikiLinks){a=t.wikiLinks}else{a=t}var i=a.templates.mentionItemSyntax(n);var r=n.value?new RegExp(u.regexpEncode(n.value),"g"):n.value;e=e.replace(r,i)}));var n=u.htmlEncode(e);i.default.each(g,(function(e){var a=i.default.extend({},e,{value:u.htmlEncode(e.value)});var r;if(e.isUser&&t.mentions){r=t.mentions}else if(e.isWiki&&t.wikiLinks){r=t.wikiLinks}else{r=t}var o=r.templates.mentionItemSyntax(a);var s=r.templates.mentionItemHighlight(a);n=n.replace(new RegExp(u.regexpEncode(o),"g"),s)}));n=n.replace(/\n/g,"<br />");n=n.replace(/ {2}/g,"&nbsp; ");n=t.highlightFunction(n);o.data("messageText",e);s.val(o.data("messageText"));h.find("div").html(n)}function I(){_=[]}function T(){var e=S();g=i.default.reject(g,(function(t,n){return!t.value||e.indexOf(t.value)==-1}));g=i.default.compact(g);w.mentionsStorage.set(g)}function O(e){var t=S();b=b||"";var n;if(w.triggerChar.indexOf("@")===0){n=new RegExp("[^\\w]"+u.regexpEncode(w.triggerChar)+u.regexpEncode(b),"gi")}else{n=new RegExp(u.regexpEncode(w.triggerChar)+u.regexpEncode(b),"gi")}var a=[];while(n.exec(" "+t)){a.push(n.lastIndex)}var r=a[a.length-1]-1;var l=w.triggerChar.length;var c=r-b.length-l;var d=o.prop("selectionStart")?o.prop("selectionStart"):r;var f=t.substr(0,c);var p=t.substr(d,t.length);var v=(f+e.value).length+1;if(!i.default.find(g,(function(t){return t.id==e.id}))){g.push(e)}I();b="";L();var h=e.value;if(e.isUser){h=w.triggerChar+h}var m=f+h+" "+p;o.val(m);o.trigger("autosave.save");s.val(o.data("messageText"));E();o.focus();u.setCaratPosition(o[0],v)}function S(){return a.default.trim(o.val())}function j(e){var t,n,i,r,o,s,l,c,u,d,f;if(!(u=e[0]))return;if(!(0,a.default)(u).is("textarea"))return;if(u.selectionEnd==null)return;l={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},c=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"];for(d=0,f=c.length;d<f;d++){o=c[d],l[o]=(0,a.default)(u).css(o)}return i=document.createElement("div"),(0,a.default)(i).css(l),(0,a.default)(u).after(i),n=document.createTextNode(u.value.substring(0,u.selectionEnd)),t=document.createTextNode(u.value.substring(u.selectionEnd)),r=document.createElement("span"),r.innerHTML="&nbsp;",i.appendChild(n),i.appendChild(r),i.appendChild(t),i.scrollTop=u.scrollTop,s=(0,a.default)(r).position(),(0,a.default)(i).remove(),s}function q(){var e=(0,a.default)(o).offset().top;var t=(0,a.default)("body").offset().top;var n=(0,a.default)(window).scrollTop();if(n>e){(0,r.setScrollPosition)(e-t)}}function P(e){var t=(0,a.default)(this);var n=y[t.attr("data-uid")];O(n);return false}function A(e){I()}function D(e){L()}function N(e){E();T();var n=o.val();_=n.split("");var a=n;if(o.prop("selectionStart")){a=n.slice(0,o.prop("selectionStart"))}var r;if(t.mentions&&t.wikiLinks){var s=a.lastIndexOf(t.mentions.triggerChar),l=s>-1,c=a.lastIndexOf(t.wikiLinks.triggerChar),d=c>-1;if(l&&d&&s>c||l&&!d){r=s;w=t.mentions}else if(l&&d&&c>s||d&&!l){r=c;w=t.wikiLinks}else{r=-1}}else if(t.triggerChar.indexOf("@")===0){var f=new RegExp("[^\\w]"+t.triggerChar,"gi");var p=[];while(f.exec(" "+a)){p.push(f.lastIndex)}r=p[p.length-1]-2}else{r=a.lastIndexOf(t.triggerChar)}if(r>-1){var v=w.triggerChar.length;b=n.slice(r+v);b=u.rtrim(b);var h=b;if(o.prop("selectionStart")){h=a.slice(r+v);h=u.rtrim(h)}if(w.stopTriggerRegex){var m=h.search(w.stopTriggerRegex);if(m>-1){return}}i.default.defer(i.default.bind(U,this,h))}}function M(e){if(e.keyCode!==l.BACKSPACE){var t=String.fromCharCode(e.which||e.keyCode);if(t.charCodeAt(0)===0){_.push(o.val().split("").pop())}else{window.typedValue=t;_.push(t)}}}function z(e){if(e.keyCode===l.LEFT||e.keyCode===l.RIGHT||e.keyCode===l.HOME||e.keyCode===l.END){i.default.defer(I);if(navigator.userAgent.indexOf("MSIE 9")>-1){i.default.defer(E)}return}if(e.keyCode===l.BACKSPACE){_=_.slice(0,-1+_.length);return}if(!p.is(":visible")){return true}switch(e.keyCode){case l.UP:case l.DOWN:var t=null;if(e.keyCode===l.DOWN){if(m&&m.length){t=m.next()}else{t=p.find("li").first()}}else{t=(0,a.default)(m).prev()}if(t.length){$(t)}return false;case l.RETURN:case l.TAB:if(m&&m.length){m.trigger("mousedown");return false}break}return true}function L(){m=null;p.empty().hide();var e=a.default.Event("mentions.hide");o.trigger(e);s.trigger(e)}function $(e){e.addClass(t.classes.autoCompleteItemActive);e.siblings().removeClass(t.classes.autoCompleteItemActive);m=e}function B(e,n){p.show();if(!w.allowRepeat){var r=i.default.pluck(g,"value");n=i.default.reject(n,(function(e){return i.default.include(r,e.name)}))}if(!n.length){L();return}p.empty();var l=(0,a.default)("<ul>").appendTo(p).hide();i.default.each(n,(function(t,n){var r=i.default.uniqueId("mention_");y[r]=i.default.extend({},t,{value:t.value||t.name});var o=(0,a.default)(w.templates.autocompleteListItem(i.default.extend({},t,{id:u.htmlEncode(t.id),display:u.htmlEncode(t.name),type:u.htmlEncode(t.type),content:u.highlightTerm(u.htmlEncode(t.name),e)}))).attr("data-uid",r);if(n===0){$(o)}if(w.showAvatars){var s;if(t.avatar){s=(0,a.default)(w.templates.autocompleteListItemAvatar({avatar:t.avatar}))}else{s=(0,a.default)(w.templates.autocompleteListItemIcon({icon:t.icon}))}s.prependTo(o)}o=o.appendTo(l)}));p.show();if(t.onCaret){F(p,o)}l.show();var c=a.default.Event("mentions.show");o.trigger(c);s.trigger(c)}function U(e){if(e&&e.length&&e.length>=w.minChars){w.onDataRequest.call(this,"search",e,(function(t){B(e,t)}))}else{L()}}function F(e,t){var n=j(t);var a=parseInt(t.css("line-height"),10)||18;e.css("top",a+n.top)}function G(){o.val("");g=[];E()}function R(){var e=s.val().trim();var n=t.mentions?t.mentions.mentionRegex:t.mentionRegex;var a=e.match(n);if(a!==null){a.forEach((function(e){var t=e.split(/[\[|\]|:]/g);g.push({id:t[1],user_id:t[1],name:t[2],value:t[2],isUser:true})}));E()}}return{init:function e(i){n=i;if((0,a.default)(n).hasClass("inited")){return}k();C();x();if(t.mentions&&t.mentions.mentionsStorage.get||t.mentionsStorage.get){g=t.mentions?t.mentions.mentionsStorage.get():t.mentionsStorage.get();o.data("messageText",s.val());E()}else if(o.val().trim().length){R()}else{G()}if(t.prefillMention){O(t.prefillMention)}},val:function e(t){if(!i.default.isFunction(t)){return}t.call(this,g.length?o.data("messageText"):S())},reset:function e(){G()},getMentions:function e(t){if(!i.default.isFunction(t)){return}t.call(this,g)}}};function p(e,t,n){var r=arguments;if(s(t)==="object"||!t){n=t}e.each((function(){var e=a.default.data(this,"mentionsInput")||a.default.data(this,"mentionsInput",new f(n));if(i.default.isFunction(e[t])){return e[t].apply(this,Array.prototype.slice.call(r,1))}else if(s(t)==="object"||!t){return e.init.call(this,this)}else{a.default.error("Method "+t+" does not exist")}}))}},907:function(e,t){},909:function(e,t){},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFormData=r;var a=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={};var n=["input:not([type=radio], [type=checkbox])","input[type=checkbox]:checked","input[type=radio]:checked","input[type=checkbox]:selected","select, textarea, button"];var i=n.reduce((function(t,n){return t.add(e.find(n))}),(0,a.default)());i.each((function(e,n){var a=n.name||"";if(a.length>0){if(t[a]&&t[a]!==n.value){if(t[a]instanceof Array){t[a].push(n.value)}else{t[a]=[t[a],n.value]}}else{t[a]=n.value}}}));return t}},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.controller=E;t.expandableCode=T;var a=h(n(1));var i=v(n(77));var r=n(116);var o=n(79);var s=h(n(21));var l=n(43);var c=n(13);var u=n(12);var d=n(3);var f=n(91);var p=n(15);function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var m="codex_page";var g="cmp_".concat(m,"_id");var y=200;var _=810;var b=30;function w(e,t,n,i){var r=(0,a.default)("#confirm-modal");if(r.length>0){r.remove()}var o=false;var s=(0,a.default)('\n        <div class="modal hide codex-confirm" id="confirm-modal">\n            <div class="modal-body"><p>'.concat(t,'</p></div>\n            <div class="modal-footer">\n                <a href="#" class="btn cancel" data-dismiss="modal">').concat(n.cancel_text,'</a>\n                <a href="#" class="btn btn-accent confirm">').concat(n.ok_text,"</a>\n            </div>\n        </div>\n    "));s.find(".confirm").on("click",(function(e){e.preventDefault();o=true;s.modal("hide");s.trigger(a.default.Event("codex.hide"))}));s.on("hide",(function(){return i(o)}));e.find("div:first").after().append(s);s.modal()}function k(e,t,n){var a=parseInt(t.display.sizer.style.minHeight,10);if(d.isNative){t.setSize(null,"".concat(a+b,"px"))}else if(a<y){t.setSize(null,"".concat(y,"px"))}else if(a-b>_){t.setSize(null,"".concat(_,"px"))}else{t.setSize(null,"".concat(a+b,"px"))}if(e.length>0){var i;var r;var o=function e(n){t.setSize(null,"".concat(Math.max(y,r+n.pageY-i),"px"))};var s=function e(){d.$body.off("mousemove",o);d.$window.off("mouseup",e)};e.on("mousedown",(function(e){i=e.pageY;r=n.height();d.$body.on("mousemove",o);d.$window.on("mouseup",s)}))}}var C=d.isIos&&d.appVersion.isGreaterThanOrEqualTo("3.4.3")||d.isAndroid&&d.appVersion.isGreaterThanOrEqualTo("4.7.0");function x(e,t){var n=t.url;var a=[e];if(e==="POST"){a.push(n);a.push(JSON.stringify(t))}else{delete t.url;t.page_key=m;a.push((0,p.appendGetParams)(n,t))}if(d.isAndroid){try{var i;(i=window.Android).codexAjaxRequest.apply(i,a)}catch(e){console.error("Unhandled native request",a)}}else{try{window.webkit.messageHandlers.main.postMessage(["codexAjaxRequest"].concat(a))}catch(e){console.error("Unhandled native request",a)}}window.codexAjaxResponse=function(e){var t=typeof e==="string"?JSON.parse(e):e;var n=t.actions&&t.actions[m];if(n){try{window.vkey.handle(n,m)}catch(e){}}}}function E(e){var t=e.data();var n=e.parents(".solv-container,#solv-main");var c=e.closest(".".concat(g));var p=e.parents(".dp-problem-main").length>0;if(p&&!c.is(":visible")){d.$window.one(u.EVT_DAILYPROBLEM_MAINBODY_EXPANDED,(function(){return E(e)}));return}var v=e.find(".codex-form");var h=e.find(".codex-btn-run");var y=e.find(".codex-view-original");var _=e.find(".codex-textarea textarea");var b=e.find(".codex-editor > div");var I=e.find("[name=language]");var T=e.find(".codex-orig").text();var O=t.codexLanguage;var S;var j=function e(){var t=i.isUnchanged(S,I.val());var n=y.data("user-code");if(!t&&n){y.removeData("user-code").removeData("user-code");y.removeClass(u.CLASS_NAME_ACTIVE)}else{y.prop("disabled",t&&!n)}};var q=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;n.each((function(e,n){var i=(0,a.default)(n);i.css({height:t===true?"auto":i.outerHeight()})}))};var P=function e(t){var n=".".concat(g);var i="".concat(g,"_ignore");var r=".".concat(i);if(t){(0,a.default)(n).not(c).addClass(i).removeClass(g)}else{(0,a.default)(r).addClass(g).removeClass(i)}};(0,o.handleOutputGifs)(e);i.init({$editor:b,$textarea:_,initialCode:T,initialLanguage:O,language:I.val()}).then((function(n){S=n;k(e.find(".resize"),S.cm,b);var o=t.shareContext?(0,r.getSharedContext)(t.codexEnvId):null;setTimeout((function(){return q(true)}));if(t.autoRefresh){i.setReadOnly(S);e.find(".CodeMirror-scroll").addClass("disabled");setTimeout((function(){q();var e={solvable_id:t.solvableId,note_id:t.noteId,pane_id:t.paneId,previous_solvable_ids:t.previousSolvableIds,pane_url:t.paneUrl,codex_env_id:t.codexEnvId};if(C){e.url=t.cmpUrl.replace("/codex/","/codex/_native/");e.native_component=true;x("GET",e)}else{(0,s.default)(m).get(t.cmpUrl,e)}}),1e3);return}P(false);if(o){o.applyContext(e,S)}var c=/[\u2018\u2019]/g;var p=/[\u201C\u201D]/g;i.onChange(S,(function(){var e=i.getValue(S);if(c.test(e)||p.test(e)){e=e.replace(c,"'").replace(p,'"');var t=i.getCursor(S);setTimeout((function(){i.setValue(S,e);i.setCursor(S,t)}))}if(o){o.setValue(e)}_.val(i.getValue(S));j()}));if(d.isNative){var g=function t(n){if(n){e.find(".offline-error").removeClass(u.CLASS_NAME_ACTIVE);e.find(".codex-email").removeClass(u.CLASS_NAME_HIDE);e.find(".codex-btn-run").removeClass(u.CLASS_NAME_DISABLED).prop("disabled",false)}else{e.find(".offline-error").addClass(u.CLASS_NAME_ACTIVE);e.find(".codex-email").addClass(u.CLASS_NAME_HIDE);e.find(".codex-btn-run").addClass(u.CLASS_NAME_DISABLED).prop("disabled",true)}};window.addEventListener("online",(function(){return g(true)}));window.addEventListener("offline",(function(){return g(false)}));if(!window.navigator.onLine){g(false)}}h.on("click",(function(){if(o){o.clearOutput()}P(true);q();var e={url:t.formAction,page_key:m,cluster:t.formField__cluster,param_key:t.formField__param_key||"",version:t.formField__version,csrfmiddlewaretoken:(0,l.getToken)()};if(d.isNative){e.url=e.url.replace("/codex/","/codex/_native/");e.native_component=true}if(C){var n=Object.assign({},(0,f.getFormData)(v),e);x("POST",n)}else{(0,s.default)(m).form(v[0],e)}}));y.on("click",(function(e){e.preventDefault();if(!y.is(":disabled")){y.toggleClass(u.CLASS_NAME_ACTIVE);if(y.hasClass(u.CLASS_NAME_ACTIVE)){y.data("user-code",i.getValue(S));y.data("user-language",I.val());i.setValue(S,T);I.val(O)}else{var t=y.data();i.setValue(S,t.userCode);I.val(t.userLanguage)}j()}}));I.on("change",(function(){i.setLanguage(S,I.val());i.focus(S);j()}));e.find("header label").show();var E=d.isAndroid&&d.appVersion&&d.appVersion.isGreaterThanOrEqualTo("4.2.0")&&!d.appVersion.isGreaterThanOrEqualTo("4.7.0");e.find(".codex-notes").children().addClass(E?"note-placeholder":"note");if(t.allowNotesEditor){i.initNoteEditor(S,(0,d.jqGetElemById)("id_notes"))}else if(t.hasNotes){var A=i.initNotes(n,e,E);A.run()}if(t.allowDeemphasizeEditor){i.initDeemphasizeEditor({state:S,$deemphasizeField:(0,d.jqGetElemById)("id_deemphasize"),$deemphasizeContainer:(0,d.jqGetElemById)("codex-deemphasize-container")})}else if(t.deemphasizeData){i.initDeemphasize({state:S,data:t.deemphasizeData,envId:t.codexEnvId,initialCode:T})}j();var D=e.find(".codex-email");if(D.length){D.find("button").on("click",(function(e){e.stopPropagation();e.preventDefault();var t=D.data();w(D.parents("header"),t.confirmText,{ok_text:t.confirmOkText,cancel_text:t.confirmCancelText},(function(e){if(e){D.removeClass("error");var n={target_url:t.targetUrl,target_title:t.targetTitle};setTimeout((function(){a.default.post("".concat(t.baseUrl,"/codex/_native/email_me/"),n).fail((function(){return D.addClass("error")})).then((function(e){if(e.success){D.addClass("success")}else{D.addClass("error")}}))}),100)}}))}))}}))}var I={};function T(e){var t=e.data("codex-env-id")||null;var n=e.find(".codex-expand-toggle");var a=function a(i,r){if(i){i.preventDefault()}if(r!==undefined){if(t){I[t]=r}n.toggleClass("active",r);e.toggleClass("expanded",r)}else{if(t){I[t]=!I[t]}n.toggleClass("active");e.toggleClass("expanded")}var o="";var s=e.hasClass("expanded");var l=e.parents(".course-quiz-wrapper,.dp-problem-main").length>0;if(s&&!l){var c=(0,d.jqGetElemById)("wrapper").offset().left;var u=parseInt((0,d.jqGetElemById)("wrapper").css("padding-left"),10);var f=e.offset().left;o="".concat(c+u-f,"px")}e.css("margin-left",o)};n.show();if(t){I[t]=I[t]||false;if(I[t]===true){a(null,true)}}n.on("click",a)}if(!window.VERSIONS&&!window.vkey){window.VERSIONS=window.VERSIONS||{};window.vkey=window.vkey||{handle:function e(t,n){var i=(0,a.default)("#cmp_".concat(n,"_id"));if(i.length===0){i=(0,a.default)(".cmp_".concat(n,"_id"))}i.html(t.new_html);var r=i.find(".codex-container");r.attr("data-controller-inited",true);E(r)}}}else{window.vkey=window.vkey||{};window.vkey.codex_page=function(e,t){var n=window.vkey.handle(e,t);var a=n.find(".codex-output");if(a.find(".running").length===0){c.Anchors.scrollToTarget(a)}}}},93:function(e,t,n){"use strict";var a=h(n(1));var i=h(n(9));var r=n(44);var o=n(11);var s=n(3);var l=v(n(33));var c=v(n(37));var u=n(13);var d=n(12);var f=n(18);var p=n(68);function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return _(e)||y(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function y(e,t){var n=[];var a=true;var i=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(a=(s=o.next()).done);a=true){n.push(s.value);if(t&&n.length===t)break}}catch(e){i=true;r=e}finally{try{if(!a&&o["return"]!=null)o["return"]()}finally{if(i)throw r}}return n}function _(e){if(Array.isArray(e))return e}var b="notloaded";var w="error";var k={};function C(){return(0,s.jqGetElemById)("course-quiz-endstate").is(":visible")}var x={solvableList:[],currentPosition:null,$markers:null,inited:false,solvablesLoaded:0,submitted:false,noHistory:false,enableKeyboardNav:false,targetPosition:null};var E={};var I={reloaded:false,instantResponse:false};var T={};function O(e){if(!T[e]){var t=new Image;t.src=e;T[e]=true}}var S=[];function j(e){S.push(e)}function q(e){var t=/img.*src="(.*?)"/g;var n=/src="(.*?)"/;var a=e.match(t);if(a){a.forEach((function(e){var t=e.match(n);if(t){var a=t[1];O(a)}}))}}j(q);j(p.visualizationsPrefetchHandler);k.practice=function e(t,n){var p=Object.assign({},I,n);var v=t.data("id");if(p.reset===true){E[v]={solvableList:x.solvableList.slice(0),currentPosition:x.currentPosition,$markers:x.$markers,inited:x.inited,solvablesLoaded:x.solvablesLoaded,submitted:x.submitted,noHistory:x.noHistory,targetPosition:x.targetPosition}}else{E[v]=E[v]||Object.assign({},x,{solvableList:x.solvableList.slice(0)})}E[v].currentPosition=E[v].currentPosition===null?t.data("current")-1:E[v].currentPosition;var h=t.data();E[v].noHistory=h.noHistory;E[v].enableKeyboardNav=h.enableKeyboardNav===true;var m=function e(n){var i=n.data("position");a.default.get(n.attr("href"),{web_preloading:true,is_preloading:true,force_full_page:true}).then((function(e){E[v].solvableList[i].content=e;t.trigger(a.default.Event("preloaded.p".concat(i)));E[v].solvablesLoaded++;S.forEach((function(t){return t(e)}))})).fail((function(){E[v].solvableList[i].content=w;t.trigger(a.default.Event("preloaded.p".concat(i)))}))};var g=function e(){E[v].$markers.each((function(e,n){var r=(0,a.default)(n);var o=E[v].currentPosition===e;var s=r.data();E[v].solvableList.push({url:r.attr("href"),data:s,viewed:o,content:o?t.find("#solv-main"):b});if(!o||s.isDummy){i.default.defer((function(){m(r)}))}}))};var y=function e(n){s.$body.trigger(d.EVT_QUIZ_POSITION_LOADING);t.addClass("loading");t.one("preloaded.p".concat(n),(function(){T(n);if(E[v].solvableList[n].content!==w){t.removeClass("loading")}}))};var _=function e(t){if(E[v].noHistory){window.location.reload()}else{window.location=E[v].solvableList[t].url}};var k=function e(n,l,u){s.$body.trigger(d.EVT_QUIZ_POSITION_WILL_CHANGE);var p=t.find("#solv-main").add((0,s.jqGetElemById)("admin-sidebar"));var h=(0,a.default)(l);var m=h.find("#interstitial-pane-continue-form");if(m.length&&E[v].$markers.filter(":not(.correct,.incorrect)").length===1){m.find('input[name="form_name"]').val("continue_and_finish");m.find("button").html("Finish quiz")}var g=(0,s.jqGetElemById)("endstate-trigger-btn");if(g.length&&g.data("show-immediately")){return}E[v].solvableList[E[v].currentPosition].content=p;E[v].currentPosition=n;p.remove();t.append(h);var y=t.find(".endstate").length>0;s.$body.toggleClass("endstate",y);if(!c.useKatex()){c.loadForElement(h)}(0,f.initGenericControllers)(t,{force:true});(0,r.initAutosubmit)(t);(0,o.setAnalyticsEvents)(t);P();(0,s.setScrollPosition)(0);if(!u){O(E[v].currentPosition)}var _=E[v].solvableList[E[v].currentPosition];if(!_.viewed){E[v].solvableList[E[v].currentPosition].viewed=true;i.default.defer((function(e,t){var n=window.location;var i=n.pathname;(0,o.track)("sign_of_life",{from_request:true,is_android:s.isAndroid,ajax:false,path:i,method:"GET",full_path:i+n.search});var r=null;switch(e.data.contentType){case"solvable":r={position:t+1};break;case"interstitial_pane":r={action:e.data.paneAction,ipconn_id:e.data.paneConnection,quiz_id:e.data.paneQuiz};break;default:throw Error("Unknown quiz item content type")}if(r){a.default.ajax({method:"POST",url:e.data.statusUrl,data:JSON.stringify(r),headers:{"Content-type":"application/json"}})}}),_,E[v].currentPosition)}s.$body.trigger(d.EVT_QUIZ_POSITION_DID_CHANGE)};var T=function e(t,n){var a=n===true;var i=(0,s.jqGetElemById)("interstitial-pane-continue-form");if(i.length){var r="is-continuing";if(i.data(r)!==true){i.data(r,true);E[v].targetPosition=t;i.submit()}var o=s.$body.data(d.QUIZ_CHAPTER_INTRO_STATE);if(o&&o.active===true){s.$body.data(d.QUIZ_CHAPTER_INTRO_STATE,{active:true,numContinuingPanes:o.numContinuingPanes+1})}else{return}}E[v].targetPosition=null;if(t!==E[v].currentPosition&&E[v].solvableList[t]){var l=E[v].solvableList[t].content;switch(l){case b:y(t);break;case w:_(t);break;default:k(t,l,a)}}};var O=function(){if(window.history.pushState&&!E[v].noHistory){return function(e){i.default.defer((function(){var t={position:e};window.history.pushState(t,"",E[v].solvableList[e].url)}))}}return d.FUNC_NOOP}();function j(e){var t=(0,a.default)(this);var n=t.data("position");if(n===undefined){if(t.hasClass("btn-prev")){var i=E[v].$markers.filter(":not(.correct, .incorrect, .completed)");if(t.hasClass("solv-done-btn")&&i.length){n=i.first().data("position")}else{n=E[v].currentPosition-1}}else{n=E[v].currentPosition+1}}if(e.preventDefault){e.preventDefault()}if(!t.hasClass("disabled")){T(n)}}var q=function e(){if(E[v].submitted||C()){window.history.forward()}else{var t;try{t=parseInt(window.location.href.match(/p=(\d)/)[1],10)-1}catch(e){var n=window.history.state&&"position"in window.history.state;t=n?window.history.state.position:0}T(t,true)}};var P=function e(){var n=function e(){return(0,s.jqGetElemById)("prac-markers-".concat(v))};if(E[v].$markers===null||p.reloaded){E[v].$markers=n().find(".prac-marker");E[v].currentPosition=E[v].currentPosition<0?E[v].$markers.filter(".current").data("position"):E[v].currentPosition;if(s.isMobile&&!p.instantResponse){var a=E[v].solvablesLoaded<E[v].solvableList.length-1;i.default.defer((function(){t.find(".btn-prev:not(.solv-done-btn)").toggleClass("disabled",E[v].currentPosition===0);t.find(".btn-next:not(.solv-done-btn)").toggleClass("disabled",E[v].currentPosition===E[v].solvableList.length-1)}));E[v].$markers.toggleClass("disabled",a);t.find(".actions-container").toggleClass("disabled",a)}}else{E[v].$markers.removeClass("current");E[v].$markers.eq(E[v].currentPosition).addClass("current");n().empty().append(E[v].$markers)}(0,s.jqOffOn)(E[v].$markers,"click.quiznav",j);var r=t.find(".btn-next, .btn-prev").not(".btn-continue");(0,s.jqOffOn)(r,"click.quiznav",j);t.find("#text_answer_entry_form,#mcq-form,#start-over-btn").on("submit",(function(){E[v].submitted=true;if(E[v].solvablesLoaded!==E[v].solvableList.length){t.find(".btn-next,.btn-prev").add(E[v].$markers).addClass("disabled");t.find(".actions-container").addClass("disabled")}}));A();if(!c.useKatex()){l.updateMathjax(t)}};var A=function e(){var n="num-free-solutions-remaining";var i="revealed-solution-position";var r=t.data(n);var l=t.data(i)||[];var c=(0,s.jqGetElemById)("alt-solution-btn").children();if(r>0&&(0,s.jqGetElemById)("solv-simple-solution").length){t.data(n,r-1);l.push(E[v].currentPosition);t.data(i,l)}else if(r===0&&l.indexOf(E[v].currentPosition)===-1&&c.length){var u=t.find(".btn-solution-full");if(u.length){u.each((function(e,t){var n=(0,a.default)(t);var i=c.clone();var r=n.parents(".solv-main").find(".solv-details");var s=i.data("ax-id");n.replaceWith(i);if(r.hasClass("incorrect")){s=s.replace("preloaded","incorrect")}else if(r.hasClass("correct")){s=s.replace("preloaded","correct")}else{s=s.replace("preloaded","nonterminal")}i.data("solvable",r.data("solvable"));i.data("ax-id",s);(0,f.executeFunctionByName)(i.data("controller"),i);(0,o.setAnalyticsEvents)(i.parent())}))}}};var D=function e(){(0,u.keyboardNavigation)({eventKey:"preloader",guard:function e(){return!(s.$body.hasClass("modal-open")||E[v].$markers.filter(".disabled").length>0||C())},left:function e(){T(E[v].currentPosition-1)},right:function e(){T(E[v].currentPosition+1)}})};P();if(!E[v].inited){E[v].inited=true;g();if(!E[v].noHistory){s.$window.on("popstate",q)}if(E[v].enableKeyboardNav){D()}}if(!p.instantResponse){E[v].submitted=false}p.reloaded=false;p.instantResponse=false;if(p.useTargetPosition){if(E[v].targetPosition===null){E[v].targetPosition=E[v].currentPosition+1;if(E[v].targetPosition<E[v].solvableList.length){T(E[v].targetPosition)}}else{T(E[v].targetPosition)}E[v].targetPosition=null}};k.convertDummyPreloader=function(e,t){var n=b;var i=function e(){return window.location.reload()};try{var l=m(E[t].solvableList,1);n=l[0].content}catch(e){n=w}if(n===b||n===w){i();return}var u=(0,a.default)(n);e.empty().append(u);(0,s.jqGetElemById)("admin-sidebar").remove();e.data("enable-keyboard-nav",true);E={};k.practice(e);(0,r.initAutosubmit)(u);(0,f.initGenericControllers)(u);(0,o.setAnalyticsEvents)(u);if(!c.useKatex()){c.loadForElement(u)}};k.backgroundImages=function(e){var t=function e(t,n){var a=window.getComputedStyle(t,n).backgroundImage;if(a==="none")return;var i=a.match(/url\(['"]?(.*?)['"]?\)/);if(i){var r=m(i,2),o=r[1];O(o)}};e.find("*").add(e).each((function(e,n){t(n);t(n,":before");t(n,":after")}))};e.exports=k},941:function(e,t){},942:function(e,t){},99:function(e,t,n){"use strict";var a=n(28);a.__defineMacro("\\bra","\\mathinner{\\langle{#1}|}");a.__defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");a.__defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");a.__defineMacro("\\Bra","\\left\\langle#1\\right|");a.__defineMacro("\\Ket","\\left|#1\\right\\rangle");a.__defineMacro("\\ketbra","\\ket{#1}\\bra{#2}");a.__defineMacro("\\overparen","\\overgroup{#1}");a.__defineMacro("\\mbox","\\text{#1}");a.__defineMacro("\\pmatrix","\\begin{pmatrix}#1\\end{pmatrix}");a.__defineMacro("\\longdiv","\\overline{\\smash{\\big)}#1}");a.__defineMacro("\\cases","\\begin{cases}#1\\end{cases}");a.__defineMacro("\\cancelto","\\cancel{#2}^{~~#1}")},990:function(e,t,n){var a={"./ajax.js":21,"./ajax_upload.js":490,"./analytics.js":11,"./app_version.js":53,"./autosave.js":148,"./autosubmit.js":44,"./avo.js":54,"./branch.js":421,"./btooltip.js":117,"./constants.js":12,"./content_type.js":632,"./cookies.js":633,"./creation_modal.js":991,"./csrf.js":43,"./cursor.js":85,"./deferred.js":55,"./email_validator.js":675,"./flags.js":41,"./getFormData.js":91,"./global.js":3,"./katex.js":84,"./latex.js":33,"./mathjax_loader.js":37,"./mobile_native.js":992,"./modal_helpers.js":429,"./onload.js":20,"./pager.js":465,"./popstate.js":466,"./raven.js":31,"./sharing.js":688,"./sticky.js":149,"./text_formatter.js":634,"./ui.js":13,"./urls.js":15,"./vkey.js":635};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}i.keys=function e(){return Object.keys(a)};i.resolve=r;e.exports=i;i.id=990},991:function(e,t,n){"use strict";var a=m(n(1));var i=m(n(9));var r=m(n(42));var o=m(n(21));var s=n(3);var l=n(12);var c=h(n(33));var u=n(13);var d=n(15);var f=m(n(65));var p=n(18);var v=n(45);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var g={};var y=window.vkey||{};var _=null;var b={};var w;g.justAddedViaModal="";var k=null;var C=null;var x="mcq";var E=function e(t,n){var a=t.find(".cmp-deferred");var r=(n.post_to_set_name||"<none>")+"|"+(n.clone_from_problem||"<none>")+"|"+(n.pre_filled_skill||"<none>")+"|"+(n.pre_filled_topic||"<none>")+"|"+(n.wiki||"<none>");if(a.length){a.appendTo(s.$body);t.data("orig-deferred",a)}else{a=t.data("orig-deferred")}if(t.data("last-update")!==r){a=a.clone();t.empty().append(a);var o=i.default.pick(n,"group","post_to_set_name","clone_from_problem","pre_filled_skill","pre_filled_topic","wiki");if(i.default.keys(o).length){var l=a.data("cmp_url");var c=i.default.extend({},o,{is_modal:true});var u=(0,d.appendGetParams)(l,c);a.data("cmp_url",u)}t.data("last-update",r)}};g.clickHandler=function(e){var t=e.data();var n=null;e.on("click",(function(e){if(!e.metaKey){n=b[t.target]||(0,s.jqGetElemByCmpName)(t.target);b[t.target]=n;if(!n.data("modal-loaded")){if(!n.find(".cmp-deferred").length){return true}n.data("modal-loaded",true)}e.preventDefault();E(n,t);if(n.data("modal")){n.modal()}else{n.on("shown",(function(){w=t.target}));n.modal("show")}}return true}))};var I=null;var T=["gif","jpg","jpeg","png"];var O=function e(){var t=(0,a.default)("#attach-image"),n=(0,a.default)("#id_image");if(!t.length){return}var r=(0,a.default)("#preview-img"),o=(0,a.default)("#preview-img-name"),s=i.default.template(t.data("tmpl")),l=i.default.template(t.data("error"));t.data("orig-content",t.html());var c=function e(){var a=n.val().split(/\/|\\/g),c=a.length>0?a.pop():false,u=c?c.split(".").pop():"";if(c&&c.length>0){I=n;var d;if(i.default.contains(T,u.toLowerCase())){t.next(".errorlist").remove();d=s({image:c})}else{d=t.data("orig-content");t.next(".errorlist").remove();t.after(l({extension:u}));n.val("");I=null}t.html(d);if(r.length>0){r.show();o.text(c)}}else{t.html(t.data("orig-content"))}};if(I!==null){n.after(I);n.remove();n=(0,a.default)("#id_image");c()}t.on("click",(function(e){e.preventDefault();n.click()}));n.on("change",c)};g.redirectHandler=function(e,t){window.location=e};function S(e){setTimeout((function(){if(x==="mcq"){e.find("label.multi-select-extra span").html("Correct answer");if(e.find("input:checked").length===0){e.find("input[type=checkbox]:first").prop("checked",true)}}else{e.find("label.multi-select-extra span").html("Required answer")}e.find("input[type=text]").removeClass("correct").attr("placeholder",k);e.find("input:checked").each((function(){(0,a.default)(this).parents(".mcq-field").find("input[type=text]").addClass("correct").attr("placeholder",C)}))}))}g.form=function(e){var t=e.find("textarea");var n=e.find(".type-select");var l=e.find(".numerical-answer-field");var c=l.find("input");var d=e.find(".field-difficulty_level, .field-level");var f=e.find(".fields");var p=e.data("solvable-id")||0;_=e;var h=function t(n){var i="";e.find("[type=file]").each((function(e,t){i+=(0,a.default)(t).val()}));if(i.length){e.submit()}else{if(n){s.$window.trigger(a.default.Event("creationmodal.preview"))}(0,o.default)("").form(e[0])}};(0,r.default)(t);t.each((function(e,t){var n=(0,a.default)(t);var i=n.is("#id_summary");(0,v.wikiLinks)(n,i)}));e.find(".btn-preview-post").on("click",(function(t){t.preventDefault();e.addClass("loading");h(true)}));e.find(".btn-edit").on("click",(function(t){t.preventDefault();e.removeClass("previewing");(0,a.default)(".publish-list, .publish-wiki-container").removeClass("hide");e.find("textarea").trigger("autosize.resize");i.default.defer((function(){u.Anchors.scrollToTarget((0,a.default)(".publish-wiki-form"))}))}));e.find(".btn-confirm").on("click",(function(t){t.preventDefault();e.find(".preview-post-field, .preview-solvable-field, .preview-wiki-field").val("");e.addClass("loading");(0,a.default)(t.currentTarget).addClass("dim");h(false)}));var m=function e(){if(!c.closest(".nf-answer-field").hasClass("number")){return}var t=c.val();var n=/[^-\d.eE+]/;var a=/[.eE]/;var i="invalid";var r="usage";if(n.test(t)){l.removeClass(r).addClass(i)}else if(a.test(t)){l.removeClass(i).addClass(r)}else{l.removeClass("".concat(i," ").concat(r))}d.toggleClass("disabled",t.length===0)};c.on("keyup change",m);if(c.length){d.toggleClass("disabled",c.val().length===0)}var y=function e(t){var a;x=t.val();n.find(".active").removeClass("active");t.parents("label").addClass("active");t.closest(".nf-answer-field").removeClass("number mcq multi_select").addClass(x);switch(x){case"mcq":case"multi_select":S(f);g.variableNumChoices.checkForBlankFields(p);break;case"number":a=parseFloat((0,s.jqGetElemById)("id_mcq_answer_1").val());if(!Number.isNaN(a)){(0,s.jqGetElemById)("id_number_answer").val(a)}m();break;default:}};n.find("input").on("change",(function(e){y((0,a.default)(e.currentTarget))}));var b=n.find("input:checked");if(b.length===0){n.find("input").first().prop("checked","checked")}else{y(b)}};g.variableNumChoices=function(){var e={};var t={};e.checkForBlankFields=function(n){if(!t.hasOwnProperty(n)){s.$window.on("".concat(l.EVT_MCQ_EDIT_FORM_SET_CONTEXT,"_").concat(n),(function(){e.checkForBlankFields(n)}));return}var a=t[n],i=a.choiceData,r=a.$optionalFields;if(i&&i.length&&r&&r.length){var o=r.first().closest(".nf-answer-field");if(o.hasClass("mcq")||o.hasClass("multi_select")){var c=i.filter((function(e){return e!==null&&e.length>0}));r.toggleClass("disabled",c.length===0)}}};e.controller=function(n){var r=n.find(".add-choice");var o=n.find(".fields");var c=i.default.template(n.find(".field-template").text());var u=n.parents("form").find("#id_num_mcq_answers");var d=[];var f=[];var v=[];var h=n.data();var m=h.solvableId||0;var g={};var y=+u.val()||4;var _=false;k=h.dummyText;C=h.correctText;t[m]=g;s.$window.trigger(a.default.Event("".concat(l.EVT_MCQ_EDIT_FORM_SET_CONTEXT,"_").concat(m)));g.choiceData=d;g.$optionalFields=n.parents("form").find(".field-difficulty_level, .field-level");o.find("input[type=text]").each((function(e,t){d.push(t.value)}));o.find("input[type=checkbox]").each((function(e,t){f.push(t.checked)}));for(var b=1;b<=8;b++){var w=o.find("#edit-mcq-message-".concat(b));if(w&&w.val()){v[b-1]=w.val()}}var E=function t(){var n="";d.forEach((function(e,t){var a=e==="null"?null:e;var i="";if(v&&v[t]&&v[t]!=="null"){i=v[t]}if(a===null&&t<y){d[t]=""}else if(a!==null&&a.length===0&&t>=y){d[t]=null}var r=o.children("#mcq-choice-".concat(t+1)).find(".errorlist");var s=d[t]===null;n+=c({fieldNumber:t+1,value:a,message:i,tabindex:t+2,hidden:s,error:r.length&&!s?r[0].outerHTML:"",passive:_,deletable:y>2,multiSelectSelected:f[t],user:h.user})}));o.html(n);r.toggleClass("hide",y===8);var i=function n(){if(_){o.find("input").each((function(e,t){(0,a.default)(t).trigger("autosave.save")}))}else{o.find("input[type=text]").each((function(e,t){var n=t.value;d[e]=n.length===0&&e>3?null:n}));var i=null;var r=d.length-1;for(r;r>=0;r--){if(d[r]!==null&&d[r].length){i=r;break}}_=true;if(i!==null&&i!==y-1){if(i===0){y=2}else{y=i+1}u.val(y);t()}e.checkForBlankFields(m)}};(0,p.initGenericControllers)(o,{callback:i});o.find(".delete").on("click",(function(e){e.preventDefault();var n=(0,a.default)(e.currentTarget);if(n.hasClass("disabled")){return}var i=n.parents(".mcq-field");var r=i.index();d.splice(r,1);d.push(null);f.splice(r,1);f.push(false);y--;u.val(y);t()}));o.find("input[type=text]").on("keyup change input",(function(t){var n=(0,a.default)(t.currentTarget);d[n.parents(".mcq-field").index()]=n.val();e.checkForBlankFields(m)}));o.find("input[type=checkbox]").on("change",(function(e){var t=e.currentTarget;var n=(0,a.default)(t).parents(".mcq-field");if(x==="mcq"&&t.checked){var i=o.find("input[type=checkbox]").not(t);i.prop("checked",false);i.parents(".mcq-field").find("input[type=text]").removeClass("correct").attr("placeholder",k)}f[n.index()]=t.checked;n.find("input[type=text]").toggleClass("correct",t.checked).attr("placeholder",t.checked?C:k)}));S(o)};r.on("click",(function(e){e.preventDefault();y++;u.val(y);E()}));E();e.checkForBlankFields(m)};return e}();g.guidelines=function(e){e.find(".btn-guidelines").on("click",(function(e){e.preventDefault();_.toggleClass("guidelines");i.default.defer((function(){_.toggleClass("in")}))}))};g.notesExamples=function(e){f.default.feeditem_modal(e.parent());e.find(".modal-target").each(f.default.modal_events)};g.progressiveFields=function(e){var t=e.data("fields").split(",").map((function(t){return e.find(t)})).filter((function(e){return e.length>0}));var n=function e(){var n=0;var a=false;for(n;n<t.length;n++){t[n].parents(".field").toggleClass("disabled",a);a=a||t[n].val().trim()===""}};i.default.defer((function(){t.forEach((function(e,t){e.on("change",n);e.siblings("input").on("focus",(function(){if(e.parents(".field").hasClass("disabled")){(0,a.default)(this).blur()}}))}))}));n()};g.filterWikis=function(e){var t=e.find(".btn-filter"),n=e.find(".see-more-btn");t.on("click",(function(n){n.preventDefault();var i=(0,a.default)(this),r=i.data("value"),o="needs-writers needs-feedback needs-examples";e.removeClass(o).addClass(r);t.removeClass("active");i.addClass("active")}));n.on("click",(function(){(0,a.default)(this).parents(".publish-wiki-list").addClass("expanded")}))};var j=function e(t,n){var i=y.handle(t,n);c.updateMathjax(i);if(b[n]){b[n].find("form").data("redirect-handler","util/creation_modal:redirectHandler")}(0,a.default)(".publish-list, .publish-wiki-container").addClass("hide")};y.newsfeed_create_post=j;y.newsfeed_create_solvable=j;y.newsfeed_create_wiki=j;e.exports=g},992:function(e,t,n){"use strict";var a=u(n(1));var i=u(n(9));var r=n(3);var o=c(n(55));var s=n(20);var l=u(n(80));function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};if(a.get||a.set){Object.defineProperty(t,n,a)}else{t[n]=e[n]}}}}t.default=e;return t}}function u(e){return e&&e.__esModule?e:{default:e}}var d={};d.loadDeferredComponents=function(e){(0,s.onDOMReady)((function(){r.$window.off("scroll.deferred");var t=0,n=(0,a.default)(".cmp-deferred").toArray();var s=function(){var e=3;return function(){if(!n.length){return}while(t<e){t++;if(n[0]){o.load((0,a.default)(n.shift()))}else{n.shift()}}}}();var c=function(){var e=[],t=5,a=n.length,r=0;return function(n){e.push(n);if(e.length>=t||r+e.length>=a){e.forEach((function(e,t){i.default.defer((function(){l.default.init(e())}));r++}));e=[]}}}();var u=function e(n,a){t--;s();c((function(){return window.vkey.handle(n,a)}))};e.forEach((function(e){window.vkey[e]=u}));s()}))};d.solutionDiscussions=function(e){l.default.init();l.default.add_form();if(!r.isAndroid){d.loadDeferredComponents(["solutiondiscussions_publicsolvablesolutioncomments"])}};d.disputeDiscussions=function(e){l.default.init();l.default.add_form();if(!r.isAndroid){d.loadDeferredComponents(["disputediscussions_publicsolvabledisputelist"])}};d.editProblem=function(){setTimeout((function(){var e=(0,r.jqGetElemByCmpName)("assessment_webview_edit_problem");(0,r.jqGetElemById)("question-text-edit").click();e.addClass("in");window.vkey.assessment_webview_edit_problem=function(t,n){if(t.new_html.indexOf("webview_solvable_saved")!==-1){e.hide();window.location="problem://saved"}else{window.vkey.handle(t,n)}}}),100)};e.exports=d}});
//# sourceMappingURL=brilliant_entry.3a1e9cb6af788813c391.js.map